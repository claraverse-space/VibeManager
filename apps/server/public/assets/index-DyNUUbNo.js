var Vh=u=>{throw TypeError(u)};var kl=(u,c,_)=>c.has(u)||Vh("Cannot "+_);var $=(u,c,_)=>(kl(u,c,"read from private field"),_?_.call(u):c.get(u)),we=(u,c,_)=>c.has(u)?Vh("Cannot add the same private member more than once"):c instanceof WeakSet?c.add(u):c.set(u,_),_e=(u,c,_,E)=>(kl(u,c,"write to private field"),E?E.call(u,_):c.set(u,_),_),Re=(u,c,_)=>(kl(u,c,"access private method"),_);var Eo=(u,c,_,E)=>({set _(A){_e(u,c,A,_)},get _(){return $(u,c,E)}});(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))E(A);new MutationObserver(A=>{for(const j of A)if(j.type==="childList")for(const I of j.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&E(I)}).observe(document,{childList:!0,subtree:!0});function _(A){const j={};return A.integrity&&(j.integrity=A.integrity),A.referrerPolicy&&(j.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?j.credentials="include":A.crossOrigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function E(A){if(A.ep)return;A.ep=!0;const j=_(A);fetch(A.href,j)}})();function Ad(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var El={exports:{}},nn={},Rl={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function i_(){if(qh)return De;qh=1;var u=Symbol.for("react.element"),c=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),I=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),d=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=d&&D[d]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,m={};function n(D,N,ee){this.props=D,this.context=N,this.refs=m,this.updater=ee||w}n.prototype.isReactComponent={},n.prototype.setState=function(D,N){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,N,"setState")},n.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function a(){}a.prototype=n.prototype;function i(D,N,ee){this.props=D,this.context=N,this.refs=m,this.updater=ee||w}var l=i.prototype=new a;l.constructor=i,k(l,n.prototype),l.isPureReactComponent=!0;var p=Array.isArray,b=Object.prototype.hasOwnProperty,x={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function C(D,N,ee){var se,ue={},he=null,V=null;if(N!=null)for(se in N.ref!==void 0&&(V=N.ref),N.key!==void 0&&(he=""+N.key),N)b.call(N,se)&&!R.hasOwnProperty(se)&&(ue[se]=N[se]);var M=arguments.length-2;if(M===1)ue.children=ee;else if(1<M){for(var re=Array(M),Z=0;Z<M;Z++)re[Z]=arguments[Z+2];ue.children=re}if(D&&D.defaultProps)for(se in M=D.defaultProps,M)ue[se]===void 0&&(ue[se]=M[se]);return{$$typeof:u,type:D,key:he,ref:V,props:ue,_owner:x.current}}function T(D,N){return{$$typeof:u,type:D.type,key:N,ref:D.ref,props:D.props,_owner:D._owner}}function z(D){return typeof D=="object"&&D!==null&&D.$$typeof===u}function U(D){var N={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ee){return N[ee]})}var W=/\/+/g;function F(D,N){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):N.toString(36)}function J(D,N,ee,se,ue){var he=typeof D;(he==="undefined"||he==="boolean")&&(D=null);var V=!1;if(D===null)V=!0;else switch(he){case"string":case"number":V=!0;break;case"object":switch(D.$$typeof){case u:case c:V=!0}}if(V)return V=D,ue=ue(V),D=se===""?"."+F(V,0):se,p(ue)?(ee="",D!=null&&(ee=D.replace(W,"$&/")+"/"),J(ue,N,ee,"",function(Z){return Z})):ue!=null&&(z(ue)&&(ue=T(ue,ee+(!ue.key||V&&V.key===ue.key?"":(""+ue.key).replace(W,"$&/")+"/")+D)),N.push(ue)),1;if(V=0,se=se===""?".":se+":",p(D))for(var M=0;M<D.length;M++){he=D[M];var re=se+F(he,M);V+=J(he,N,ee,re,ue)}else if(re=y(D),typeof re=="function")for(D=re.call(D),M=0;!(he=D.next()).done;)he=he.value,re=se+F(he,M++),V+=J(he,N,ee,re,ue);else if(he==="object")throw N=String(D),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return V}function te(D,N,ee){if(D==null)return D;var se=[],ue=0;return J(D,se,"","",function(he){return N.call(ee,he,ue++)}),se}function ne(D){if(D._status===-1){var N=D._result;N=N(),N.then(function(ee){(D._status===0||D._status===-1)&&(D._status=1,D._result=ee)},function(ee){(D._status===0||D._status===-1)&&(D._status=2,D._result=ee)}),D._status===-1&&(D._status=0,D._result=N)}if(D._status===1)return D._result.default;throw D._result}var le={current:null},X={transition:null},L={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:X,ReactCurrentOwner:x};function B(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:te,forEach:function(D,N,ee){te(D,function(){N.apply(this,arguments)},ee)},count:function(D){var N=0;return te(D,function(){N++}),N},toArray:function(D){return te(D,function(N){return N})||[]},only:function(D){if(!z(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},De.Component=n,De.Fragment=_,De.Profiler=A,De.PureComponent=i,De.StrictMode=E,De.Suspense=f,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,De.act=B,De.cloneElement=function(D,N,ee){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var se=k({},D.props),ue=D.key,he=D.ref,V=D._owner;if(N!=null){if(N.ref!==void 0&&(he=N.ref,V=x.current),N.key!==void 0&&(ue=""+N.key),D.type&&D.type.defaultProps)var M=D.type.defaultProps;for(re in N)b.call(N,re)&&!R.hasOwnProperty(re)&&(se[re]=N[re]===void 0&&M!==void 0?M[re]:N[re])}var re=arguments.length-2;if(re===1)se.children=ee;else if(1<re){M=Array(re);for(var Z=0;Z<re;Z++)M[Z]=arguments[Z+2];se.children=M}return{$$typeof:u,type:D.type,key:ue,ref:he,props:se,_owner:V}},De.createContext=function(D){return D={$$typeof:I,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:j,_context:D},D.Consumer=D},De.createElement=C,De.createFactory=function(D){var N=C.bind(null,D);return N.type=D,N},De.createRef=function(){return{current:null}},De.forwardRef=function(D){return{$$typeof:o,render:D}},De.isValidElement=z,De.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:ne}},De.memo=function(D,N){return{$$typeof:v,type:D,compare:N===void 0?null:N}},De.startTransition=function(D){var N=X.transition;X.transition={};try{D()}finally{X.transition=N}},De.unstable_act=B,De.useCallback=function(D,N){return le.current.useCallback(D,N)},De.useContext=function(D){return le.current.useContext(D)},De.useDebugValue=function(){},De.useDeferredValue=function(D){return le.current.useDeferredValue(D)},De.useEffect=function(D,N){return le.current.useEffect(D,N)},De.useId=function(){return le.current.useId()},De.useImperativeHandle=function(D,N,ee){return le.current.useImperativeHandle(D,N,ee)},De.useInsertionEffect=function(D,N){return le.current.useInsertionEffect(D,N)},De.useLayoutEffect=function(D,N){return le.current.useLayoutEffect(D,N)},De.useMemo=function(D,N){return le.current.useMemo(D,N)},De.useReducer=function(D,N,ee){return le.current.useReducer(D,N,ee)},De.useRef=function(D){return le.current.useRef(D)},De.useState=function(D){return le.current.useState(D)},De.useSyncExternalStore=function(D,N,ee){return le.current.useSyncExternalStore(D,N,ee)},De.useTransition=function(){return le.current.useTransition()},De.version="18.3.1",De}var Qh;function Zl(){return Qh||(Qh=1,Rl.exports=i_()),Rl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh;function n_(){if(Gh)return nn;Gh=1;var u=Zl(),c=Symbol.for("react.element"),_=Symbol.for("react.fragment"),E=Object.prototype.hasOwnProperty,A=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j={key:!0,ref:!0,__self:!0,__source:!0};function I(o,f,v){var S,d={},y=null,w=null;v!==void 0&&(y=""+v),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(w=f.ref);for(S in f)E.call(f,S)&&!j.hasOwnProperty(S)&&(d[S]=f[S]);if(o&&o.defaultProps)for(S in f=o.defaultProps,f)d[S]===void 0&&(d[S]=f[S]);return{$$typeof:c,type:o,key:y,ref:w,props:d,_owner:A.current}}return nn.Fragment=_,nn.jsx=I,nn.jsxs=I,nn}var Xh;function o_(){return Xh||(Xh=1,El.exports=n_()),El.exports}var O=o_(),pe=Zl();const ln=Ad(pe);var Ro={},Ll={exports:{}},kt={},Dl={exports:{}},Pl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function a_(){return Jh||(Jh=1,(function(u){function c(X,L){var B=X.length;X.push(L);e:for(;0<B;){var D=B-1>>>1,N=X[D];if(0<A(N,L))X[D]=L,X[B]=N,B=D;else break e}}function _(X){return X.length===0?null:X[0]}function E(X){if(X.length===0)return null;var L=X[0],B=X.pop();if(B!==L){X[0]=B;e:for(var D=0,N=X.length,ee=N>>>1;D<ee;){var se=2*(D+1)-1,ue=X[se],he=se+1,V=X[he];if(0>A(ue,B))he<N&&0>A(V,ue)?(X[D]=V,X[he]=B,D=he):(X[D]=ue,X[se]=B,D=se);else if(he<N&&0>A(V,B))X[D]=V,X[he]=B,D=he;else break e}}return L}function A(X,L){var B=X.sortIndex-L.sortIndex;return B!==0?B:X.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var j=performance;u.unstable_now=function(){return j.now()}}else{var I=Date,o=I.now();u.unstable_now=function(){return I.now()-o}}var f=[],v=[],S=1,d=null,y=3,w=!1,k=!1,m=!1,n=typeof setTimeout=="function"?setTimeout:null,a=typeof clearTimeout=="function"?clearTimeout:null,i=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function l(X){for(var L=_(v);L!==null;){if(L.callback===null)E(v);else if(L.startTime<=X)E(v),L.sortIndex=L.expirationTime,c(f,L);else break;L=_(v)}}function p(X){if(m=!1,l(X),!k)if(_(f)!==null)k=!0,ne(b);else{var L=_(v);L!==null&&le(p,L.startTime-X)}}function b(X,L){k=!1,m&&(m=!1,a(C),C=-1),w=!0;var B=y;try{for(l(L),d=_(f);d!==null&&(!(d.expirationTime>L)||X&&!U());){var D=d.callback;if(typeof D=="function"){d.callback=null,y=d.priorityLevel;var N=D(d.expirationTime<=L);L=u.unstable_now(),typeof N=="function"?d.callback=N:d===_(f)&&E(f),l(L)}else E(f);d=_(f)}if(d!==null)var ee=!0;else{var se=_(v);se!==null&&le(p,se.startTime-L),ee=!1}return ee}finally{d=null,y=B,w=!1}}var x=!1,R=null,C=-1,T=5,z=-1;function U(){return!(u.unstable_now()-z<T)}function W(){if(R!==null){var X=u.unstable_now();z=X;var L=!0;try{L=R(!0,X)}finally{L?F():(x=!1,R=null)}}else x=!1}var F;if(typeof i=="function")F=function(){i(W)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,te=J.port2;J.port1.onmessage=W,F=function(){te.postMessage(null)}}else F=function(){n(W,0)};function ne(X){R=X,x||(x=!0,F())}function le(X,L){C=n(function(){X(u.unstable_now())},L)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(X){X.callback=null},u.unstable_continueExecution=function(){k||w||(k=!0,ne(b))},u.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<X?Math.floor(1e3/X):5},u.unstable_getCurrentPriorityLevel=function(){return y},u.unstable_getFirstCallbackNode=function(){return _(f)},u.unstable_next=function(X){switch(y){case 1:case 2:case 3:var L=3;break;default:L=y}var B=y;y=L;try{return X()}finally{y=B}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(X,L){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var B=y;y=X;try{return L()}finally{y=B}},u.unstable_scheduleCallback=function(X,L,B){var D=u.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?D+B:D):B=D,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=B+N,X={id:S++,callback:L,priorityLevel:X,startTime:B,expirationTime:N,sortIndex:-1},B>D?(X.sortIndex=B,c(v,X),_(f)===null&&X===_(v)&&(m?(a(C),C=-1):m=!0,le(p,B-D))):(X.sortIndex=N,c(f,X),k||w||(k=!0,ne(b))),X},u.unstable_shouldYield=U,u.unstable_wrapCallback=function(X){var L=y;return function(){var B=y;y=L;try{return X.apply(this,arguments)}finally{y=B}}}})(Pl)),Pl}var Yh;function l_(){return Yh||(Yh=1,Dl.exports=a_()),Dl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function c_(){if(Zh)return kt;Zh=1;var u=Zl(),c=l_();function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E=new Set,A={};function j(e,t){I(e,t),I(e+"Capture",t)}function I(e,t){for(A[e]=t,e=0;e<t.length;e++)E.add(t[e])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},d={};function y(e){return f.call(d,e)?!0:f.call(S,e)?!1:v.test(e)?d[e]=!0:(S[e]=!0,!1)}function w(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,t,r,s){if(t===null||typeof t>"u"||w(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function m(e,t,r,s,h,g,P){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=h,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=g,this.removeEmptyString=P}var n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){n[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];n[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){n[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){n[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){n[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){n[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){n[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){n[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){n[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var a=/[\-:]([a-z])/g;function i(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(a,i);n[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(a,i);n[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(a,i);n[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){n[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),n.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){n[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});function l(e,t,r,s){var h=n.hasOwnProperty(t)?n[t]:null;(h!==null?h.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(k(t,r,h,s)&&(r=null),s||h===null?y(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):h.mustUseProperty?e[h.propertyName]=r===null?h.type===3?!1:"":r:(t=h.attributeName,s=h.attributeNamespace,r===null?e.removeAttribute(t):(h=h.type,r=h===3||h===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var p=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),U=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),X=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var B=Object.assign,D;function N(e){if(D===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return`
`+D+e}var ee=!1;function se(e,t){if(!e||ee)return"";ee=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(Y){var s=Y}Reflect.construct(e,[],t)}else{try{t.call()}catch(Y){s=Y}e.call(t.prototype)}else{try{throw Error()}catch(Y){s=Y}e()}}catch(Y){if(Y&&s&&typeof Y.stack=="string"){for(var h=Y.stack.split(`
`),g=s.stack.split(`
`),P=h.length-1,H=g.length-1;1<=P&&0<=H&&h[P]!==g[H];)H--;for(;1<=P&&0<=H;P--,H--)if(h[P]!==g[H]){if(P!==1||H!==1)do if(P--,H--,0>H||h[P]!==g[H]){var K=`
`+h[P].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=P&&0<=H);break}}}finally{ee=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?N(e):""}function ue(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function he(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case x:return"Portal";case T:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case J:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case U:return(e.displayName||"Context")+".Consumer";case z:return(e._context.displayName||"Context")+".Provider";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return t=e.displayName||null,t!==null?t:he(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return he(e(t))}catch{}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function M(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function re(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Z(e){var t=re(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,g=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(P){s=""+P,g.call(this,P)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(P){s=""+P},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fe(e){e._valueTracker||(e._valueTracker=Z(e))}function de(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=re(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Le(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Be(e,t){var r=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ne(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=M(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function it(e,t){t=t.checked,t!=null&&l(e,"checked",t,!1)}function be(e,t){it(e,t);var r=M(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ls(e,t.type,r):t.hasOwnProperty("defaultValue")&&ls(e,t.type,M(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Er(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ls(e,t,r){(t!=="number"||Le(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var cr=Array.isArray;function er(e,t,r,s){if(e=e.options,t){t={};for(var h=0;h<r.length;h++)t["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=t.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&s&&(e[r].defaultSelected=!0)}else{for(r=""+M(r),t=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,s&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function Rr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pt(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_(92));if(cr(r)){if(1<r.length)throw Error(_(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:M(r)}}function Lr(e,t){var r=M(t.value),s=M(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Lt(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Dt,us=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,h){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,h)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Dt=Dt||document.createElement("div"),Dt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Dt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var $t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},je=["Webkit","ms","Moz","O"];Object.keys($t).forEach(function(e){je.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$t[t]=$t[e]})});function mn(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||$t.hasOwnProperty(e)&&$t[e]?(""+t).trim():t+"px"}function lc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,h=mn(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,h):e[r]=h}}var cf=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function No(e,t){if(t){if(cf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function jo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=null;function Ho(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zo=null,Is=null,Ns=null;function cc(e){if(e=Wi(e)){if(typeof zo!="function")throw Error(_(280));var t=e.stateNode;t&&(t=Hn(t),zo(e.stateNode,e.type,t))}}function uc(e){Is?Ns?Ns.push(e):Ns=[e]:Is=e}function hc(){if(Is){var e=Is,t=Ns;if(Ns=Is=null,cc(e),t)for(e=0;e<t.length;e++)cc(t[e])}}function dc(e,t){return e(t)}function fc(){}var Uo=!1;function pc(e,t,r){if(Uo)return e(t,r);Uo=!0;try{return dc(e,t,r)}finally{Uo=!1,(Is!==null||Ns!==null)&&(fc(),hc())}}function Ci(e,t){var r=e.stateNode;if(r===null)return null;var s=Hn(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_(231,t,typeof r));return r}var Wo=!1;if(o)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{Wo=!1}function uf(e,t,r,s,h,g,P,H,K){var Y=Array.prototype.slice.call(arguments,3);try{t.apply(r,Y)}catch(oe){this.onError(oe)}}var bi=!1,gn=null,yn=!1,$o=null,hf={onError:function(e){bi=!0,gn=e}};function df(e,t,r,s,h,g,P,H,K){bi=!1,gn=null,uf.apply(hf,arguments)}function ff(e,t,r,s,h,g,P,H,K){if(df.apply(this,arguments),bi){if(bi){var Y=gn;bi=!1,gn=null}else throw Error(_(198));yn||(yn=!0,$o=Y)}}function hs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function _c(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vc(e){if(hs(e)!==e)throw Error(_(188))}function pf(e){var t=e.alternate;if(!t){if(t=hs(e),t===null)throw Error(_(188));return t!==e?null:e}for(var r=e,s=t;;){var h=r.return;if(h===null)break;var g=h.alternate;if(g===null){if(s=h.return,s!==null){r=s;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===r)return vc(h),e;if(g===s)return vc(h),t;g=g.sibling}throw Error(_(188))}if(r.return!==s.return)r=h,s=g;else{for(var P=!1,H=h.child;H;){if(H===r){P=!0,r=h,s=g;break}if(H===s){P=!0,s=h,r=g;break}H=H.sibling}if(!P){for(H=g.child;H;){if(H===r){P=!0,r=g,s=h;break}if(H===s){P=!0,s=g,r=h;break}H=H.sibling}if(!P)throw Error(_(189))}}if(r.alternate!==s)throw Error(_(190))}if(r.tag!==3)throw Error(_(188));return r.stateNode.current===r?e:t}function mc(e){return e=pf(e),e!==null?gc(e):null}function gc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gc(e);if(t!==null)return t;e=e.sibling}return null}var yc=c.unstable_scheduleCallback,Sc=c.unstable_cancelCallback,_f=c.unstable_shouldYield,vf=c.unstable_requestPaint,qe=c.unstable_now,mf=c.unstable_getCurrentPriorityLevel,Ko=c.unstable_ImmediatePriority,wc=c.unstable_UserBlockingPriority,Sn=c.unstable_NormalPriority,gf=c.unstable_LowPriority,Cc=c.unstable_IdlePriority,wn=null,tr=null;function yf(e){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(wn,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Cf,Sf=Math.log,wf=Math.LN2;function Cf(e){return e>>>=0,e===0?32:31-(Sf(e)/wf|0)|0}var Cn=64,xn=4194304;function ki(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bn(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,h=e.suspendedLanes,g=e.pingedLanes,P=r&268435455;if(P!==0){var H=P&~h;H!==0?s=ki(H):(g&=P,g!==0&&(s=ki(g)))}else P=r&~h,P!==0?s=ki(P):g!==0&&(s=ki(g));if(s===0)return 0;if(t!==0&&t!==s&&(t&h)===0&&(h=s&-s,g=t&-t,h>=g||h===16&&(g&4194240)!==0))return t;if((s&4)!==0&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Kt(t),h=1<<r,s|=e[r],t&=~h;return s}function xf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bf(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,h=e.expirationTimes,g=e.pendingLanes;0<g;){var P=31-Kt(g),H=1<<P,K=h[P];K===-1?((H&r)===0||(H&s)!==0)&&(h[P]=xf(H,t)):K<=t&&(e.expiredLanes|=H),g&=~H}}function Vo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xc(){var e=Cn;return Cn<<=1,(Cn&4194240)===0&&(Cn=64),e}function qo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ei(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kt(t),e[t]=r}function kf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var h=31-Kt(r),g=1<<h;t[h]=0,s[h]=-1,e[h]=-1,r&=~g}}function Qo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Kt(r),h=1<<s;h&t|e[s]&t&&(e[s]|=t),r&=~h}}var Oe=0;function bc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var kc,Go,Ec,Rc,Lc,Xo=!1,kn=[],Pr=null,Tr=null,Mr=null,Ri=new Map,Li=new Map,Ar=[],Ef="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dc(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Ri.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function Di(e,t,r,s,h,g){return e===null||e.nativeEvent!==g?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:g,targetContainers:[h]},t!==null&&(t=Wi(t),t!==null&&Go(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function Rf(e,t,r,s,h){switch(t){case"focusin":return Pr=Di(Pr,e,t,r,s,h),!0;case"dragenter":return Tr=Di(Tr,e,t,r,s,h),!0;case"mouseover":return Mr=Di(Mr,e,t,r,s,h),!0;case"pointerover":var g=h.pointerId;return Ri.set(g,Di(Ri.get(g)||null,e,t,r,s,h)),!0;case"gotpointercapture":return g=h.pointerId,Li.set(g,Di(Li.get(g)||null,e,t,r,s,h)),!0}return!1}function Pc(e){var t=ds(e.target);if(t!==null){var r=hs(t);if(r!==null){if(t=r.tag,t===13){if(t=_c(r),t!==null){e.blockedOn=t,Lc(e.priority,function(){Ec(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function En(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Fo=s,r.target.dispatchEvent(s),Fo=null}else return t=Wi(r),t!==null&&Go(t),e.blockedOn=r,!1;t.shift()}return!0}function Tc(e,t,r){En(e)&&r.delete(t)}function Lf(){Xo=!1,Pr!==null&&En(Pr)&&(Pr=null),Tr!==null&&En(Tr)&&(Tr=null),Mr!==null&&En(Mr)&&(Mr=null),Ri.forEach(Tc),Li.forEach(Tc)}function Pi(e,t){e.blockedOn===t&&(e.blockedOn=null,Xo||(Xo=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Lf)))}function Ti(e){function t(h){return Pi(h,e)}if(0<kn.length){Pi(kn[0],e);for(var r=1;r<kn.length;r++){var s=kn[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Pr!==null&&Pi(Pr,e),Tr!==null&&Pi(Tr,e),Mr!==null&&Pi(Mr,e),Ri.forEach(t),Li.forEach(t),r=0;r<Ar.length;r++)s=Ar[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ar.length&&(r=Ar[0],r.blockedOn===null);)Pc(r),r.blockedOn===null&&Ar.shift()}var js=p.ReactCurrentBatchConfig,Rn=!0;function Df(e,t,r,s){var h=Oe,g=js.transition;js.transition=null;try{Oe=1,Jo(e,t,r,s)}finally{Oe=h,js.transition=g}}function Pf(e,t,r,s){var h=Oe,g=js.transition;js.transition=null;try{Oe=4,Jo(e,t,r,s)}finally{Oe=h,js.transition=g}}function Jo(e,t,r,s){if(Rn){var h=Yo(e,t,r,s);if(h===null)_a(e,t,s,Ln,r),Dc(e,s);else if(Rf(h,e,t,r,s))s.stopPropagation();else if(Dc(e,s),t&4&&-1<Ef.indexOf(e)){for(;h!==null;){var g=Wi(h);if(g!==null&&kc(g),g=Yo(e,t,r,s),g===null&&_a(e,t,s,Ln,r),g===h)break;h=g}h!==null&&s.stopPropagation()}else _a(e,t,s,null,r)}}var Ln=null;function Yo(e,t,r,s){if(Ln=null,e=Ho(s),e=ds(e),e!==null)if(t=hs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=_c(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ln=e,null}function Mc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mf()){case Ko:return 1;case wc:return 4;case Sn:case gf:return 16;case Cc:return 536870912;default:return 16}default:return 16}}var Or=null,Zo=null,Dn=null;function Ac(){if(Dn)return Dn;var e,t=Zo,r=t.length,s,h="value"in Or?Or.value:Or.textContent,g=h.length;for(e=0;e<r&&t[e]===h[e];e++);var P=r-e;for(s=1;s<=P&&t[r-s]===h[g-s];s++);return Dn=h.slice(e,1<s?1-s:void 0)}function Pn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tn(){return!0}function Oc(){return!1}function Pt(e){function t(r,s,h,g,P){this._reactName=r,this._targetInst=h,this.type=s,this.nativeEvent=g,this.target=P,this.currentTarget=null;for(var H in e)e.hasOwnProperty(H)&&(r=e[H],this[H]=r?r(g):g[H]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Tn:Oc,this.isPropagationStopped=Oc,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Tn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Tn)},persist:function(){},isPersistent:Tn}),t}var Fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Pt(Fs),Mi=B({},Fs,{view:0,detail:0}),Tf=Pt(Mi),ta,ra,Ai,Mn=B({},Mi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(ta=e.screenX-Ai.screenX,ra=e.screenY-Ai.screenY):ra=ta=0,Ai=e),ta)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),Bc=Pt(Mn),Mf=B({},Mn,{dataTransfer:0}),Af=Pt(Mf),Of=B({},Mi,{relatedTarget:0}),sa=Pt(Of),Bf=B({},Fs,{animationName:0,elapsedTime:0,pseudoElement:0}),If=Pt(Bf),Nf=B({},Fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jf=Pt(Nf),Ff=B({},Fs,{data:0}),Ic=Pt(Ff),Hf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uf[e])?!!t[e]:!1}function ia(){return Wf}var $f=B({},Mi,{key:function(e){if(e.key){var t=Hf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(e){return e.type==="keypress"?Pn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kf=Pt($f),Vf=B({},Mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nc=Pt(Vf),qf=B({},Mi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),Qf=Pt(qf),Gf=B({},Fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xf=Pt(Gf),Jf=B({},Mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yf=Pt(Jf),Zf=[9,13,27,32],na=o&&"CompositionEvent"in window,Oi=null;o&&"documentMode"in document&&(Oi=document.documentMode);var ep=o&&"TextEvent"in window&&!Oi,jc=o&&(!na||Oi&&8<Oi&&11>=Oi),Fc=" ",Hc=!1;function zc(e,t){switch(e){case"keyup":return Zf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hs=!1;function tp(e,t){switch(e){case"compositionend":return Uc(t);case"keypress":return t.which!==32?null:(Hc=!0,Fc);case"textInput":return e=t.data,e===Fc&&Hc?null:e;default:return null}}function rp(e,t){if(Hs)return e==="compositionend"||!na&&zc(e,t)?(e=Ac(),Dn=Zo=Or=null,Hs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jc&&t.locale!=="ko"?null:t.data;default:return null}}var sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sp[e.type]:t==="textarea"}function $c(e,t,r,s){uc(s),t=Nn(t,"onChange"),0<t.length&&(r=new ea("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Bi=null,Ii=null;function ip(e){lu(e,0)}function An(e){var t=Ks(e);if(de(t))return e}function np(e,t){if(e==="change")return t}var Kc=!1;if(o){var oa;if(o){var aa="oninput"in document;if(!aa){var Vc=document.createElement("div");Vc.setAttribute("oninput","return;"),aa=typeof Vc.oninput=="function"}oa=aa}else oa=!1;Kc=oa&&(!document.documentMode||9<document.documentMode)}function qc(){Bi&&(Bi.detachEvent("onpropertychange",Qc),Ii=Bi=null)}function Qc(e){if(e.propertyName==="value"&&An(Ii)){var t=[];$c(t,Ii,e,Ho(e)),pc(ip,t)}}function op(e,t,r){e==="focusin"?(qc(),Bi=t,Ii=r,Bi.attachEvent("onpropertychange",Qc)):e==="focusout"&&qc()}function ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return An(Ii)}function lp(e,t){if(e==="click")return An(t)}function cp(e,t){if(e==="input"||e==="change")return An(t)}function up(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:up;function Ni(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var h=r[s];if(!f.call(t,h)||!Vt(e[h],t[h]))return!1}return!0}function Gc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xc(e,t){var r=Gc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gc(r)}}function Jc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yc(){for(var e=window,t=Le();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Le(e.document)}return t}function la(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hp(e){var t=Yc(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Jc(r.ownerDocument.documentElement,r)){if(s!==null&&la(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=r.textContent.length,g=Math.min(s.start,h);s=s.end===void 0?g:Math.min(s.end,h),!e.extend&&g>s&&(h=s,s=g,g=h),h=Xc(r,g);var P=Xc(r,s);h&&P&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==P.node||e.focusOffset!==P.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),g>s?(e.addRange(t),e.extend(P.node,P.offset)):(t.setEnd(P.node,P.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dp=o&&"documentMode"in document&&11>=document.documentMode,zs=null,ca=null,ji=null,ua=!1;function Zc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ua||zs==null||zs!==Le(s)||(s=zs,"selectionStart"in s&&la(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ji&&Ni(ji,s)||(ji=s,s=Nn(ca,"onSelect"),0<s.length&&(t=new ea("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=zs)))}function On(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Us={animationend:On("Animation","AnimationEnd"),animationiteration:On("Animation","AnimationIteration"),animationstart:On("Animation","AnimationStart"),transitionend:On("Transition","TransitionEnd")},ha={},eu={};o&&(eu=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Bn(e){if(ha[e])return ha[e];if(!Us[e])return e;var t=Us[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in eu)return ha[e]=t[r];return e}var tu=Bn("animationend"),ru=Bn("animationiteration"),su=Bn("animationstart"),iu=Bn("transitionend"),nu=new Map,ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,t){nu.set(e,t),j(t,[e])}for(var da=0;da<ou.length;da++){var fa=ou[da],fp=fa.toLowerCase(),pp=fa[0].toUpperCase()+fa.slice(1);Br(fp,"on"+pp)}Br(tu,"onAnimationEnd"),Br(ru,"onAnimationIteration"),Br(su,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(iu,"onTransitionEnd"),I("onMouseEnter",["mouseout","mouseover"]),I("onMouseLeave",["mouseout","mouseover"]),I("onPointerEnter",["pointerout","pointerover"]),I("onPointerLeave",["pointerout","pointerover"]),j("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),j("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),j("onBeforeInput",["compositionend","keypress","textInput","paste"]),j("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),j("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),j("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_p=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function au(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,ff(s,t,void 0,e),e.currentTarget=null}function lu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],h=s.event;s=s.listeners;e:{var g=void 0;if(t)for(var P=s.length-1;0<=P;P--){var H=s[P],K=H.instance,Y=H.currentTarget;if(H=H.listener,K!==g&&h.isPropagationStopped())break e;au(h,H,Y),g=K}else for(P=0;P<s.length;P++){if(H=s[P],K=H.instance,Y=H.currentTarget,H=H.listener,K!==g&&h.isPropagationStopped())break e;au(h,H,Y),g=K}}}if(yn)throw e=$o,yn=!1,$o=null,e}function Fe(e,t){var r=t[wa];r===void 0&&(r=t[wa]=new Set);var s=e+"__bubble";r.has(s)||(cu(t,e,2,!1),r.add(s))}function pa(e,t,r){var s=0;t&&(s|=4),cu(r,e,s,t)}var In="_reactListening"+Math.random().toString(36).slice(2);function Hi(e){if(!e[In]){e[In]=!0,E.forEach(function(r){r!=="selectionchange"&&(_p.has(r)||pa(r,!1,e),pa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[In]||(t[In]=!0,pa("selectionchange",!1,t))}}function cu(e,t,r,s){switch(Mc(t)){case 1:var h=Df;break;case 4:h=Pf;break;default:h=Jo}r=h.bind(null,t,r,e),h=void 0,!Wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),s?h!==void 0?e.addEventListener(t,r,{capture:!0,passive:h}):e.addEventListener(t,r,!0):h!==void 0?e.addEventListener(t,r,{passive:h}):e.addEventListener(t,r,!1)}function _a(e,t,r,s,h){var g=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var P=s.tag;if(P===3||P===4){var H=s.stateNode.containerInfo;if(H===h||H.nodeType===8&&H.parentNode===h)break;if(P===4)for(P=s.return;P!==null;){var K=P.tag;if((K===3||K===4)&&(K=P.stateNode.containerInfo,K===h||K.nodeType===8&&K.parentNode===h))return;P=P.return}for(;H!==null;){if(P=ds(H),P===null)return;if(K=P.tag,K===5||K===6){s=g=P;continue e}H=H.parentNode}}s=s.return}pc(function(){var Y=g,oe=Ho(r),ae=[];e:{var ie=nu.get(e);if(ie!==void 0){var ve=ea,ge=e;switch(e){case"keypress":if(Pn(r)===0)break e;case"keydown":case"keyup":ve=Kf;break;case"focusin":ge="focus",ve=sa;break;case"focusout":ge="blur",ve=sa;break;case"beforeblur":case"afterblur":ve=sa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Qf;break;case tu:case ru:case su:ve=If;break;case iu:ve=Xf;break;case"scroll":ve=Tf;break;case"wheel":ve=Yf;break;case"copy":case"cut":case"paste":ve=jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Nc}var ye=(t&4)!==0,Qe=!ye&&e==="scroll",Q=ye?ie!==null?ie+"Capture":null:ie;ye=[];for(var q=Y,G;q!==null;){G=q;var ce=G.stateNode;if(G.tag===5&&ce!==null&&(G=ce,Q!==null&&(ce=Ci(q,Q),ce!=null&&ye.push(zi(q,ce,G)))),Qe)break;q=q.return}0<ye.length&&(ie=new ve(ie,ge,null,r,oe),ae.push({event:ie,listeners:ye}))}}if((t&7)===0){e:{if(ie=e==="mouseover"||e==="pointerover",ve=e==="mouseout"||e==="pointerout",ie&&r!==Fo&&(ge=r.relatedTarget||r.fromElement)&&(ds(ge)||ge[ur]))break e;if((ve||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,ve?(ge=r.relatedTarget||r.toElement,ve=Y,ge=ge?ds(ge):null,ge!==null&&(Qe=hs(ge),ge!==Qe||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(ve=null,ge=Y),ve!==ge)){if(ye=Bc,ce="onMouseLeave",Q="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(ye=Nc,ce="onPointerLeave",Q="onPointerEnter",q="pointer"),Qe=ve==null?ie:Ks(ve),G=ge==null?ie:Ks(ge),ie=new ye(ce,q+"leave",ve,r,oe),ie.target=Qe,ie.relatedTarget=G,ce=null,ds(oe)===Y&&(ye=new ye(Q,q+"enter",ge,r,oe),ye.target=G,ye.relatedTarget=Qe,ce=ye),Qe=ce,ve&&ge)t:{for(ye=ve,Q=ge,q=0,G=ye;G;G=Ws(G))q++;for(G=0,ce=Q;ce;ce=Ws(ce))G++;for(;0<q-G;)ye=Ws(ye),q--;for(;0<G-q;)Q=Ws(Q),G--;for(;q--;){if(ye===Q||Q!==null&&ye===Q.alternate)break t;ye=Ws(ye),Q=Ws(Q)}ye=null}else ye=null;ve!==null&&uu(ae,ie,ve,ye,!1),ge!==null&&Qe!==null&&uu(ae,Qe,ge,ye,!0)}}e:{if(ie=Y?Ks(Y):window,ve=ie.nodeName&&ie.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ie.type==="file")var Se=np;else if(Wc(ie))if(Kc)Se=cp;else{Se=ap;var Ce=op}else(ve=ie.nodeName)&&ve.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Se=lp);if(Se&&(Se=Se(e,Y))){$c(ae,Se,r,oe);break e}Ce&&Ce(e,ie,Y),e==="focusout"&&(Ce=ie._wrapperState)&&Ce.controlled&&ie.type==="number"&&ls(ie,"number",ie.value)}switch(Ce=Y?Ks(Y):window,e){case"focusin":(Wc(Ce)||Ce.contentEditable==="true")&&(zs=Ce,ca=Y,ji=null);break;case"focusout":ji=ca=zs=null;break;case"mousedown":ua=!0;break;case"contextmenu":case"mouseup":case"dragend":ua=!1,Zc(ae,r,oe);break;case"selectionchange":if(dp)break;case"keydown":case"keyup":Zc(ae,r,oe)}var xe;if(na)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Hs?zc(e,r)&&(ke="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ke="onCompositionStart");ke&&(jc&&r.locale!=="ko"&&(Hs||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Hs&&(xe=Ac()):(Or=oe,Zo="value"in Or?Or.value:Or.textContent,Hs=!0)),Ce=Nn(Y,ke),0<Ce.length&&(ke=new Ic(ke,e,null,r,oe),ae.push({event:ke,listeners:Ce}),xe?ke.data=xe:(xe=Uc(r),xe!==null&&(ke.data=xe)))),(xe=ep?tp(e,r):rp(e,r))&&(Y=Nn(Y,"onBeforeInput"),0<Y.length&&(oe=new Ic("onBeforeInput","beforeinput",null,r,oe),ae.push({event:oe,listeners:Y}),oe.data=xe))}lu(ae,t)})}function zi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Nn(e,t){for(var r=t+"Capture",s=[];e!==null;){var h=e,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=Ci(e,r),g!=null&&s.unshift(zi(e,g,h)),g=Ci(e,t),g!=null&&s.push(zi(e,g,h))),e=e.return}return s}function Ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uu(e,t,r,s,h){for(var g=t._reactName,P=[];r!==null&&r!==s;){var H=r,K=H.alternate,Y=H.stateNode;if(K!==null&&K===s)break;H.tag===5&&Y!==null&&(H=Y,h?(K=Ci(r,g),K!=null&&P.unshift(zi(r,K,H))):h||(K=Ci(r,g),K!=null&&P.push(zi(r,K,H)))),r=r.return}P.length!==0&&e.push({event:t,listeners:P})}var vp=/\r\n?/g,mp=/\u0000|\uFFFD/g;function hu(e){return(typeof e=="string"?e:""+e).replace(vp,`
`).replace(mp,"")}function jn(e,t,r){if(t=hu(t),hu(e)!==t&&r)throw Error(_(425))}function Fn(){}var va=null,ma=null;function ga(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ya=typeof setTimeout=="function"?setTimeout:void 0,gp=typeof clearTimeout=="function"?clearTimeout:void 0,du=typeof Promise=="function"?Promise:void 0,yp=typeof queueMicrotask=="function"?queueMicrotask:typeof du<"u"?function(e){return du.resolve(null).then(e).catch(Sp)}:ya;function Sp(e){setTimeout(function(){throw e})}function Sa(e,t){var r=t,s=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(s===0){e.removeChild(h),Ti(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=h}while(r);Ti(t)}function Ir(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $s=Math.random().toString(36).slice(2),rr="__reactFiber$"+$s,Ui="__reactProps$"+$s,ur="__reactContainer$"+$s,wa="__reactEvents$"+$s,wp="__reactListeners$"+$s,Cp="__reactHandles$"+$s;function ds(e){var t=e[rr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ur]||r[rr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fu(e);e!==null;){if(r=e[rr])return r;e=fu(e)}return t}e=r,r=e.parentNode}return null}function Wi(e){return e=e[rr]||e[ur],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ks(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function Hn(e){return e[Ui]||null}var Ca=[],Vs=-1;function Nr(e){return{current:e}}function He(e){0>Vs||(e.current=Ca[Vs],Ca[Vs]=null,Vs--)}function Ie(e,t){Vs++,Ca[Vs]=e.current,e.current=t}var jr={},ct=Nr(jr),St=Nr(!1),fs=jr;function qs(e,t){var r=e.type.contextTypes;if(!r)return jr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in r)h[g]=t[g];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function wt(e){return e=e.childContextTypes,e!=null}function zn(){He(St),He(ct)}function pu(e,t,r){if(ct.current!==jr)throw Error(_(168));Ie(ct,t),Ie(St,r)}function _u(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var h in s)if(!(h in t))throw Error(_(108,V(e)||"Unknown",h));return B({},r,s)}function Un(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jr,fs=ct.current,Ie(ct,e),Ie(St,St.current),!0}function vu(e,t,r){var s=e.stateNode;if(!s)throw Error(_(169));r?(e=_u(e,t,fs),s.__reactInternalMemoizedMergedChildContext=e,He(St),He(ct),Ie(ct,e)):He(St),Ie(St,r)}var hr=null,Wn=!1,xa=!1;function mu(e){hr===null?hr=[e]:hr.push(e)}function xp(e){Wn=!0,mu(e)}function Fr(){if(!xa&&hr!==null){xa=!0;var e=0,t=Oe;try{var r=hr;for(Oe=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}hr=null,Wn=!1}catch(h){throw hr!==null&&(hr=hr.slice(e+1)),yc(Ko,Fr),h}finally{Oe=t,xa=!1}}return null}var Qs=[],Gs=0,$n=null,Kn=0,Ot=[],Bt=0,ps=null,dr=1,fr="";function _s(e,t){Qs[Gs++]=Kn,Qs[Gs++]=$n,$n=e,Kn=t}function gu(e,t,r){Ot[Bt++]=dr,Ot[Bt++]=fr,Ot[Bt++]=ps,ps=e;var s=dr;e=fr;var h=32-Kt(s)-1;s&=~(1<<h),r+=1;var g=32-Kt(t)+h;if(30<g){var P=h-h%5;g=(s&(1<<P)-1).toString(32),s>>=P,h-=P,dr=1<<32-Kt(t)+h|r<<h|s,fr=g+e}else dr=1<<g|r<<h|s,fr=e}function ba(e){e.return!==null&&(_s(e,1),gu(e,1,0))}function ka(e){for(;e===$n;)$n=Qs[--Gs],Qs[Gs]=null,Kn=Qs[--Gs],Qs[Gs]=null;for(;e===ps;)ps=Ot[--Bt],Ot[Bt]=null,fr=Ot[--Bt],Ot[Bt]=null,dr=Ot[--Bt],Ot[Bt]=null}var Tt=null,Mt=null,Ue=!1,qt=null;function yu(e,t){var r=Ft(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Su(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,Mt=Ir(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,Mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ps!==null?{id:dr,overflow:fr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ft(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Tt=e,Mt=null,!0):!1;default:return!1}}function Ea(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ra(e){if(Ue){var t=Mt;if(t){var r=t;if(!Su(e,t)){if(Ea(e))throw Error(_(418));t=Ir(r.nextSibling);var s=Tt;t&&Su(e,t)?yu(s,r):(e.flags=e.flags&-4097|2,Ue=!1,Tt=e)}}else{if(Ea(e))throw Error(_(418));e.flags=e.flags&-4097|2,Ue=!1,Tt=e}}}function wu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function Vn(e){if(e!==Tt)return!1;if(!Ue)return wu(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ga(e.type,e.memoizedProps)),t&&(t=Mt)){if(Ea(e))throw Cu(),Error(_(418));for(;t;)yu(e,t),t=Ir(t.nextSibling)}if(wu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mt=Ir(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mt=null}}else Mt=Tt?Ir(e.stateNode.nextSibling):null;return!0}function Cu(){for(var e=Mt;e;)e=Ir(e.nextSibling)}function Xs(){Mt=Tt=null,Ue=!1}function La(e){qt===null?qt=[e]:qt.push(e)}var bp=p.ReactCurrentBatchConfig;function $i(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_(309));var s=r.stateNode}if(!s)throw Error(_(147,e));var h=s,g=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===g?t.ref:(t=function(P){var H=h.refs;P===null?delete H[g]:H[g]=P},t._stringRef=g,t)}if(typeof e!="string")throw Error(_(284));if(!r._owner)throw Error(_(290,e))}return e}function qn(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xu(e){var t=e._init;return t(e._payload)}function bu(e){function t(Q,q){if(e){var G=Q.deletions;G===null?(Q.deletions=[q],Q.flags|=16):G.push(q)}}function r(Q,q){if(!e)return null;for(;q!==null;)t(Q,q),q=q.sibling;return null}function s(Q,q){for(Q=new Map;q!==null;)q.key!==null?Q.set(q.key,q):Q.set(q.index,q),q=q.sibling;return Q}function h(Q,q){return Q=qr(Q,q),Q.index=0,Q.sibling=null,Q}function g(Q,q,G){return Q.index=G,e?(G=Q.alternate,G!==null?(G=G.index,G<q?(Q.flags|=2,q):G):(Q.flags|=2,q)):(Q.flags|=1048576,q)}function P(Q){return e&&Q.alternate===null&&(Q.flags|=2),Q}function H(Q,q,G,ce){return q===null||q.tag!==6?(q=yl(G,Q.mode,ce),q.return=Q,q):(q=h(q,G),q.return=Q,q)}function K(Q,q,G,ce){var Se=G.type;return Se===R?oe(Q,q,G.props.children,ce,G.key):q!==null&&(q.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===ne&&xu(Se)===q.type)?(ce=h(q,G.props),ce.ref=$i(Q,q,G),ce.return=Q,ce):(ce=go(G.type,G.key,G.props,null,Q.mode,ce),ce.ref=$i(Q,q,G),ce.return=Q,ce)}function Y(Q,q,G,ce){return q===null||q.tag!==4||q.stateNode.containerInfo!==G.containerInfo||q.stateNode.implementation!==G.implementation?(q=Sl(G,Q.mode,ce),q.return=Q,q):(q=h(q,G.children||[]),q.return=Q,q)}function oe(Q,q,G,ce,Se){return q===null||q.tag!==7?(q=xs(G,Q.mode,ce,Se),q.return=Q,q):(q=h(q,G),q.return=Q,q)}function ae(Q,q,G){if(typeof q=="string"&&q!==""||typeof q=="number")return q=yl(""+q,Q.mode,G),q.return=Q,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return G=go(q.type,q.key,q.props,null,Q.mode,G),G.ref=$i(Q,null,q),G.return=Q,G;case x:return q=Sl(q,Q.mode,G),q.return=Q,q;case ne:var ce=q._init;return ae(Q,ce(q._payload),G)}if(cr(q)||L(q))return q=xs(q,Q.mode,G,null),q.return=Q,q;qn(Q,q)}return null}function ie(Q,q,G,ce){var Se=q!==null?q.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Se!==null?null:H(Q,q,""+G,ce);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===Se?K(Q,q,G,ce):null;case x:return G.key===Se?Y(Q,q,G,ce):null;case ne:return Se=G._init,ie(Q,q,Se(G._payload),ce)}if(cr(G)||L(G))return Se!==null?null:oe(Q,q,G,ce,null);qn(Q,G)}return null}function ve(Q,q,G,ce,Se){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Q=Q.get(G)||null,H(q,Q,""+ce,Se);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return Q=Q.get(ce.key===null?G:ce.key)||null,K(q,Q,ce,Se);case x:return Q=Q.get(ce.key===null?G:ce.key)||null,Y(q,Q,ce,Se);case ne:var Ce=ce._init;return ve(Q,q,G,Ce(ce._payload),Se)}if(cr(ce)||L(ce))return Q=Q.get(G)||null,oe(q,Q,ce,Se,null);qn(q,ce)}return null}function ge(Q,q,G,ce){for(var Se=null,Ce=null,xe=q,ke=q=0,tt=null;xe!==null&&ke<G.length;ke++){xe.index>ke?(tt=xe,xe=null):tt=xe.sibling;var Me=ie(Q,xe,G[ke],ce);if(Me===null){xe===null&&(xe=tt);break}e&&xe&&Me.alternate===null&&t(Q,xe),q=g(Me,q,ke),Ce===null?Se=Me:Ce.sibling=Me,Ce=Me,xe=tt}if(ke===G.length)return r(Q,xe),Ue&&_s(Q,ke),Se;if(xe===null){for(;ke<G.length;ke++)xe=ae(Q,G[ke],ce),xe!==null&&(q=g(xe,q,ke),Ce===null?Se=xe:Ce.sibling=xe,Ce=xe);return Ue&&_s(Q,ke),Se}for(xe=s(Q,xe);ke<G.length;ke++)tt=ve(xe,Q,ke,G[ke],ce),tt!==null&&(e&&tt.alternate!==null&&xe.delete(tt.key===null?ke:tt.key),q=g(tt,q,ke),Ce===null?Se=tt:Ce.sibling=tt,Ce=tt);return e&&xe.forEach(function(Qr){return t(Q,Qr)}),Ue&&_s(Q,ke),Se}function ye(Q,q,G,ce){var Se=L(G);if(typeof Se!="function")throw Error(_(150));if(G=Se.call(G),G==null)throw Error(_(151));for(var Ce=Se=null,xe=q,ke=q=0,tt=null,Me=G.next();xe!==null&&!Me.done;ke++,Me=G.next()){xe.index>ke?(tt=xe,xe=null):tt=xe.sibling;var Qr=ie(Q,xe,Me.value,ce);if(Qr===null){xe===null&&(xe=tt);break}e&&xe&&Qr.alternate===null&&t(Q,xe),q=g(Qr,q,ke),Ce===null?Se=Qr:Ce.sibling=Qr,Ce=Qr,xe=tt}if(Me.done)return r(Q,xe),Ue&&_s(Q,ke),Se;if(xe===null){for(;!Me.done;ke++,Me=G.next())Me=ae(Q,Me.value,ce),Me!==null&&(q=g(Me,q,ke),Ce===null?Se=Me:Ce.sibling=Me,Ce=Me);return Ue&&_s(Q,ke),Se}for(xe=s(Q,xe);!Me.done;ke++,Me=G.next())Me=ve(xe,Q,ke,Me.value,ce),Me!==null&&(e&&Me.alternate!==null&&xe.delete(Me.key===null?ke:Me.key),q=g(Me,q,ke),Ce===null?Se=Me:Ce.sibling=Me,Ce=Me);return e&&xe.forEach(function(s_){return t(Q,s_)}),Ue&&_s(Q,ke),Se}function Qe(Q,q,G,ce){if(typeof G=="object"&&G!==null&&G.type===R&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:e:{for(var Se=G.key,Ce=q;Ce!==null;){if(Ce.key===Se){if(Se=G.type,Se===R){if(Ce.tag===7){r(Q,Ce.sibling),q=h(Ce,G.props.children),q.return=Q,Q=q;break e}}else if(Ce.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===ne&&xu(Se)===Ce.type){r(Q,Ce.sibling),q=h(Ce,G.props),q.ref=$i(Q,Ce,G),q.return=Q,Q=q;break e}r(Q,Ce);break}else t(Q,Ce);Ce=Ce.sibling}G.type===R?(q=xs(G.props.children,Q.mode,ce,G.key),q.return=Q,Q=q):(ce=go(G.type,G.key,G.props,null,Q.mode,ce),ce.ref=$i(Q,q,G),ce.return=Q,Q=ce)}return P(Q);case x:e:{for(Ce=G.key;q!==null;){if(q.key===Ce)if(q.tag===4&&q.stateNode.containerInfo===G.containerInfo&&q.stateNode.implementation===G.implementation){r(Q,q.sibling),q=h(q,G.children||[]),q.return=Q,Q=q;break e}else{r(Q,q);break}else t(Q,q);q=q.sibling}q=Sl(G,Q.mode,ce),q.return=Q,Q=q}return P(Q);case ne:return Ce=G._init,Qe(Q,q,Ce(G._payload),ce)}if(cr(G))return ge(Q,q,G,ce);if(L(G))return ye(Q,q,G,ce);qn(Q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,q!==null&&q.tag===6?(r(Q,q.sibling),q=h(q,G),q.return=Q,Q=q):(r(Q,q),q=yl(G,Q.mode,ce),q.return=Q,Q=q),P(Q)):r(Q,q)}return Qe}var Js=bu(!0),ku=bu(!1),Qn=Nr(null),Gn=null,Ys=null,Da=null;function Pa(){Da=Ys=Gn=null}function Ta(e){var t=Qn.current;He(Qn),e._currentValue=t}function Ma(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Zs(e,t){Gn=e,Da=Ys=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ct=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Da!==e)if(e={context:e,memoizedValue:t,next:null},Ys===null){if(Gn===null)throw Error(_(308));Ys=e,Gn.dependencies={lanes:0,firstContext:e}}else Ys=Ys.next=e;return t}var vs=null;function Aa(e){vs===null?vs=[e]:vs.push(e)}function Eu(e,t,r,s){var h=t.interleaved;return h===null?(r.next=r,Aa(t)):(r.next=h.next,h.next=r),t.interleaved=r,pr(e,s)}function pr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hr=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ru(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zr(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Te&2)!==0){var h=s.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),s.pending=t,pr(e,r)}return h=s.interleaved,h===null?(t.next=t,Aa(s)):(t.next=h.next,h.next=t),s.interleaved=t,pr(e,r)}function Xn(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Qo(e,r)}}function Lu(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var h=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var P={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};g===null?h=g=P:g=g.next=P,r=r.next}while(r!==null);g===null?h=g=t:g=g.next=t}else h=g=t;r={baseState:s.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Jn(e,t,r,s){var h=e.updateQueue;Hr=!1;var g=h.firstBaseUpdate,P=h.lastBaseUpdate,H=h.shared.pending;if(H!==null){h.shared.pending=null;var K=H,Y=K.next;K.next=null,P===null?g=Y:P.next=Y,P=K;var oe=e.alternate;oe!==null&&(oe=oe.updateQueue,H=oe.lastBaseUpdate,H!==P&&(H===null?oe.firstBaseUpdate=Y:H.next=Y,oe.lastBaseUpdate=K))}if(g!==null){var ae=h.baseState;P=0,oe=Y=K=null,H=g;do{var ie=H.lane,ve=H.eventTime;if((s&ie)===ie){oe!==null&&(oe=oe.next={eventTime:ve,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var ge=e,ye=H;switch(ie=t,ve=r,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){ae=ge.call(ve,ae,ie);break e}ae=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,ie=typeof ge=="function"?ge.call(ve,ae,ie):ge,ie==null)break e;ae=B({},ae,ie);break e;case 2:Hr=!0}}H.callback!==null&&H.lane!==0&&(e.flags|=64,ie=h.effects,ie===null?h.effects=[H]:ie.push(H))}else ve={eventTime:ve,lane:ie,tag:H.tag,payload:H.payload,callback:H.callback,next:null},oe===null?(Y=oe=ve,K=ae):oe=oe.next=ve,P|=ie;if(H=H.next,H===null){if(H=h.shared.pending,H===null)break;ie=H,H=ie.next,ie.next=null,h.lastBaseUpdate=ie,h.shared.pending=null}}while(!0);if(oe===null&&(K=ae),h.baseState=K,h.firstBaseUpdate=Y,h.lastBaseUpdate=oe,t=h.shared.interleaved,t!==null){h=t;do P|=h.lane,h=h.next;while(h!==t)}else g===null&&(h.shared.lanes=0);ys|=P,e.lanes=P,e.memoizedState=ae}}function Du(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],h=s.callback;if(h!==null){if(s.callback=null,s=r,typeof h!="function")throw Error(_(191,h));h.call(s)}}}var Ki={},sr=Nr(Ki),Vi=Nr(Ki),qi=Nr(Ki);function ms(e){if(e===Ki)throw Error(_(174));return e}function Ba(e,t){switch(Ie(qi,t),Ie(Vi,e),Ie(sr,Ki),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cs(t,e)}He(sr),Ie(sr,t)}function ei(){He(sr),He(Vi),He(qi)}function Pu(e){ms(qi.current);var t=ms(sr.current),r=cs(t,e.type);t!==r&&(Ie(Vi,e),Ie(sr,r))}function Ia(e){Vi.current===e&&(He(sr),He(Vi))}var We=Nr(0);function Yn(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Na=[];function ja(){for(var e=0;e<Na.length;e++)Na[e]._workInProgressVersionPrimary=null;Na.length=0}var Zn=p.ReactCurrentDispatcher,Fa=p.ReactCurrentBatchConfig,gs=0,$e=null,Xe=null,Ze=null,eo=!1,Qi=!1,Gi=0,kp=0;function ut(){throw Error(_(321))}function Ha(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vt(e[r],t[r]))return!1;return!0}function za(e,t,r,s,h,g){if(gs=g,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zn.current=e===null||e.memoizedState===null?Dp:Pp,e=r(s,h),Qi){g=0;do{if(Qi=!1,Gi=0,25<=g)throw Error(_(301));g+=1,Ze=Xe=null,t.updateQueue=null,Zn.current=Tp,e=r(s,h)}while(Qi)}if(Zn.current=so,t=Xe!==null&&Xe.next!==null,gs=0,Ze=Xe=$e=null,eo=!1,t)throw Error(_(300));return e}function Ua(){var e=Gi!==0;return Gi=0,e}function ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?$e.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Nt(){if(Xe===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=Ze===null?$e.memoizedState:Ze.next;if(t!==null)Ze=t,Xe=e;else{if(e===null)throw Error(_(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Ze===null?$e.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Xi(e,t){return typeof t=="function"?t(e):t}function Wa(e){var t=Nt(),r=t.queue;if(r===null)throw Error(_(311));r.lastRenderedReducer=e;var s=Xe,h=s.baseQueue,g=r.pending;if(g!==null){if(h!==null){var P=h.next;h.next=g.next,g.next=P}s.baseQueue=h=g,r.pending=null}if(h!==null){g=h.next,s=s.baseState;var H=P=null,K=null,Y=g;do{var oe=Y.lane;if((gs&oe)===oe)K!==null&&(K=K.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),s=Y.hasEagerState?Y.eagerState:e(s,Y.action);else{var ae={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};K===null?(H=K=ae,P=s):K=K.next=ae,$e.lanes|=oe,ys|=oe}Y=Y.next}while(Y!==null&&Y!==g);K===null?P=s:K.next=H,Vt(s,t.memoizedState)||(Ct=!0),t.memoizedState=s,t.baseState=P,t.baseQueue=K,r.lastRenderedState=s}if(e=r.interleaved,e!==null){h=e;do g=h.lane,$e.lanes|=g,ys|=g,h=h.next;while(h!==e)}else h===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $a(e){var t=Nt(),r=t.queue;if(r===null)throw Error(_(311));r.lastRenderedReducer=e;var s=r.dispatch,h=r.pending,g=t.memoizedState;if(h!==null){r.pending=null;var P=h=h.next;do g=e(g,P.action),P=P.next;while(P!==h);Vt(g,t.memoizedState)||(Ct=!0),t.memoizedState=g,t.baseQueue===null&&(t.baseState=g),r.lastRenderedState=g}return[g,s]}function Tu(){}function Mu(e,t){var r=$e,s=Nt(),h=t(),g=!Vt(s.memoizedState,h);if(g&&(s.memoizedState=h,Ct=!0),s=s.queue,Ka(Bu.bind(null,r,s,e),[e]),s.getSnapshot!==t||g||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,Ji(9,Ou.bind(null,r,s,h,t),void 0,null),et===null)throw Error(_(349));(gs&30)!==0||Au(r,t,h)}return h}function Au(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ou(e,t,r,s){t.value=r,t.getSnapshot=s,Iu(t)&&Nu(e)}function Bu(e,t,r){return r(function(){Iu(t)&&Nu(e)})}function Iu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vt(e,r)}catch{return!0}}function Nu(e){var t=pr(e,1);t!==null&&Jt(t,e,1,-1)}function ju(e){var t=ir();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},t.queue=e,e=e.dispatch=Lp.bind(null,$e,e),[t.memoizedState,e]}function Ji(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Fu(){return Nt().memoizedState}function to(e,t,r,s){var h=ir();$e.flags|=e,h.memoizedState=Ji(1|t,r,void 0,s===void 0?null:s)}function ro(e,t,r,s){var h=Nt();s=s===void 0?null:s;var g=void 0;if(Xe!==null){var P=Xe.memoizedState;if(g=P.destroy,s!==null&&Ha(s,P.deps)){h.memoizedState=Ji(t,r,g,s);return}}$e.flags|=e,h.memoizedState=Ji(1|t,r,g,s)}function Hu(e,t){return to(8390656,8,e,t)}function Ka(e,t){return ro(2048,8,e,t)}function zu(e,t){return ro(4,2,e,t)}function Uu(e,t){return ro(4,4,e,t)}function Wu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $u(e,t,r){return r=r!=null?r.concat([e]):null,ro(4,4,Wu.bind(null,t,e),r)}function Va(){}function Ku(e,t){var r=Nt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Ha(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Vu(e,t){var r=Nt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Ha(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function qu(e,t,r){return(gs&21)===0?(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=r):(Vt(r,t)||(r=xc(),$e.lanes|=r,ys|=r,e.baseState=!0),t)}function Ep(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var s=Fa.transition;Fa.transition={};try{e(!1),t()}finally{Oe=r,Fa.transition=s}}function Qu(){return Nt().memoizedState}function Rp(e,t,r){var s=Kr(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Gu(e))Xu(t,r);else if(r=Eu(e,t,r,s),r!==null){var h=vt();Jt(r,e,s,h),Ju(r,t,s)}}function Lp(e,t,r){var s=Kr(e),h={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))Xu(t,h);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=t.lastRenderedReducer,g!==null))try{var P=t.lastRenderedState,H=g(P,r);if(h.hasEagerState=!0,h.eagerState=H,Vt(H,P)){var K=t.interleaved;K===null?(h.next=h,Aa(t)):(h.next=K.next,K.next=h),t.interleaved=h;return}}catch{}finally{}r=Eu(e,t,h,s),r!==null&&(h=vt(),Jt(r,e,s,h),Ju(r,t,s))}}function Gu(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function Xu(e,t){Qi=eo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ju(e,t,r){if((r&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Qo(e,r)}}var so={readContext:It,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},Dp={readContext:It,useCallback:function(e,t){return ir().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Hu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,to(4194308,4,Wu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return to(4194308,4,e,t)},useInsertionEffect:function(e,t){return to(4,2,e,t)},useMemo:function(e,t){var r=ir();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=ir();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Rp.bind(null,$e,e),[s.memoizedState,e]},useRef:function(e){var t=ir();return e={current:e},t.memoizedState=e},useState:ju,useDebugValue:Va,useDeferredValue:function(e){return ir().memoizedState=e},useTransition:function(){var e=ju(!1),t=e[0];return e=Ep.bind(null,e[1]),ir().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=$e,h=ir();if(Ue){if(r===void 0)throw Error(_(407));r=r()}else{if(r=t(),et===null)throw Error(_(349));(gs&30)!==0||Au(s,t,r)}h.memoizedState=r;var g={value:r,getSnapshot:t};return h.queue=g,Hu(Bu.bind(null,s,g,e),[e]),s.flags|=2048,Ji(9,Ou.bind(null,s,g,r,t),void 0,null),r},useId:function(){var e=ir(),t=et.identifierPrefix;if(Ue){var r=fr,s=dr;r=(s&~(1<<32-Kt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Gi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pp={readContext:It,useCallback:Ku,useContext:It,useEffect:Ka,useImperativeHandle:$u,useInsertionEffect:zu,useLayoutEffect:Uu,useMemo:Vu,useReducer:Wa,useRef:Fu,useState:function(){return Wa(Xi)},useDebugValue:Va,useDeferredValue:function(e){var t=Nt();return qu(t,Xe.memoizedState,e)},useTransition:function(){var e=Wa(Xi)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Tu,useSyncExternalStore:Mu,useId:Qu,unstable_isNewReconciler:!1},Tp={readContext:It,useCallback:Ku,useContext:It,useEffect:Ka,useImperativeHandle:$u,useInsertionEffect:zu,useLayoutEffect:Uu,useMemo:Vu,useReducer:$a,useRef:Fu,useState:function(){return $a(Xi)},useDebugValue:Va,useDeferredValue:function(e){var t=Nt();return Xe===null?t.memoizedState=e:qu(t,Xe.memoizedState,e)},useTransition:function(){var e=$a(Xi)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Tu,useSyncExternalStore:Mu,useId:Qu,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=B({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function qa(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:B({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var io={isMounted:function(e){return(e=e._reactInternals)?hs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=vt(),h=Kr(e),g=_r(s,h);g.payload=t,r!=null&&(g.callback=r),t=zr(e,g,h),t!==null&&(Jt(t,e,h,s),Xn(t,e,h))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=vt(),h=Kr(e),g=_r(s,h);g.tag=1,g.payload=t,r!=null&&(g.callback=r),t=zr(e,g,h),t!==null&&(Jt(t,e,h,s),Xn(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=vt(),s=Kr(e),h=_r(r,s);h.tag=2,t!=null&&(h.callback=t),t=zr(e,h,s),t!==null&&(Jt(t,e,s,r),Xn(t,e,s))}};function Yu(e,t,r,s,h,g,P){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,g,P):t.prototype&&t.prototype.isPureReactComponent?!Ni(r,s)||!Ni(h,g):!0}function Zu(e,t,r){var s=!1,h=jr,g=t.contextType;return typeof g=="object"&&g!==null?g=It(g):(h=wt(t)?fs:ct.current,s=t.contextTypes,g=(s=s!=null)?qs(e,h):jr),t=new t(r,g),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=g),t}function eh(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function Qa(e,t,r,s){var h=e.stateNode;h.props=r,h.state=e.memoizedState,h.refs={},Oa(e);var g=t.contextType;typeof g=="object"&&g!==null?h.context=It(g):(g=wt(t)?fs:ct.current,h.context=qs(e,g)),h.state=e.memoizedState,g=t.getDerivedStateFromProps,typeof g=="function"&&(qa(e,t,g,r),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&io.enqueueReplaceState(h,h.state,null),Jn(e,r,h,s),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function ti(e,t){try{var r="",s=t;do r+=ue(s),s=s.return;while(s);var h=r}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:t,stack:h,digest:null}}function Ga(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Xa(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Mp=typeof WeakMap=="function"?WeakMap:Map;function th(e,t,r){r=_r(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){ho||(ho=!0,hl=s),Xa(e,t)},r}function rh(e,t,r){r=_r(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var h=t.value;r.payload=function(){return s(h)},r.callback=function(){Xa(e,t)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(r.callback=function(){Xa(e,t),typeof s!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var P=t.stack;this.componentDidCatch(t.value,{componentStack:P!==null?P:""})}),r}function sh(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Mp;var h=new Set;s.set(t,h)}else h=s.get(t),h===void 0&&(h=new Set,s.set(t,h));h.has(r)||(h.add(r),e=Vp.bind(null,e,t,r),t.then(e,e))}function ih(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nh(e,t,r,s,h){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_r(-1,1),t.tag=2,zr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var Ap=p.ReactCurrentOwner,Ct=!1;function _t(e,t,r,s){t.child=e===null?ku(t,null,r,s):Js(t,e.child,r,s)}function oh(e,t,r,s,h){r=r.render;var g=t.ref;return Zs(t,h),s=za(e,t,r,s,g,h),r=Ua(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,vr(e,t,h)):(Ue&&r&&ba(t),t.flags|=1,_t(e,t,s,h),t.child)}function ah(e,t,r,s,h){if(e===null){var g=r.type;return typeof g=="function"&&!gl(g)&&g.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=g,lh(e,t,g,s,h)):(e=go(r.type,null,s,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(g=e.child,(e.lanes&h)===0){var P=g.memoizedProps;if(r=r.compare,r=r!==null?r:Ni,r(P,s)&&e.ref===t.ref)return vr(e,t,h)}return t.flags|=1,e=qr(g,s),e.ref=t.ref,e.return=t,t.child=e}function lh(e,t,r,s,h){if(e!==null){var g=e.memoizedProps;if(Ni(g,s)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=s=g,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,vr(e,t,h)}return Ja(e,t,r,s,h)}function ch(e,t,r){var s=t.pendingProps,h=s.children,g=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(si,At),At|=r;else{if((r&1073741824)===0)return e=g!==null?g.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ie(si,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=g!==null?g.baseLanes:r,Ie(si,At),At|=s}else g!==null?(s=g.baseLanes|r,t.memoizedState=null):s=r,Ie(si,At),At|=s;return _t(e,t,h,r),t.child}function uh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ja(e,t,r,s,h){var g=wt(r)?fs:ct.current;return g=qs(t,g),Zs(t,h),r=za(e,t,r,s,g,h),s=Ua(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,vr(e,t,h)):(Ue&&s&&ba(t),t.flags|=1,_t(e,t,r,h),t.child)}function hh(e,t,r,s,h){if(wt(r)){var g=!0;Un(t)}else g=!1;if(Zs(t,h),t.stateNode===null)oo(e,t),Zu(t,r,s),Qa(t,r,s,h),s=!0;else if(e===null){var P=t.stateNode,H=t.memoizedProps;P.props=H;var K=P.context,Y=r.contextType;typeof Y=="object"&&Y!==null?Y=It(Y):(Y=wt(r)?fs:ct.current,Y=qs(t,Y));var oe=r.getDerivedStateFromProps,ae=typeof oe=="function"||typeof P.getSnapshotBeforeUpdate=="function";ae||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(H!==s||K!==Y)&&eh(t,P,s,Y),Hr=!1;var ie=t.memoizedState;P.state=ie,Jn(t,s,P,h),K=t.memoizedState,H!==s||ie!==K||St.current||Hr?(typeof oe=="function"&&(qa(t,r,oe,s),K=t.memoizedState),(H=Hr||Yu(t,r,H,s,ie,K,Y))?(ae||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(t.flags|=4194308)):(typeof P.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=K),P.props=s,P.state=K,P.context=Y,s=H):(typeof P.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{P=t.stateNode,Ru(e,t),H=t.memoizedProps,Y=t.type===t.elementType?H:Qt(t.type,H),P.props=Y,ae=t.pendingProps,ie=P.context,K=r.contextType,typeof K=="object"&&K!==null?K=It(K):(K=wt(r)?fs:ct.current,K=qs(t,K));var ve=r.getDerivedStateFromProps;(oe=typeof ve=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(H!==ae||ie!==K)&&eh(t,P,s,K),Hr=!1,ie=t.memoizedState,P.state=ie,Jn(t,s,P,h);var ge=t.memoizedState;H!==ae||ie!==ge||St.current||Hr?(typeof ve=="function"&&(qa(t,r,ve,s),ge=t.memoizedState),(Y=Hr||Yu(t,r,Y,s,ie,ge,K)||!1)?(oe||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(s,ge,K),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(s,ge,K)),typeof P.componentDidUpdate=="function"&&(t.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof P.componentDidUpdate!="function"||H===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||H===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=ge),P.props=s,P.state=ge,P.context=K,s=Y):(typeof P.componentDidUpdate!="function"||H===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||H===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),s=!1)}return Ya(e,t,r,s,g,h)}function Ya(e,t,r,s,h,g){uh(e,t);var P=(t.flags&128)!==0;if(!s&&!P)return h&&vu(t,r,!1),vr(e,t,g);s=t.stateNode,Ap.current=t;var H=P&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&P?(t.child=Js(t,e.child,null,g),t.child=Js(t,null,H,g)):_t(e,t,H,g),t.memoizedState=s.state,h&&vu(t,r,!0),t.child}function dh(e){var t=e.stateNode;t.pendingContext?pu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pu(e,t.context,!1),Ba(e,t.containerInfo)}function fh(e,t,r,s,h){return Xs(),La(h),t.flags|=256,_t(e,t,r,s),t.child}var Za={dehydrated:null,treeContext:null,retryLane:0};function el(e){return{baseLanes:e,cachePool:null,transitions:null}}function ph(e,t,r){var s=t.pendingProps,h=We.current,g=!1,P=(t.flags&128)!==0,H;if((H=P)||(H=e!==null&&e.memoizedState===null?!1:(h&2)!==0),H?(g=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Ie(We,h&1),e===null)return Ra(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(P=s.children,e=s.fallback,g?(s=t.mode,g=t.child,P={mode:"hidden",children:P},(s&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=P):g=yo(P,s,0,null),e=xs(e,s,r,null),g.return=t,e.return=t,g.sibling=e,t.child=g,t.child.memoizedState=el(r),t.memoizedState=Za,e):tl(t,P));if(h=e.memoizedState,h!==null&&(H=h.dehydrated,H!==null))return Op(e,t,P,s,H,h,r);if(g){g=s.fallback,P=t.mode,h=e.child,H=h.sibling;var K={mode:"hidden",children:s.children};return(P&1)===0&&t.child!==h?(s=t.child,s.childLanes=0,s.pendingProps=K,t.deletions=null):(s=qr(h,K),s.subtreeFlags=h.subtreeFlags&14680064),H!==null?g=qr(H,g):(g=xs(g,P,r,null),g.flags|=2),g.return=t,s.return=t,s.sibling=g,t.child=s,s=g,g=t.child,P=e.child.memoizedState,P=P===null?el(r):{baseLanes:P.baseLanes|r,cachePool:null,transitions:P.transitions},g.memoizedState=P,g.childLanes=e.childLanes&~r,t.memoizedState=Za,s}return g=e.child,e=g.sibling,s=qr(g,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function tl(e,t){return t=yo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function no(e,t,r,s){return s!==null&&La(s),Js(t,e.child,null,r),e=tl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Op(e,t,r,s,h,g,P){if(r)return t.flags&256?(t.flags&=-257,s=Ga(Error(_(422))),no(e,t,P,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(g=s.fallback,h=t.mode,s=yo({mode:"visible",children:s.children},h,0,null),g=xs(g,h,P,null),g.flags|=2,s.return=t,g.return=t,s.sibling=g,t.child=s,(t.mode&1)!==0&&Js(t,e.child,null,P),t.child.memoizedState=el(P),t.memoizedState=Za,g);if((t.mode&1)===0)return no(e,t,P,null);if(h.data==="$!"){if(s=h.nextSibling&&h.nextSibling.dataset,s)var H=s.dgst;return s=H,g=Error(_(419)),s=Ga(g,s,void 0),no(e,t,P,s)}if(H=(P&e.childLanes)!==0,Ct||H){if(s=et,s!==null){switch(P&-P){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(s.suspendedLanes|P))!==0?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,pr(e,h),Jt(s,e,h,-1))}return ml(),s=Ga(Error(_(421))),no(e,t,P,s)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=qp.bind(null,e),h._reactRetry=t,null):(e=g.treeContext,Mt=Ir(h.nextSibling),Tt=t,Ue=!0,qt=null,e!==null&&(Ot[Bt++]=dr,Ot[Bt++]=fr,Ot[Bt++]=ps,dr=e.id,fr=e.overflow,ps=t),t=tl(t,s.children),t.flags|=4096,t)}function _h(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ma(e.return,t,r)}function rl(e,t,r,s,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:h}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=s,g.tail=r,g.tailMode=h)}function vh(e,t,r){var s=t.pendingProps,h=s.revealOrder,g=s.tail;if(_t(e,t,s.children,r),s=We.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_h(e,r,t);else if(e.tag===19)_h(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ie(We,s),(t.mode&1)===0)t.memoizedState=null;else switch(h){case"forwards":for(r=t.child,h=null;r!==null;)e=r.alternate,e!==null&&Yn(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=t.child,t.child=null):(h=r.sibling,r.sibling=null),rl(t,!1,h,r,g);break;case"backwards":for(r=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&Yn(e)===null){t.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}rl(t,!0,r,null,g);break;case"together":rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oo(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ys|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,r=qr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Bp(e,t,r){switch(t.tag){case 3:dh(t),Xs();break;case 5:Pu(t);break;case 1:wt(t.type)&&Un(t);break;case 4:Ba(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,h=t.memoizedProps.value;Ie(Qn,s._currentValue),s._currentValue=h;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ie(We,We.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?ph(e,t,r):(Ie(We,We.current&1),e=vr(e,t,r),e!==null?e.sibling:null);Ie(We,We.current&1);break;case 19:if(s=(r&t.childLanes)!==0,(e.flags&128)!==0){if(s)return vh(e,t,r);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ie(We,We.current),s)break;return null;case 22:case 23:return t.lanes=0,ch(e,t,r)}return vr(e,t,r)}var mh,sl,gh,yh;mh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},sl=function(){},gh=function(e,t,r,s){var h=e.memoizedProps;if(h!==s){e=t.stateNode,ms(sr.current);var g=null;switch(r){case"input":h=Be(e,h),s=Be(e,s),g=[];break;case"select":h=B({},h,{value:void 0}),s=B({},s,{value:void 0}),g=[];break;case"textarea":h=Rr(e,h),s=Rr(e,s),g=[];break;default:typeof h.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Fn)}No(r,s);var P;r=null;for(Y in h)if(!s.hasOwnProperty(Y)&&h.hasOwnProperty(Y)&&h[Y]!=null)if(Y==="style"){var H=h[Y];for(P in H)H.hasOwnProperty(P)&&(r||(r={}),r[P]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(A.hasOwnProperty(Y)?g||(g=[]):(g=g||[]).push(Y,null));for(Y in s){var K=s[Y];if(H=h!=null?h[Y]:void 0,s.hasOwnProperty(Y)&&K!==H&&(K!=null||H!=null))if(Y==="style")if(H){for(P in H)!H.hasOwnProperty(P)||K&&K.hasOwnProperty(P)||(r||(r={}),r[P]="");for(P in K)K.hasOwnProperty(P)&&H[P]!==K[P]&&(r||(r={}),r[P]=K[P])}else r||(g||(g=[]),g.push(Y,r)),r=K;else Y==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,H=H?H.__html:void 0,K!=null&&H!==K&&(g=g||[]).push(Y,K)):Y==="children"?typeof K!="string"&&typeof K!="number"||(g=g||[]).push(Y,""+K):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(A.hasOwnProperty(Y)?(K!=null&&Y==="onScroll"&&Fe("scroll",e),g||H===K||(g=[])):(g=g||[]).push(Y,K))}r&&(g=g||[]).push("style",r);var Y=g;(t.updateQueue=Y)&&(t.flags|=4)}},yh=function(e,t,r,s){r!==s&&(t.flags|=4)};function Yi(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,s|=h.subtreeFlags&14680064,s|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,s|=h.subtreeFlags,s|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Ip(e,t,r){var s=t.pendingProps;switch(ka(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return wt(t.type)&&zn(),ht(t),null;case 3:return s=t.stateNode,ei(),He(St),He(ct),ja(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Vn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,qt!==null&&(pl(qt),qt=null))),sl(e,t),ht(t),null;case 5:Ia(t);var h=ms(qi.current);if(r=t.type,e!==null&&t.stateNode!=null)gh(e,t,r,s,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(_(166));return ht(t),null}if(e=ms(sr.current),Vn(t)){s=t.stateNode,r=t.type;var g=t.memoizedProps;switch(s[rr]=t,s[Ui]=g,e=(t.mode&1)!==0,r){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(h=0;h<Fi.length;h++)Fe(Fi[h],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Ne(s,g),Fe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!g.multiple},Fe("invalid",s);break;case"textarea":pt(s,g),Fe("invalid",s)}No(r,g),h=null;for(var P in g)if(g.hasOwnProperty(P)){var H=g[P];P==="children"?typeof H=="string"?s.textContent!==H&&(g.suppressHydrationWarning!==!0&&jn(s.textContent,H,e),h=["children",H]):typeof H=="number"&&s.textContent!==""+H&&(g.suppressHydrationWarning!==!0&&jn(s.textContent,H,e),h=["children",""+H]):A.hasOwnProperty(P)&&H!=null&&P==="onScroll"&&Fe("scroll",s)}switch(r){case"input":fe(s),Er(s,g,!0);break;case"textarea":fe(s),Lt(s);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(s.onclick=Fn)}s=h,t.updateQueue=s,s!==null&&(t.flags|=4)}else{P=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dr(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=P.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=P.createElement(r,{is:s.is}):(e=P.createElement(r),r==="select"&&(P=e,s.multiple?P.multiple=!0:s.size&&(P.size=s.size))):e=P.createElementNS(e,r),e[rr]=t,e[Ui]=s,mh(e,t,!1,!1),t.stateNode=e;e:{switch(P=jo(r,s),r){case"dialog":Fe("cancel",e),Fe("close",e),h=s;break;case"iframe":case"object":case"embed":Fe("load",e),h=s;break;case"video":case"audio":for(h=0;h<Fi.length;h++)Fe(Fi[h],e);h=s;break;case"source":Fe("error",e),h=s;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),h=s;break;case"details":Fe("toggle",e),h=s;break;case"input":Ne(e,s),h=Be(e,s),Fe("invalid",e);break;case"option":h=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},h=B({},s,{value:void 0}),Fe("invalid",e);break;case"textarea":pt(e,s),h=Rr(e,s),Fe("invalid",e);break;default:h=s}No(r,h),H=h;for(g in H)if(H.hasOwnProperty(g)){var K=H[g];g==="style"?lc(e,K):g==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&us(e,K)):g==="children"?typeof K=="string"?(r!=="textarea"||K!=="")&&yt(e,K):typeof K=="number"&&yt(e,""+K):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(A.hasOwnProperty(g)?K!=null&&g==="onScroll"&&Fe("scroll",e):K!=null&&l(e,g,K,P))}switch(r){case"input":fe(e),Er(e,s,!1);break;case"textarea":fe(e),Lt(e);break;case"option":s.value!=null&&e.setAttribute("value",""+M(s.value));break;case"select":e.multiple=!!s.multiple,g=s.value,g!=null?er(e,!!s.multiple,g,!1):s.defaultValue!=null&&er(e,!!s.multiple,s.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Fn)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)yh(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(_(166));if(r=ms(qi.current),ms(sr.current),Vn(t)){if(s=t.stateNode,r=t.memoizedProps,s[rr]=t,(g=s.nodeValue!==r)&&(e=Tt,e!==null))switch(e.tag){case 3:jn(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jn(s.nodeValue,r,(e.mode&1)!==0)}g&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[rr]=t,t.stateNode=s}return ht(t),null;case 13:if(He(We),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&Mt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Cu(),Xs(),t.flags|=98560,g=!1;else if(g=Vn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!g)throw Error(_(318));if(g=t.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(_(317));g[rr]=t}else Xs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ht(t),g=!1}else qt!==null&&(pl(qt),qt=null),g=!0;if(!g)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(We.current&1)!==0?Je===0&&(Je=3):ml())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return ei(),sl(e,t),e===null&&Hi(t.stateNode.containerInfo),ht(t),null;case 10:return Ta(t.type._context),ht(t),null;case 17:return wt(t.type)&&zn(),ht(t),null;case 19:if(He(We),g=t.memoizedState,g===null)return ht(t),null;if(s=(t.flags&128)!==0,P=g.rendering,P===null)if(s)Yi(g,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(P=Yn(e),P!==null){for(t.flags|=128,Yi(g,!1),s=P.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)g=r,e=s,g.flags&=14680066,P=g.alternate,P===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=P.childLanes,g.lanes=P.lanes,g.child=P.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=P.memoizedProps,g.memoizedState=P.memoizedState,g.updateQueue=P.updateQueue,g.type=P.type,e=P.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ie(We,We.current&1|2),t.child}e=e.sibling}g.tail!==null&&qe()>ii&&(t.flags|=128,s=!0,Yi(g,!1),t.lanes=4194304)}else{if(!s)if(e=Yn(P),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yi(g,!0),g.tail===null&&g.tailMode==="hidden"&&!P.alternate&&!Ue)return ht(t),null}else 2*qe()-g.renderingStartTime>ii&&r!==1073741824&&(t.flags|=128,s=!0,Yi(g,!1),t.lanes=4194304);g.isBackwards?(P.sibling=t.child,t.child=P):(r=g.last,r!==null?r.sibling=P:t.child=P,g.last=P)}return g.tail!==null?(t=g.tail,g.rendering=t,g.tail=t.sibling,g.renderingStartTime=qe(),t.sibling=null,r=We.current,Ie(We,s?r&1|2:r&1),t):(ht(t),null);case 22:case 23:return vl(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(At&1073741824)!==0&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function Np(e,t){switch(ka(t),t.tag){case 1:return wt(t.type)&&zn(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ei(),He(St),He(ct),ja(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ia(t),null;case 13:if(He(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Xs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(We),null;case 4:return ei(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return vl(),null;case 24:return null;default:return null}}var ao=!1,dt=!1,jp=typeof WeakSet=="function"?WeakSet:Set,me=null;function ri(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ke(e,t,s)}else r.current=null}function il(e,t,r){try{r()}catch(s){Ke(e,t,s)}}var Sh=!1;function Fp(e,t){if(va=Rn,e=Yc(),la(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var h=s.anchorOffset,g=s.focusNode;s=s.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break e}var P=0,H=-1,K=-1,Y=0,oe=0,ae=e,ie=null;t:for(;;){for(var ve;ae!==r||h!==0&&ae.nodeType!==3||(H=P+h),ae!==g||s!==0&&ae.nodeType!==3||(K=P+s),ae.nodeType===3&&(P+=ae.nodeValue.length),(ve=ae.firstChild)!==null;)ie=ae,ae=ve;for(;;){if(ae===e)break t;if(ie===r&&++Y===h&&(H=P),ie===g&&++oe===s&&(K=P),(ve=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=ve}r=H===-1||K===-1?null:{start:H,end:K}}else r=null}r=r||{start:0,end:0}}else r=null;for(ma={focusedElem:e,selectionRange:r},Rn=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var ge=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,Qe=ge.memoizedState,Q=t.stateNode,q=Q.getSnapshotBeforeUpdate(t.elementType===t.type?ye:Qt(t.type,ye),Qe);Q.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var G=t.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(ce){Ke(t,t.return,ce)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return ge=Sh,Sh=!1,ge}function Zi(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var h=s=s.next;do{if((h.tag&e)===e){var g=h.destroy;h.destroy=void 0,g!==void 0&&il(t,r,g)}h=h.next}while(h!==s)}}function lo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function nl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function wh(e){var t=e.alternate;t!==null&&(e.alternate=null,wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rr],delete t[Ui],delete t[wa],delete t[wp],delete t[Cp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ch(e){return e.tag===5||e.tag===3||e.tag===4}function xh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ch(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ol(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Fn));else if(s!==4&&(e=e.child,e!==null))for(ol(e,t,r),e=e.sibling;e!==null;)ol(e,t,r),e=e.sibling}function al(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(al(e,t,r),e=e.sibling;e!==null;)al(e,t,r),e=e.sibling}var nt=null,Gt=!1;function Ur(e,t,r){for(r=r.child;r!==null;)bh(e,t,r),r=r.sibling}function bh(e,t,r){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(wn,r)}catch{}switch(r.tag){case 5:dt||ri(r,t);case 6:var s=nt,h=Gt;nt=null,Ur(e,t,r),nt=s,Gt=h,nt!==null&&(Gt?(e=nt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):nt.removeChild(r.stateNode));break;case 18:nt!==null&&(Gt?(e=nt,r=r.stateNode,e.nodeType===8?Sa(e.parentNode,r):e.nodeType===1&&Sa(e,r),Ti(e)):Sa(nt,r.stateNode));break;case 4:s=nt,h=Gt,nt=r.stateNode.containerInfo,Gt=!0,Ur(e,t,r),nt=s,Gt=h;break;case 0:case 11:case 14:case 15:if(!dt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){h=s=s.next;do{var g=h,P=g.destroy;g=g.tag,P!==void 0&&((g&2)!==0||(g&4)!==0)&&il(r,t,P),h=h.next}while(h!==s)}Ur(e,t,r);break;case 1:if(!dt&&(ri(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(H){Ke(r,t,H)}Ur(e,t,r);break;case 21:Ur(e,t,r);break;case 22:r.mode&1?(dt=(s=dt)||r.memoizedState!==null,Ur(e,t,r),dt=s):Ur(e,t,r);break;default:Ur(e,t,r)}}function kh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new jp),t.forEach(function(s){var h=Qp.bind(null,e,s);r.has(s)||(r.add(s),s.then(h,h))})}}function Xt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var h=r[s];try{var g=e,P=t,H=P;e:for(;H!==null;){switch(H.tag){case 5:nt=H.stateNode,Gt=!1;break e;case 3:nt=H.stateNode.containerInfo,Gt=!0;break e;case 4:nt=H.stateNode.containerInfo,Gt=!0;break e}H=H.return}if(nt===null)throw Error(_(160));bh(g,P,h),nt=null,Gt=!1;var K=h.alternate;K!==null&&(K.return=null),h.return=null}catch(Y){Ke(h,t,Y)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Eh(t,e),t=t.sibling}function Eh(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xt(t,e),nr(e),s&4){try{Zi(3,e,e.return),lo(3,e)}catch(ye){Ke(e,e.return,ye)}try{Zi(5,e,e.return)}catch(ye){Ke(e,e.return,ye)}}break;case 1:Xt(t,e),nr(e),s&512&&r!==null&&ri(r,r.return);break;case 5:if(Xt(t,e),nr(e),s&512&&r!==null&&ri(r,r.return),e.flags&32){var h=e.stateNode;try{yt(h,"")}catch(ye){Ke(e,e.return,ye)}}if(s&4&&(h=e.stateNode,h!=null)){var g=e.memoizedProps,P=r!==null?r.memoizedProps:g,H=e.type,K=e.updateQueue;if(e.updateQueue=null,K!==null)try{H==="input"&&g.type==="radio"&&g.name!=null&&it(h,g),jo(H,P);var Y=jo(H,g);for(P=0;P<K.length;P+=2){var oe=K[P],ae=K[P+1];oe==="style"?lc(h,ae):oe==="dangerouslySetInnerHTML"?us(h,ae):oe==="children"?yt(h,ae):l(h,oe,ae,Y)}switch(H){case"input":be(h,g);break;case"textarea":Lr(h,g);break;case"select":var ie=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var ve=g.value;ve!=null?er(h,!!g.multiple,ve,!1):ie!==!!g.multiple&&(g.defaultValue!=null?er(h,!!g.multiple,g.defaultValue,!0):er(h,!!g.multiple,g.multiple?[]:"",!1))}h[Ui]=g}catch(ye){Ke(e,e.return,ye)}}break;case 6:if(Xt(t,e),nr(e),s&4){if(e.stateNode===null)throw Error(_(162));h=e.stateNode,g=e.memoizedProps;try{h.nodeValue=g}catch(ye){Ke(e,e.return,ye)}}break;case 3:if(Xt(t,e),nr(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Ti(t.containerInfo)}catch(ye){Ke(e,e.return,ye)}break;case 4:Xt(t,e),nr(e);break;case 13:Xt(t,e),nr(e),h=e.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(ul=qe())),s&4&&kh(e);break;case 22:if(oe=r!==null&&r.memoizedState!==null,e.mode&1?(dt=(Y=dt)||oe,Xt(t,e),dt=Y):Xt(t,e),nr(e),s&8192){if(Y=e.memoizedState!==null,(e.stateNode.isHidden=Y)&&!oe&&(e.mode&1)!==0)for(me=e,oe=e.child;oe!==null;){for(ae=me=oe;me!==null;){switch(ie=me,ve=ie.child,ie.tag){case 0:case 11:case 14:case 15:Zi(4,ie,ie.return);break;case 1:ri(ie,ie.return);var ge=ie.stateNode;if(typeof ge.componentWillUnmount=="function"){s=ie,r=ie.return;try{t=s,ge.props=t.memoizedProps,ge.state=t.memoizedState,ge.componentWillUnmount()}catch(ye){Ke(s,r,ye)}}break;case 5:ri(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Dh(ae);continue}}ve!==null?(ve.return=ie,me=ve):Dh(ae)}oe=oe.sibling}e:for(oe=null,ae=e;;){if(ae.tag===5){if(oe===null){oe=ae;try{h=ae.stateNode,Y?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(H=ae.stateNode,K=ae.memoizedProps.style,P=K!=null&&K.hasOwnProperty("display")?K.display:null,H.style.display=mn("display",P))}catch(ye){Ke(e,e.return,ye)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=Y?"":ae.memoizedProps}catch(ye){Ke(e,e.return,ye)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===e)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===e)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===e)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Xt(t,e),nr(e),s&4&&kh(e);break;case 21:break;default:Xt(t,e),nr(e)}}function nr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ch(r)){var s=r;break e}r=r.return}throw Error(_(160))}switch(s.tag){case 5:var h=s.stateNode;s.flags&32&&(yt(h,""),s.flags&=-33);var g=xh(e);al(e,g,h);break;case 3:case 4:var P=s.stateNode.containerInfo,H=xh(e);ol(e,H,P);break;default:throw Error(_(161))}}catch(K){Ke(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hp(e,t,r){me=e,Rh(e)}function Rh(e,t,r){for(var s=(e.mode&1)!==0;me!==null;){var h=me,g=h.child;if(h.tag===22&&s){var P=h.memoizedState!==null||ao;if(!P){var H=h.alternate,K=H!==null&&H.memoizedState!==null||dt;H=ao;var Y=dt;if(ao=P,(dt=K)&&!Y)for(me=h;me!==null;)P=me,K=P.child,P.tag===22&&P.memoizedState!==null?Ph(h):K!==null?(K.return=P,me=K):Ph(h);for(;g!==null;)me=g,Rh(g),g=g.sibling;me=h,ao=H,dt=Y}Lh(e)}else(h.subtreeFlags&8772)!==0&&g!==null?(g.return=h,me=g):Lh(e)}}function Lh(e){for(;me!==null;){var t=me;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:dt||lo(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!dt)if(r===null)s.componentDidMount();else{var h=t.elementType===t.type?r.memoizedProps:Qt(t.type,r.memoizedProps);s.componentDidUpdate(h,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var g=t.updateQueue;g!==null&&Du(t,g,s);break;case 3:var P=t.updateQueue;if(P!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Du(t,P,r)}break;case 5:var H=t.stateNode;if(r===null&&t.flags&4){r=H;var K=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&r.focus();break;case"img":K.src&&(r.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var Y=t.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Ti(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}dt||t.flags&512&&nl(t)}catch(ie){Ke(t,t.return,ie)}}if(t===e){me=null;break}if(r=t.sibling,r!==null){r.return=t.return,me=r;break}me=t.return}}function Dh(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,me=r;break}me=t.return}}function Ph(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{lo(4,t)}catch(K){Ke(t,r,K)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var h=t.return;try{s.componentDidMount()}catch(K){Ke(t,h,K)}}var g=t.return;try{nl(t)}catch(K){Ke(t,g,K)}break;case 5:var P=t.return;try{nl(t)}catch(K){Ke(t,P,K)}}}catch(K){Ke(t,t.return,K)}if(t===e){me=null;break}var H=t.sibling;if(H!==null){H.return=t.return,me=H;break}me=t.return}}var zp=Math.ceil,co=p.ReactCurrentDispatcher,ll=p.ReactCurrentOwner,jt=p.ReactCurrentBatchConfig,Te=0,et=null,Ge=null,ot=0,At=0,si=Nr(0),Je=0,en=null,ys=0,uo=0,cl=0,tn=null,xt=null,ul=0,ii=1/0,mr=null,ho=!1,hl=null,Wr=null,fo=!1,$r=null,po=0,rn=0,dl=null,_o=-1,vo=0;function vt(){return(Te&6)!==0?qe():_o!==-1?_o:_o=qe()}function Kr(e){return(e.mode&1)===0?1:(Te&2)!==0&&ot!==0?ot&-ot:bp.transition!==null?(vo===0&&(vo=xc()),vo):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Mc(e.type)),e)}function Jt(e,t,r,s){if(50<rn)throw rn=0,dl=null,Error(_(185));Ei(e,r,s),((Te&2)===0||e!==et)&&(e===et&&((Te&2)===0&&(uo|=r),Je===4&&Vr(e,ot)),bt(e,s),r===1&&Te===0&&(t.mode&1)===0&&(ii=qe()+500,Wn&&Fr()))}function bt(e,t){var r=e.callbackNode;bf(e,t);var s=bn(e,e===et?ot:0);if(s===0)r!==null&&Sc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Sc(r),t===1)e.tag===0?xp(Mh.bind(null,e)):mu(Mh.bind(null,e)),yp(function(){(Te&6)===0&&Fr()}),r=null;else{switch(bc(s)){case 1:r=Ko;break;case 4:r=wc;break;case 16:r=Sn;break;case 536870912:r=Cc;break;default:r=Sn}r=Hh(r,Th.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Th(e,t){if(_o=-1,vo=0,(Te&6)!==0)throw Error(_(327));var r=e.callbackNode;if(ni()&&e.callbackNode!==r)return null;var s=bn(e,e===et?ot:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=mo(e,s);else{t=s;var h=Te;Te|=2;var g=Oh();(et!==e||ot!==t)&&(mr=null,ii=qe()+500,ws(e,t));do try{$p();break}catch(H){Ah(e,H)}while(!0);Pa(),co.current=g,Te=h,Ge!==null?t=0:(et=null,ot=0,t=Je)}if(t!==0){if(t===2&&(h=Vo(e),h!==0&&(s=h,t=fl(e,h))),t===1)throw r=en,ws(e,0),Vr(e,s),bt(e,qe()),r;if(t===6)Vr(e,s);else{if(h=e.current.alternate,(s&30)===0&&!Up(h)&&(t=mo(e,s),t===2&&(g=Vo(e),g!==0&&(s=g,t=fl(e,g))),t===1))throw r=en,ws(e,0),Vr(e,s),bt(e,qe()),r;switch(e.finishedWork=h,e.finishedLanes=s,t){case 0:case 1:throw Error(_(345));case 2:Cs(e,xt,mr);break;case 3:if(Vr(e,s),(s&130023424)===s&&(t=ul+500-qe(),10<t)){if(bn(e,0)!==0)break;if(h=e.suspendedLanes,(h&s)!==s){vt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=ya(Cs.bind(null,e,xt,mr),t);break}Cs(e,xt,mr);break;case 4:if(Vr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,h=-1;0<s;){var P=31-Kt(s);g=1<<P,P=t[P],P>h&&(h=P),s&=~g}if(s=h,s=qe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*zp(s/1960))-s,10<s){e.timeoutHandle=ya(Cs.bind(null,e,xt,mr),s);break}Cs(e,xt,mr);break;case 5:Cs(e,xt,mr);break;default:throw Error(_(329))}}}return bt(e,qe()),e.callbackNode===r?Th.bind(null,e):null}function fl(e,t){var r=tn;return e.current.memoizedState.isDehydrated&&(ws(e,t).flags|=256),e=mo(e,t),e!==2&&(t=xt,xt=r,t!==null&&pl(t)),e}function pl(e){xt===null?xt=e:xt.push.apply(xt,e)}function Up(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var h=r[s],g=h.getSnapshot;h=h.value;try{if(!Vt(g(),h))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vr(e,t){for(t&=~cl,t&=~uo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Kt(t),s=1<<r;e[r]=-1,t&=~s}}function Mh(e){if((Te&6)!==0)throw Error(_(327));ni();var t=bn(e,0);if((t&1)===0)return bt(e,qe()),null;var r=mo(e,t);if(e.tag!==0&&r===2){var s=Vo(e);s!==0&&(t=s,r=fl(e,s))}if(r===1)throw r=en,ws(e,0),Vr(e,t),bt(e,qe()),r;if(r===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cs(e,xt,mr),bt(e,qe()),null}function _l(e,t){var r=Te;Te|=1;try{return e(t)}finally{Te=r,Te===0&&(ii=qe()+500,Wn&&Fr())}}function Ss(e){$r!==null&&$r.tag===0&&(Te&6)===0&&ni();var t=Te;Te|=1;var r=jt.transition,s=Oe;try{if(jt.transition=null,Oe=1,e)return e()}finally{Oe=s,jt.transition=r,Te=t,(Te&6)===0&&Fr()}}function vl(){At=si.current,He(si)}function ws(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,gp(r)),Ge!==null)for(r=Ge.return;r!==null;){var s=r;switch(ka(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&zn();break;case 3:ei(),He(St),He(ct),ja();break;case 5:Ia(s);break;case 4:ei();break;case 13:He(We);break;case 19:He(We);break;case 10:Ta(s.type._context);break;case 22:case 23:vl()}r=r.return}if(et=e,Ge=e=qr(e.current,null),ot=At=t,Je=0,en=null,cl=uo=ys=0,xt=tn=null,vs!==null){for(t=0;t<vs.length;t++)if(r=vs[t],s=r.interleaved,s!==null){r.interleaved=null;var h=s.next,g=r.pending;if(g!==null){var P=g.next;g.next=h,s.next=P}r.pending=s}vs=null}return e}function Ah(e,t){do{var r=Ge;try{if(Pa(),Zn.current=so,eo){for(var s=$e.memoizedState;s!==null;){var h=s.queue;h!==null&&(h.pending=null),s=s.next}eo=!1}if(gs=0,Ze=Xe=$e=null,Qi=!1,Gi=0,ll.current=null,r===null||r.return===null){Je=1,en=t,Ge=null;break}e:{var g=e,P=r.return,H=r,K=t;if(t=ot,H.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var Y=K,oe=H,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ve=ih(P);if(ve!==null){ve.flags&=-257,nh(ve,P,H,g,t),ve.mode&1&&sh(g,Y,t),t=ve,K=Y;var ge=t.updateQueue;if(ge===null){var ye=new Set;ye.add(K),t.updateQueue=ye}else ge.add(K);break e}else{if((t&1)===0){sh(g,Y,t),ml();break e}K=Error(_(426))}}else if(Ue&&H.mode&1){var Qe=ih(P);if(Qe!==null){(Qe.flags&65536)===0&&(Qe.flags|=256),nh(Qe,P,H,g,t),La(ti(K,H));break e}}g=K=ti(K,H),Je!==4&&(Je=2),tn===null?tn=[g]:tn.push(g),g=P;do{switch(g.tag){case 3:g.flags|=65536,t&=-t,g.lanes|=t;var Q=th(g,K,t);Lu(g,Q);break e;case 1:H=K;var q=g.type,G=g.stateNode;if((g.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Wr===null||!Wr.has(G)))){g.flags|=65536,t&=-t,g.lanes|=t;var ce=rh(g,H,t);Lu(g,ce);break e}}g=g.return}while(g!==null)}Ih(r)}catch(Se){t=Se,Ge===r&&r!==null&&(Ge=r=r.return);continue}break}while(!0)}function Oh(){var e=co.current;return co.current=so,e===null?so:e}function ml(){(Je===0||Je===3||Je===2)&&(Je=4),et===null||(ys&268435455)===0&&(uo&268435455)===0||Vr(et,ot)}function mo(e,t){var r=Te;Te|=2;var s=Oh();(et!==e||ot!==t)&&(mr=null,ws(e,t));do try{Wp();break}catch(h){Ah(e,h)}while(!0);if(Pa(),Te=r,co.current=s,Ge!==null)throw Error(_(261));return et=null,ot=0,Je}function Wp(){for(;Ge!==null;)Bh(Ge)}function $p(){for(;Ge!==null&&!_f();)Bh(Ge)}function Bh(e){var t=Fh(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?Ih(e):Ge=t,ll.current=null}function Ih(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Ip(r,t,At),r!==null){Ge=r;return}}else{if(r=Np(r,t),r!==null){r.flags&=32767,Ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Je=6,Ge=null;return}}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);Je===0&&(Je=5)}function Cs(e,t,r){var s=Oe,h=jt.transition;try{jt.transition=null,Oe=1,Kp(e,t,r,s)}finally{jt.transition=h,Oe=s}return null}function Kp(e,t,r,s){do ni();while($r!==null);if((Te&6)!==0)throw Error(_(327));r=e.finishedWork;var h=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var g=r.lanes|r.childLanes;if(kf(e,g),e===et&&(Ge=et=null,ot=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||fo||(fo=!0,Hh(Sn,function(){return ni(),null})),g=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||g){g=jt.transition,jt.transition=null;var P=Oe;Oe=1;var H=Te;Te|=4,ll.current=null,Fp(e,r),Eh(r,e),hp(ma),Rn=!!va,ma=va=null,e.current=r,Hp(r),vf(),Te=H,Oe=P,jt.transition=g}else e.current=r;if(fo&&(fo=!1,$r=e,po=h),g=e.pendingLanes,g===0&&(Wr=null),yf(r.stateNode),bt(e,qe()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)h=t[r],s(h.value,{componentStack:h.stack,digest:h.digest});if(ho)throw ho=!1,e=hl,hl=null,e;return(po&1)!==0&&e.tag!==0&&ni(),g=e.pendingLanes,(g&1)!==0?e===dl?rn++:(rn=0,dl=e):rn=0,Fr(),null}function ni(){if($r!==null){var e=bc(po),t=jt.transition,r=Oe;try{if(jt.transition=null,Oe=16>e?16:e,$r===null)var s=!1;else{if(e=$r,$r=null,po=0,(Te&6)!==0)throw Error(_(331));var h=Te;for(Te|=4,me=e.current;me!==null;){var g=me,P=g.child;if((me.flags&16)!==0){var H=g.deletions;if(H!==null){for(var K=0;K<H.length;K++){var Y=H[K];for(me=Y;me!==null;){var oe=me;switch(oe.tag){case 0:case 11:case 15:Zi(8,oe,g)}var ae=oe.child;if(ae!==null)ae.return=oe,me=ae;else for(;me!==null;){oe=me;var ie=oe.sibling,ve=oe.return;if(wh(oe),oe===Y){me=null;break}if(ie!==null){ie.return=ve,me=ie;break}me=ve}}}var ge=g.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var Qe=ye.sibling;ye.sibling=null,ye=Qe}while(ye!==null)}}me=g}}if((g.subtreeFlags&2064)!==0&&P!==null)P.return=g,me=P;else e:for(;me!==null;){if(g=me,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Zi(9,g,g.return)}var Q=g.sibling;if(Q!==null){Q.return=g.return,me=Q;break e}me=g.return}}var q=e.current;for(me=q;me!==null;){P=me;var G=P.child;if((P.subtreeFlags&2064)!==0&&G!==null)G.return=P,me=G;else e:for(P=q;me!==null;){if(H=me,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:lo(9,H)}}catch(Se){Ke(H,H.return,Se)}if(H===P){me=null;break e}var ce=H.sibling;if(ce!==null){ce.return=H.return,me=ce;break e}me=H.return}}if(Te=h,Fr(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(wn,e)}catch{}s=!0}return s}finally{Oe=r,jt.transition=t}}return!1}function Nh(e,t,r){t=ti(r,t),t=th(e,t,1),e=zr(e,t,1),t=vt(),e!==null&&(Ei(e,1,t),bt(e,t))}function Ke(e,t,r){if(e.tag===3)Nh(e,e,r);else for(;t!==null;){if(t.tag===3){Nh(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Wr===null||!Wr.has(s))){e=ti(r,e),e=rh(t,e,1),t=zr(t,e,1),e=vt(),t!==null&&(Ei(t,1,e),bt(t,e));break}}t=t.return}}function Vp(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=vt(),e.pingedLanes|=e.suspendedLanes&r,et===e&&(ot&r)===r&&(Je===4||Je===3&&(ot&130023424)===ot&&500>qe()-ul?ws(e,0):cl|=r),bt(e,t)}function jh(e,t){t===0&&((e.mode&1)===0?t=1:(t=xn,xn<<=1,(xn&130023424)===0&&(xn=4194304)));var r=vt();e=pr(e,t),e!==null&&(Ei(e,t,r),bt(e,r))}function qp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jh(e,r)}function Qp(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(_(314))}s!==null&&s.delete(t),jh(e,r)}var Fh;Fh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)Ct=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Ct=!1,Bp(e,t,r);Ct=(e.flags&131072)!==0}else Ct=!1,Ue&&(t.flags&1048576)!==0&&gu(t,Kn,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;oo(e,t),e=t.pendingProps;var h=qs(t,ct.current);Zs(t,r),h=za(null,t,s,e,h,r);var g=Ua();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(s)?(g=!0,Un(t)):g=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Oa(t),h.updater=io,t.stateNode=h,h._reactInternals=t,Qa(t,s,e,r),t=Ya(null,t,s,!0,g,r)):(t.tag=0,Ue&&g&&ba(t),_t(null,t,h,r),t=t.child),t;case 16:s=t.elementType;e:{switch(oo(e,t),e=t.pendingProps,h=s._init,s=h(s._payload),t.type=s,h=t.tag=Xp(s),e=Qt(s,e),h){case 0:t=Ja(null,t,s,e,r);break e;case 1:t=hh(null,t,s,e,r);break e;case 11:t=oh(null,t,s,e,r);break e;case 14:t=ah(null,t,s,Qt(s.type,e),r);break e}throw Error(_(306,s,""))}return t;case 0:return s=t.type,h=t.pendingProps,h=t.elementType===s?h:Qt(s,h),Ja(e,t,s,h,r);case 1:return s=t.type,h=t.pendingProps,h=t.elementType===s?h:Qt(s,h),hh(e,t,s,h,r);case 3:e:{if(dh(t),e===null)throw Error(_(387));s=t.pendingProps,g=t.memoizedState,h=g.element,Ru(e,t),Jn(t,s,null,r);var P=t.memoizedState;if(s=P.element,g.isDehydrated)if(g={element:s,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},t.updateQueue.baseState=g,t.memoizedState=g,t.flags&256){h=ti(Error(_(423)),t),t=fh(e,t,s,r,h);break e}else if(s!==h){h=ti(Error(_(424)),t),t=fh(e,t,s,r,h);break e}else for(Mt=Ir(t.stateNode.containerInfo.firstChild),Tt=t,Ue=!0,qt=null,r=ku(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xs(),s===h){t=vr(e,t,r);break e}_t(e,t,s,r)}t=t.child}return t;case 5:return Pu(t),e===null&&Ra(t),s=t.type,h=t.pendingProps,g=e!==null?e.memoizedProps:null,P=h.children,ga(s,h)?P=null:g!==null&&ga(s,g)&&(t.flags|=32),uh(e,t),_t(e,t,P,r),t.child;case 6:return e===null&&Ra(t),null;case 13:return ph(e,t,r);case 4:return Ba(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Js(t,null,s,r):_t(e,t,s,r),t.child;case 11:return s=t.type,h=t.pendingProps,h=t.elementType===s?h:Qt(s,h),oh(e,t,s,h,r);case 7:return _t(e,t,t.pendingProps,r),t.child;case 8:return _t(e,t,t.pendingProps.children,r),t.child;case 12:return _t(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,h=t.pendingProps,g=t.memoizedProps,P=h.value,Ie(Qn,s._currentValue),s._currentValue=P,g!==null)if(Vt(g.value,P)){if(g.children===h.children&&!St.current){t=vr(e,t,r);break e}}else for(g=t.child,g!==null&&(g.return=t);g!==null;){var H=g.dependencies;if(H!==null){P=g.child;for(var K=H.firstContext;K!==null;){if(K.context===s){if(g.tag===1){K=_r(-1,r&-r),K.tag=2;var Y=g.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?K.next=K:(K.next=oe.next,oe.next=K),Y.pending=K}}g.lanes|=r,K=g.alternate,K!==null&&(K.lanes|=r),Ma(g.return,r,t),H.lanes|=r;break}K=K.next}}else if(g.tag===10)P=g.type===t.type?null:g.child;else if(g.tag===18){if(P=g.return,P===null)throw Error(_(341));P.lanes|=r,H=P.alternate,H!==null&&(H.lanes|=r),Ma(P,r,t),P=g.sibling}else P=g.child;if(P!==null)P.return=g;else for(P=g;P!==null;){if(P===t){P=null;break}if(g=P.sibling,g!==null){g.return=P.return,P=g;break}P=P.return}g=P}_t(e,t,h.children,r),t=t.child}return t;case 9:return h=t.type,s=t.pendingProps.children,Zs(t,r),h=It(h),s=s(h),t.flags|=1,_t(e,t,s,r),t.child;case 14:return s=t.type,h=Qt(s,t.pendingProps),h=Qt(s.type,h),ah(e,t,s,h,r);case 15:return lh(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,h=t.pendingProps,h=t.elementType===s?h:Qt(s,h),oo(e,t),t.tag=1,wt(s)?(e=!0,Un(t)):e=!1,Zs(t,r),Zu(t,s,h),Qa(t,s,h,r),Ya(null,t,s,!0,e,r);case 19:return vh(e,t,r);case 22:return ch(e,t,r)}throw Error(_(156,t.tag))};function Hh(e,t){return yc(e,t)}function Gp(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,r,s){return new Gp(e,t,r,s)}function gl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xp(e){if(typeof e=="function")return gl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===W)return 11;if(e===te)return 14}return 2}function qr(e,t){var r=e.alternate;return r===null?(r=Ft(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function go(e,t,r,s,h,g){var P=2;if(s=e,typeof e=="function")gl(e)&&(P=1);else if(typeof e=="string")P=5;else e:switch(e){case R:return xs(r.children,h,g,t);case C:P=8,h|=8;break;case T:return e=Ft(12,r,t,h|2),e.elementType=T,e.lanes=g,e;case F:return e=Ft(13,r,t,h),e.elementType=F,e.lanes=g,e;case J:return e=Ft(19,r,t,h),e.elementType=J,e.lanes=g,e;case le:return yo(r,h,g,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:P=10;break e;case U:P=9;break e;case W:P=11;break e;case te:P=14;break e;case ne:P=16,s=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=Ft(P,r,t,h),t.elementType=e,t.type=s,t.lanes=g,t}function xs(e,t,r,s){return e=Ft(7,e,s,t),e.lanes=r,e}function yo(e,t,r,s){return e=Ft(22,e,s,t),e.elementType=le,e.lanes=r,e.stateNode={isHidden:!1},e}function yl(e,t,r){return e=Ft(6,e,null,t),e.lanes=r,e}function Sl(e,t,r){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jp(e,t,r,s,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=s,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function wl(e,t,r,s,h,g,P,H,K){return e=new Jp(e,t,r,H,K),t===1?(t=1,g===!0&&(t|=8)):t=0,g=Ft(3,null,null,t),e.current=g,g.stateNode=e,g.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(g),e}function Yp(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function zh(e){if(!e)return jr;e=e._reactInternals;e:{if(hs(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var r=e.type;if(wt(r))return _u(e,r,t)}return t}function Uh(e,t,r,s,h,g,P,H,K){return e=wl(r,s,!0,e,h,g,P,H,K),e.context=zh(null),r=e.current,s=vt(),h=Kr(r),g=_r(s,h),g.callback=t??null,zr(r,g,h),e.current.lanes=h,Ei(e,h,s),bt(e,s),e}function So(e,t,r,s){var h=t.current,g=vt(),P=Kr(h);return r=zh(r),t.context===null?t.context=r:t.pendingContext=r,t=_r(g,P),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=zr(h,t,P),e!==null&&(Jt(e,h,P,g),Xn(e,h,P)),P}function wo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Cl(e,t){Wh(e,t),(e=e.alternate)&&Wh(e,t)}function Zp(){return null}var $h=typeof reportError=="function"?reportError:function(e){console.error(e)};function xl(e){this._internalRoot=e}Co.prototype.render=xl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));So(e,t,null,null)},Co.prototype.unmount=xl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ss(function(){So(null,e,null,null)}),t[ur]=null}};function Co(e){this._internalRoot=e}Co.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ar.length&&t!==0&&t<Ar[r].priority;r++);Ar.splice(r,0,e),r===0&&Pc(e)}};function bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kh(){}function e_(e,t,r,s,h){if(h){if(typeof s=="function"){var g=s;s=function(){var Y=wo(P);g.call(Y)}}var P=Uh(t,s,e,0,null,!1,!1,"",Kh);return e._reactRootContainer=P,e[ur]=P.current,Hi(e.nodeType===8?e.parentNode:e),Ss(),P}for(;h=e.lastChild;)e.removeChild(h);if(typeof s=="function"){var H=s;s=function(){var Y=wo(K);H.call(Y)}}var K=wl(e,0,!1,null,null,!1,!1,"",Kh);return e._reactRootContainer=K,e[ur]=K.current,Hi(e.nodeType===8?e.parentNode:e),Ss(function(){So(t,K,r,s)}),K}function bo(e,t,r,s,h){var g=r._reactRootContainer;if(g){var P=g;if(typeof h=="function"){var H=h;h=function(){var K=wo(P);H.call(K)}}So(t,P,e,h)}else P=e_(r,t,e,h,s);return wo(P)}kc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ki(t.pendingLanes);r!==0&&(Qo(t,r|1),bt(t,qe()),(Te&6)===0&&(ii=qe()+500,Fr()))}break;case 13:Ss(function(){var s=pr(e,1);if(s!==null){var h=vt();Jt(s,e,1,h)}}),Cl(e,1)}},Go=function(e){if(e.tag===13){var t=pr(e,134217728);if(t!==null){var r=vt();Jt(t,e,134217728,r)}Cl(e,134217728)}},Ec=function(e){if(e.tag===13){var t=Kr(e),r=pr(e,t);if(r!==null){var s=vt();Jt(r,e,t,s)}Cl(e,t)}},Rc=function(){return Oe},Lc=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}},zo=function(e,t,r){switch(t){case"input":if(be(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var h=Hn(s);if(!h)throw Error(_(90));de(s),be(s,h)}}}break;case"textarea":Lr(e,r);break;case"select":t=r.value,t!=null&&er(e,!!r.multiple,t,!1)}},dc=_l,fc=Ss;var t_={usingClientEntryPoint:!1,Events:[Wi,Ks,Hn,uc,hc,_l]},sn={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r_={bundleType:sn.bundleType,version:sn.version,rendererPackageName:sn.rendererPackageName,rendererConfig:sn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:p.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mc(e),e===null?null:e.stateNode},findFiberByHostInstance:sn.findFiberByHostInstance||Zp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ko=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ko.isDisabled&&ko.supportsFiber)try{wn=ko.inject(r_),tr=ko}catch{}}return kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t_,kt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bl(t))throw Error(_(200));return Yp(e,t,null,r)},kt.createRoot=function(e,t){if(!bl(e))throw Error(_(299));var r=!1,s="",h=$h;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=wl(e,1,!1,null,null,r,!1,s,h),e[ur]=t.current,Hi(e.nodeType===8?e.parentNode:e),new xl(t)},kt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=mc(t),e=e===null?null:e.stateNode,e},kt.flushSync=function(e){return Ss(e)},kt.hydrate=function(e,t,r){if(!xo(t))throw Error(_(200));return bo(null,e,t,!0,r)},kt.hydrateRoot=function(e,t,r){if(!bl(e))throw Error(_(405));var s=r!=null&&r.hydratedSources||null,h=!1,g="",P=$h;if(r!=null&&(r.unstable_strictMode===!0&&(h=!0),r.identifierPrefix!==void 0&&(g=r.identifierPrefix),r.onRecoverableError!==void 0&&(P=r.onRecoverableError)),t=Uh(t,null,e,1,r??null,h,!1,g,P),e[ur]=t.current,Hi(e),s)for(e=0;e<s.length;e++)r=s[e],h=r._getVersion,h=h(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,h]:t.mutableSourceEagerHydrationData.push(r,h);return new Co(t)},kt.render=function(e,t,r){if(!xo(t))throw Error(_(200));return bo(null,e,t,!1,r)},kt.unmountComponentAtNode=function(e){if(!xo(e))throw Error(_(40));return e._reactRootContainer?(Ss(function(){bo(null,null,e,!1,function(){e._reactRootContainer=null,e[ur]=null})}),!0):!1},kt.unstable_batchedUpdates=_l,kt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!xo(r))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return bo(e,t,r,!1,s)},kt.version="18.3.1-next-f1338f8080-20240426",kt}var ed;function u_(){if(ed)return Ll.exports;ed=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(c){console.error(c)}}return u(),Ll.exports=c_(),Ll.exports}var td;function h_(){if(td)return Ro;td=1;var u=u_();return Ro.createRoot=u.createRoot,Ro.hydrateRoot=u.hydrateRoot,Ro}var d_=h_();const f_=Ad(d_);var Si=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(u){return this.listeners.add(u),this.onSubscribe(),()=>{this.listeners.delete(u),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},p_={setTimeout:(u,c)=>setTimeout(u,c),clearTimeout:u=>clearTimeout(u),setInterval:(u,c)=>setInterval(u,c),clearInterval:u=>clearInterval(u)},Yr,Yl,Cd,__=(Cd=class{constructor(){we(this,Yr,p_);we(this,Yl,!1)}setTimeoutProvider(u){_e(this,Yr,u)}setTimeout(u,c){return $(this,Yr).setTimeout(u,c)}clearTimeout(u){$(this,Yr).clearTimeout(u)}setInterval(u,c){return $(this,Yr).setInterval(u,c)}clearInterval(u){$(this,Yr).clearInterval(u)}},Yr=new WeakMap,Yl=new WeakMap,Cd),bs=new __;function v_(u){setTimeout(u,0)}var Os=typeof window>"u"||"Deno"in globalThis;function gt(){}function m_(u,c){return typeof u=="function"?u(c):u}function Bl(u){return typeof u=="number"&&u>=0&&u!==1/0}function Od(u,c){return Math.max(u+(c||0)-Date.now(),0)}function as(u,c){return typeof u=="function"?u(c):u}function zt(u,c){return typeof u=="function"?u(c):u}function rd(u,c){const{type:_="all",exact:E,fetchStatus:A,predicate:j,queryKey:I,stale:o}=u;if(I){if(E){if(c.queryHash!==ec(I,c.options))return!1}else if(!hn(c.queryKey,I))return!1}if(_!=="all"){const f=c.isActive();if(_==="active"&&!f||_==="inactive"&&f)return!1}return!(typeof o=="boolean"&&c.isStale()!==o||A&&A!==c.state.fetchStatus||j&&!j(c))}function sd(u,c){const{exact:_,status:E,predicate:A,mutationKey:j}=u;if(j){if(!c.options.mutationKey)return!1;if(_){if(Bs(c.options.mutationKey)!==Bs(j))return!1}else if(!hn(c.options.mutationKey,j))return!1}return!(E&&c.state.status!==E||A&&!A(c))}function ec(u,c){return((c==null?void 0:c.queryKeyHashFn)||Bs)(u)}function Bs(u){return JSON.stringify(u,(c,_)=>Il(_)?Object.keys(_).sort().reduce((E,A)=>(E[A]=_[A],E),{}):_)}function hn(u,c){return u===c?!0:typeof u!=typeof c?!1:u&&c&&typeof u=="object"&&typeof c=="object"?Object.keys(c).every(_=>hn(u[_],c[_])):!1}var g_=Object.prototype.hasOwnProperty;function Bd(u,c,_=0){if(u===c)return u;if(_>500)return c;const E=id(u)&&id(c);if(!E&&!(Il(u)&&Il(c)))return c;const j=(E?u:Object.keys(u)).length,I=E?c:Object.keys(c),o=I.length,f=E?new Array(o):{};let v=0;for(let S=0;S<o;S++){const d=E?S:I[S],y=u[d],w=c[d];if(y===w){f[d]=y,(E?S<j:g_.call(u,d))&&v++;continue}if(y===null||w===null||typeof y!="object"||typeof w!="object"){f[d]=w;continue}const k=Bd(y,w,_+1);f[d]=k,k===y&&v++}return j===o&&v===j?u:f}function To(u,c){if(!c||Object.keys(u).length!==Object.keys(c).length)return!1;for(const _ in u)if(u[_]!==c[_])return!1;return!0}function id(u){return Array.isArray(u)&&u.length===Object.keys(u).length}function Il(u){if(!nd(u))return!1;const c=u.constructor;if(c===void 0)return!0;const _=c.prototype;return!(!nd(_)||!_.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(u)!==Object.prototype)}function nd(u){return Object.prototype.toString.call(u)==="[object Object]"}function y_(u){return new Promise(c=>{bs.setTimeout(c,u)})}function Nl(u,c,_){return typeof _.structuralSharing=="function"?_.structuralSharing(u,c):_.structuralSharing!==!1?Bd(u,c):c}function S_(u,c,_=0){const E=[...u,c];return _&&E.length>_?E.slice(1):E}function w_(u,c,_=0){const E=[c,...u];return _&&E.length>_?E.slice(0,-1):E}var tc=Symbol();function Id(u,c){return!u.queryFn&&(c!=null&&c.initialPromise)?()=>c.initialPromise:!u.queryFn||u.queryFn===tc?()=>Promise.reject(new Error(`Missing queryFn: '${u.queryHash}'`)):u.queryFn}function rc(u,c){return typeof u=="function"?u(...c):!!u}function C_(u,c,_){let E=!1,A;return Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(A??(A=c()),E||(E=!0,A.aborted?_():A.addEventListener("abort",_,{once:!0})),A)}),u}var ks,Zr,li,xd,x_=(xd=class extends Si{constructor(){super();we(this,ks);we(this,Zr);we(this,li);_e(this,li,c=>{if(!Os&&window.addEventListener){const _=()=>c();return window.addEventListener("visibilitychange",_,!1),()=>{window.removeEventListener("visibilitychange",_)}}})}onSubscribe(){$(this,Zr)||this.setEventListener($(this,li))}onUnsubscribe(){var c;this.hasListeners()||((c=$(this,Zr))==null||c.call(this),_e(this,Zr,void 0))}setEventListener(c){var _;_e(this,li,c),(_=$(this,Zr))==null||_.call(this),_e(this,Zr,c(E=>{typeof E=="boolean"?this.setFocused(E):this.onFocus()}))}setFocused(c){$(this,ks)!==c&&(_e(this,ks,c),this.onFocus())}onFocus(){const c=this.isFocused();this.listeners.forEach(_=>{_(c)})}isFocused(){var c;return typeof $(this,ks)=="boolean"?$(this,ks):((c=globalThis.document)==null?void 0:c.visibilityState)!=="hidden"}},ks=new WeakMap,Zr=new WeakMap,li=new WeakMap,xd),sc=new x_;function jl(){let u,c;const _=new Promise((A,j)=>{u=A,c=j});_.status="pending",_.catch(()=>{});function E(A){Object.assign(_,A),delete _.resolve,delete _.reject}return _.resolve=A=>{E({status:"fulfilled",value:A}),u(A)},_.reject=A=>{E({status:"rejected",reason:A}),c(A)},_}var b_=v_;function k_(){let u=[],c=0,_=o=>{o()},E=o=>{o()},A=b_;const j=o=>{c?u.push(o):A(()=>{_(o)})},I=()=>{const o=u;u=[],o.length&&A(()=>{E(()=>{o.forEach(f=>{_(f)})})})};return{batch:o=>{let f;c++;try{f=o()}finally{c--,c||I()}return f},batchCalls:o=>(...f)=>{j(()=>{o(...f)})},schedule:j,setNotifyFunction:o=>{_=o},setBatchNotifyFunction:o=>{E=o},setScheduler:o=>{A=o}}}var Ye=k_(),ci,es,ui,bd,E_=(bd=class extends Si{constructor(){super();we(this,ci,!0);we(this,es);we(this,ui);_e(this,ui,c=>{if(!Os&&window.addEventListener){const _=()=>c(!0),E=()=>c(!1);return window.addEventListener("online",_,!1),window.addEventListener("offline",E,!1),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",E)}}})}onSubscribe(){$(this,es)||this.setEventListener($(this,ui))}onUnsubscribe(){var c;this.hasListeners()||((c=$(this,es))==null||c.call(this),_e(this,es,void 0))}setEventListener(c){var _;_e(this,ui,c),(_=$(this,es))==null||_.call(this),_e(this,es,c(this.setOnline.bind(this)))}setOnline(c){$(this,ci)!==c&&(_e(this,ci,c),this.listeners.forEach(E=>{E(c)}))}isOnline(){return $(this,ci)}},ci=new WeakMap,es=new WeakMap,ui=new WeakMap,bd),Mo=new E_;function R_(u){return Math.min(1e3*2**u,3e4)}function Nd(u){return(u??"online")==="online"?Mo.isOnline():!0}var Fl=class extends Error{constructor(u){super("CancelledError"),this.revert=u==null?void 0:u.revert,this.silent=u==null?void 0:u.silent}};function jd(u){let c=!1,_=0,E;const A=jl(),j=()=>A.status!=="pending",I=m=>{var n;if(!j()){const a=new Fl(m);y(a),(n=u.onCancel)==null||n.call(u,a)}},o=()=>{c=!0},f=()=>{c=!1},v=()=>sc.isFocused()&&(u.networkMode==="always"||Mo.isOnline())&&u.canRun(),S=()=>Nd(u.networkMode)&&u.canRun(),d=m=>{j()||(E==null||E(),A.resolve(m))},y=m=>{j()||(E==null||E(),A.reject(m))},w=()=>new Promise(m=>{var n;E=a=>{(j()||v())&&m(a)},(n=u.onPause)==null||n.call(u)}).then(()=>{var m;E=void 0,j()||(m=u.onContinue)==null||m.call(u)}),k=()=>{if(j())return;let m;const n=_===0?u.initialPromise:void 0;try{m=n??u.fn()}catch(a){m=Promise.reject(a)}Promise.resolve(m).then(d).catch(a=>{var x;if(j())return;const i=u.retry??(Os?0:3),l=u.retryDelay??R_,p=typeof l=="function"?l(_,a):l,b=i===!0||typeof i=="number"&&_<i||typeof i=="function"&&i(_,a);if(c||!b){y(a);return}_++,(x=u.onFail)==null||x.call(u,_,a),y_(p).then(()=>v()?void 0:w()).then(()=>{c?y(a):k()})})};return{promise:A,status:()=>A.status,cancel:I,continue:()=>(E==null||E(),A),cancelRetry:o,continueRetry:f,canStart:S,start:()=>(S()?k():w().then(k),A)}}var Es,kd,Fd=(kd=class{constructor(){we(this,Es)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bl(this.gcTime)&&_e(this,Es,bs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(u){this.gcTime=Math.max(this.gcTime||0,u??(Os?1/0:300*1e3))}clearGcTimeout(){$(this,Es)&&(bs.clearTimeout($(this,Es)),_e(this,Es,void 0))}},Es=new WeakMap,kd),Rs,hi,Ht,Ls,rt,dn,Ds,Yt,yr,Ed,L_=(Ed=class extends Fd{constructor(c){super();we(this,Yt);we(this,Rs);we(this,hi);we(this,Ht);we(this,Ls);we(this,rt);we(this,dn);we(this,Ds);_e(this,Ds,!1),_e(this,dn,c.defaultOptions),this.setOptions(c.options),this.observers=[],_e(this,Ls,c.client),_e(this,Ht,$(this,Ls).getQueryCache()),this.queryKey=c.queryKey,this.queryHash=c.queryHash,_e(this,Rs,ad(this.options)),this.state=c.state??$(this,Rs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var c;return(c=$(this,rt))==null?void 0:c.promise}setOptions(c){if(this.options={...$(this,dn),...c},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const _=ad(this.options);_.data!==void 0&&(this.setState(od(_.data,_.dataUpdatedAt)),_e(this,Rs,_))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Ht).remove(this)}setData(c,_){const E=Nl(this.state.data,c,this.options);return Re(this,Yt,yr).call(this,{data:E,type:"success",dataUpdatedAt:_==null?void 0:_.updatedAt,manual:_==null?void 0:_.manual}),E}setState(c,_){Re(this,Yt,yr).call(this,{type:"setState",state:c,setStateOptions:_})}cancel(c){var E,A;const _=(E=$(this,rt))==null?void 0:E.promise;return(A=$(this,rt))==null||A.cancel(c),_?_.then(gt).catch(gt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Rs))}isActive(){return this.observers.some(c=>zt(c.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(c=>as(c.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(c=>c.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(c=0){return this.state.data===void 0?!0:c==="static"?!1:this.state.isInvalidated?!0:!Od(this.state.dataUpdatedAt,c)}onFocus(){var _;const c=this.observers.find(E=>E.shouldFetchOnWindowFocus());c==null||c.refetch({cancelRefetch:!1}),(_=$(this,rt))==null||_.continue()}onOnline(){var _;const c=this.observers.find(E=>E.shouldFetchOnReconnect());c==null||c.refetch({cancelRefetch:!1}),(_=$(this,rt))==null||_.continue()}addObserver(c){this.observers.includes(c)||(this.observers.push(c),this.clearGcTimeout(),$(this,Ht).notify({type:"observerAdded",query:this,observer:c}))}removeObserver(c){this.observers.includes(c)&&(this.observers=this.observers.filter(_=>_!==c),this.observers.length||($(this,rt)&&($(this,Ds)?$(this,rt).cancel({revert:!0}):$(this,rt).cancelRetry()),this.scheduleGc()),$(this,Ht).notify({type:"observerRemoved",query:this,observer:c}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Re(this,Yt,yr).call(this,{type:"invalidate"})}async fetch(c,_){var f,v,S,d,y,w,k,m,n,a,i,l;if(this.state.fetchStatus!=="idle"&&((f=$(this,rt))==null?void 0:f.status())!=="rejected"){if(this.state.data!==void 0&&(_!=null&&_.cancelRefetch))this.cancel({silent:!0});else if($(this,rt))return $(this,rt).continueRetry(),$(this,rt).promise}if(c&&this.setOptions(c),!this.options.queryFn){const p=this.observers.find(b=>b.options.queryFn);p&&this.setOptions(p.options)}const E=new AbortController,A=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(_e(this,Ds,!0),E.signal)})},j=()=>{const p=Id(this.options,_),x=(()=>{const R={client:$(this,Ls),queryKey:this.queryKey,meta:this.meta};return A(R),R})();return _e(this,Ds,!1),this.options.persister?this.options.persister(p,x,this):p(x)},o=(()=>{const p={fetchOptions:_,options:this.options,queryKey:this.queryKey,client:$(this,Ls),state:this.state,fetchFn:j};return A(p),p})();(v=this.options.behavior)==null||v.onFetch(o,this),_e(this,hi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((S=o.fetchOptions)==null?void 0:S.meta))&&Re(this,Yt,yr).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta}),_e(this,rt,jd({initialPromise:_==null?void 0:_.initialPromise,fn:o.fetchFn,onCancel:p=>{p instanceof Fl&&p.revert&&this.setState({...$(this,hi),fetchStatus:"idle"}),E.abort()},onFail:(p,b)=>{Re(this,Yt,yr).call(this,{type:"failed",failureCount:p,error:b})},onPause:()=>{Re(this,Yt,yr).call(this,{type:"pause"})},onContinue:()=>{Re(this,Yt,yr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const p=await $(this,rt).start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),(w=(y=$(this,Ht).config).onSuccess)==null||w.call(y,p,this),(m=(k=$(this,Ht).config).onSettled)==null||m.call(k,p,this.state.error,this),p}catch(p){if(p instanceof Fl){if(p.silent)return $(this,rt).promise;if(p.revert){if(this.state.data===void 0)throw p;return this.state.data}}throw Re(this,Yt,yr).call(this,{type:"error",error:p}),(a=(n=$(this,Ht).config).onError)==null||a.call(n,p,this),(l=(i=$(this,Ht).config).onSettled)==null||l.call(i,this.state.data,p,this),p}finally{this.scheduleGc()}}},Rs=new WeakMap,hi=new WeakMap,Ht=new WeakMap,Ls=new WeakMap,rt=new WeakMap,dn=new WeakMap,Ds=new WeakMap,Yt=new WeakSet,yr=function(c){const _=E=>{switch(c.type){case"failed":return{...E,fetchFailureCount:c.failureCount,fetchFailureReason:c.error};case"pause":return{...E,fetchStatus:"paused"};case"continue":return{...E,fetchStatus:"fetching"};case"fetch":return{...E,...Hd(E.data,this.options),fetchMeta:c.meta??null};case"success":const A={...E,...od(c.data,c.dataUpdatedAt),dataUpdateCount:E.dataUpdateCount+1,...!c.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return _e(this,hi,c.manual?A:void 0),A;case"error":const j=c.error;return{...E,error:j,errorUpdateCount:E.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:E.fetchFailureCount+1,fetchFailureReason:j,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...E,isInvalidated:!0};case"setState":return{...E,...c.state}}};this.state=_(this.state),Ye.batch(()=>{this.observers.forEach(E=>{E.onQueryUpdate()}),$(this,Ht).notify({query:this,type:"updated",action:c})})},Ed);function Hd(u,c){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Nd(c.networkMode)?"fetching":"paused",...u===void 0&&{error:null,status:"pending"}}}function od(u,c){return{data:u,dataUpdatedAt:c??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ad(u){const c=typeof u.initialData=="function"?u.initialData():u.initialData,_=c!==void 0,E=_?typeof u.initialDataUpdatedAt=="function"?u.initialDataUpdatedAt():u.initialDataUpdatedAt:0;return{data:c,dataUpdateCount:0,dataUpdatedAt:_?E??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:_?"success":"pending",fetchStatus:"idle"}}var Et,Pe,fn,mt,Ps,di,Sr,ts,pn,fi,pi,Ts,Ms,rs,_i,Ae,cn,Hl,zl,Ul,Wl,$l,Kl,Vl,zd,Rd,D_=(Rd=class extends Si{constructor(c,_){super();we(this,Ae);we(this,Et);we(this,Pe);we(this,fn);we(this,mt);we(this,Ps);we(this,di);we(this,Sr);we(this,ts);we(this,pn);we(this,fi);we(this,pi);we(this,Ts);we(this,Ms);we(this,rs);we(this,_i,new Set);this.options=_,_e(this,Et,c),_e(this,ts,null),_e(this,Sr,jl()),this.bindMethods(),this.setOptions(_)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,Pe).addObserver(this),ld($(this,Pe),this.options)?Re(this,Ae,cn).call(this):this.updateResult(),Re(this,Ae,Wl).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ql($(this,Pe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ql($(this,Pe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Re(this,Ae,$l).call(this),Re(this,Ae,Kl).call(this),$(this,Pe).removeObserver(this)}setOptions(c){const _=this.options,E=$(this,Pe);if(this.options=$(this,Et).defaultQueryOptions(c),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zt(this.options.enabled,$(this,Pe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Re(this,Ae,Vl).call(this),$(this,Pe).setOptions(this.options),_._defaulted&&!To(this.options,_)&&$(this,Et).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,Pe),observer:this});const A=this.hasListeners();A&&cd($(this,Pe),E,this.options,_)&&Re(this,Ae,cn).call(this),this.updateResult(),A&&($(this,Pe)!==E||zt(this.options.enabled,$(this,Pe))!==zt(_.enabled,$(this,Pe))||as(this.options.staleTime,$(this,Pe))!==as(_.staleTime,$(this,Pe)))&&Re(this,Ae,Hl).call(this);const j=Re(this,Ae,zl).call(this);A&&($(this,Pe)!==E||zt(this.options.enabled,$(this,Pe))!==zt(_.enabled,$(this,Pe))||j!==$(this,rs))&&Re(this,Ae,Ul).call(this,j)}getOptimisticResult(c){const _=$(this,Et).getQueryCache().build($(this,Et),c),E=this.createResult(_,c);return T_(this,E)&&(_e(this,mt,E),_e(this,di,this.options),_e(this,Ps,$(this,Pe).state)),E}getCurrentResult(){return $(this,mt)}trackResult(c,_){return new Proxy(c,{get:(E,A)=>(this.trackProp(A),_==null||_(A),A==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&$(this,Sr).status==="pending"&&$(this,Sr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(E,A))})}trackProp(c){$(this,_i).add(c)}getCurrentQuery(){return $(this,Pe)}refetch({...c}={}){return this.fetch({...c})}fetchOptimistic(c){const _=$(this,Et).defaultQueryOptions(c),E=$(this,Et).getQueryCache().build($(this,Et),_);return E.fetch().then(()=>this.createResult(E,_))}fetch(c){return Re(this,Ae,cn).call(this,{...c,cancelRefetch:c.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,mt)))}createResult(c,_){var T;const E=$(this,Pe),A=this.options,j=$(this,mt),I=$(this,Ps),o=$(this,di),v=c!==E?c.state:$(this,fn),{state:S}=c;let d={...S},y=!1,w;if(_._optimisticResults){const z=this.hasListeners(),U=!z&&ld(c,_),W=z&&cd(c,E,_,A);(U||W)&&(d={...d,...Hd(S.data,c.options)}),_._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:k,errorUpdatedAt:m,status:n}=d;w=d.data;let a=!1;if(_.placeholderData!==void 0&&w===void 0&&n==="pending"){let z;j!=null&&j.isPlaceholderData&&_.placeholderData===(o==null?void 0:o.placeholderData)?(z=j.data,a=!0):z=typeof _.placeholderData=="function"?_.placeholderData((T=$(this,pi))==null?void 0:T.state.data,$(this,pi)):_.placeholderData,z!==void 0&&(n="success",w=Nl(j==null?void 0:j.data,z,_),y=!0)}if(_.select&&w!==void 0&&!a)if(j&&w===(I==null?void 0:I.data)&&_.select===$(this,pn))w=$(this,fi);else try{_e(this,pn,_.select),w=_.select(w),w=Nl(j==null?void 0:j.data,w,_),_e(this,fi,w),_e(this,ts,null)}catch(z){_e(this,ts,z)}$(this,ts)&&(k=$(this,ts),w=$(this,fi),m=Date.now(),n="error");const i=d.fetchStatus==="fetching",l=n==="pending",p=n==="error",b=l&&i,x=w!==void 0,C={status:n,fetchStatus:d.fetchStatus,isPending:l,isSuccess:n==="success",isError:p,isInitialLoading:b,isLoading:b,data:w,dataUpdatedAt:d.dataUpdatedAt,error:k,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>v.dataUpdateCount||d.errorUpdateCount>v.errorUpdateCount,isFetching:i,isRefetching:i&&!l,isLoadingError:p&&!x,isPaused:d.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:p&&x,isStale:ic(c,_),refetch:this.refetch,promise:$(this,Sr),isEnabled:zt(_.enabled,c)!==!1};if(this.options.experimental_prefetchInRender){const z=C.data!==void 0,U=C.status==="error"&&!z,W=te=>{U?te.reject(C.error):z&&te.resolve(C.data)},F=()=>{const te=_e(this,Sr,C.promise=jl());W(te)},J=$(this,Sr);switch(J.status){case"pending":c.queryHash===E.queryHash&&W(J);break;case"fulfilled":(U||C.data!==J.value)&&F();break;case"rejected":(!U||C.error!==J.reason)&&F();break}}return C}updateResult(){const c=$(this,mt),_=this.createResult($(this,Pe),this.options);if(_e(this,Ps,$(this,Pe).state),_e(this,di,this.options),$(this,Ps).data!==void 0&&_e(this,pi,$(this,Pe)),To(_,c))return;_e(this,mt,_);const E=()=>{if(!c)return!0;const{notifyOnChangeProps:A}=this.options,j=typeof A=="function"?A():A;if(j==="all"||!j&&!$(this,_i).size)return!0;const I=new Set(j??$(this,_i));return this.options.throwOnError&&I.add("error"),Object.keys($(this,mt)).some(o=>{const f=o;return $(this,mt)[f]!==c[f]&&I.has(f)})};Re(this,Ae,zd).call(this,{listeners:E()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Re(this,Ae,Wl).call(this)}},Et=new WeakMap,Pe=new WeakMap,fn=new WeakMap,mt=new WeakMap,Ps=new WeakMap,di=new WeakMap,Sr=new WeakMap,ts=new WeakMap,pn=new WeakMap,fi=new WeakMap,pi=new WeakMap,Ts=new WeakMap,Ms=new WeakMap,rs=new WeakMap,_i=new WeakMap,Ae=new WeakSet,cn=function(c){Re(this,Ae,Vl).call(this);let _=$(this,Pe).fetch(this.options,c);return c!=null&&c.throwOnError||(_=_.catch(gt)),_},Hl=function(){Re(this,Ae,$l).call(this);const c=as(this.options.staleTime,$(this,Pe));if(Os||$(this,mt).isStale||!Bl(c))return;const E=Od($(this,mt).dataUpdatedAt,c)+1;_e(this,Ts,bs.setTimeout(()=>{$(this,mt).isStale||this.updateResult()},E))},zl=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,Pe)):this.options.refetchInterval)??!1},Ul=function(c){Re(this,Ae,Kl).call(this),_e(this,rs,c),!(Os||zt(this.options.enabled,$(this,Pe))===!1||!Bl($(this,rs))||$(this,rs)===0)&&_e(this,Ms,bs.setInterval(()=>{(this.options.refetchIntervalInBackground||sc.isFocused())&&Re(this,Ae,cn).call(this)},$(this,rs)))},Wl=function(){Re(this,Ae,Hl).call(this),Re(this,Ae,Ul).call(this,Re(this,Ae,zl).call(this))},$l=function(){$(this,Ts)&&(bs.clearTimeout($(this,Ts)),_e(this,Ts,void 0))},Kl=function(){$(this,Ms)&&(bs.clearInterval($(this,Ms)),_e(this,Ms,void 0))},Vl=function(){const c=$(this,Et).getQueryCache().build($(this,Et),this.options);if(c===$(this,Pe))return;const _=$(this,Pe);_e(this,Pe,c),_e(this,fn,c.state),this.hasListeners()&&(_==null||_.removeObserver(this),c.addObserver(this))},zd=function(c){Ye.batch(()=>{c.listeners&&this.listeners.forEach(_=>{_($(this,mt))}),$(this,Et).getQueryCache().notify({query:$(this,Pe),type:"observerResultsUpdated"})})},Rd);function P_(u,c){return zt(c.enabled,u)!==!1&&u.state.data===void 0&&!(u.state.status==="error"&&c.retryOnMount===!1)}function ld(u,c){return P_(u,c)||u.state.data!==void 0&&ql(u,c,c.refetchOnMount)}function ql(u,c,_){if(zt(c.enabled,u)!==!1&&as(c.staleTime,u)!=="static"){const E=typeof _=="function"?_(u):_;return E==="always"||E!==!1&&ic(u,c)}return!1}function cd(u,c,_,E){return(u!==c||zt(E.enabled,u)===!1)&&(!_.suspense||u.state.status!=="error")&&ic(u,_)}function ic(u,c){return zt(c.enabled,u)!==!1&&u.isStaleByTime(as(c.staleTime,u))}function T_(u,c){return!To(u.getCurrentResult(),c)}function ud(u){return{onFetch:(c,_)=>{var S,d,y,w,k;const E=c.options,A=(y=(d=(S=c.fetchOptions)==null?void 0:S.meta)==null?void 0:d.fetchMore)==null?void 0:y.direction,j=((w=c.state.data)==null?void 0:w.pages)||[],I=((k=c.state.data)==null?void 0:k.pageParams)||[];let o={pages:[],pageParams:[]},f=0;const v=async()=>{let m=!1;const n=l=>{C_(l,()=>c.signal,()=>m=!0)},a=Id(c.options,c.fetchOptions),i=async(l,p,b)=>{if(m)return Promise.reject();if(p==null&&l.pages.length)return Promise.resolve(l);const R=(()=>{const U={client:c.client,queryKey:c.queryKey,pageParam:p,direction:b?"backward":"forward",meta:c.options.meta};return n(U),U})(),C=await a(R),{maxPages:T}=c.options,z=b?w_:S_;return{pages:z(l.pages,C,T),pageParams:z(l.pageParams,p,T)}};if(A&&j.length){const l=A==="backward",p=l?M_:hd,b={pages:j,pageParams:I},x=p(E,b);o=await i(b,x,l)}else{const l=u??j.length;do{const p=f===0?I[0]??E.initialPageParam:hd(E,o);if(f>0&&p==null)break;o=await i(o,p),f++}while(f<l)}return o};c.options.persister?c.fetchFn=()=>{var m,n;return(n=(m=c.options).persister)==null?void 0:n.call(m,v,{client:c.client,queryKey:c.queryKey,meta:c.options.meta,signal:c.signal},_)}:c.fetchFn=v}}}function hd(u,{pages:c,pageParams:_}){const E=c.length-1;return c.length>0?u.getNextPageParam(c[E],c,_[E],_):void 0}function M_(u,{pages:c,pageParams:_}){var E;return c.length>0?(E=u.getPreviousPageParam)==null?void 0:E.call(u,c[0],c,_[0],_):void 0}var _n,or,ft,As,ar,Jr,Ld,A_=(Ld=class extends Fd{constructor(c){super();we(this,ar);we(this,_n);we(this,or);we(this,ft);we(this,As);_e(this,_n,c.client),this.mutationId=c.mutationId,_e(this,ft,c.mutationCache),_e(this,or,[]),this.state=c.state||Ud(),this.setOptions(c.options),this.scheduleGc()}setOptions(c){this.options=c,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(c){$(this,or).includes(c)||($(this,or).push(c),this.clearGcTimeout(),$(this,ft).notify({type:"observerAdded",mutation:this,observer:c}))}removeObserver(c){_e(this,or,$(this,or).filter(_=>_!==c)),this.scheduleGc(),$(this,ft).notify({type:"observerRemoved",mutation:this,observer:c})}optionalRemove(){$(this,or).length||(this.state.status==="pending"?this.scheduleGc():$(this,ft).remove(this))}continue(){var c;return((c=$(this,As))==null?void 0:c.continue())??this.execute(this.state.variables)}async execute(c){var I,o,f,v,S,d,y,w,k,m,n,a,i,l,p,b,x,R;const _=()=>{Re(this,ar,Jr).call(this,{type:"continue"})},E={client:$(this,_n),meta:this.options.meta,mutationKey:this.options.mutationKey};_e(this,As,jd({fn:()=>this.options.mutationFn?this.options.mutationFn(c,E):Promise.reject(new Error("No mutationFn found")),onFail:(C,T)=>{Re(this,ar,Jr).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{Re(this,ar,Jr).call(this,{type:"pause"})},onContinue:_,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,ft).canRun(this)}));const A=this.state.status==="pending",j=!$(this,As).canStart();try{if(A)_();else{Re(this,ar,Jr).call(this,{type:"pending",variables:c,isPaused:j}),$(this,ft).config.onMutate&&await $(this,ft).config.onMutate(c,this,E);const T=await((o=(I=this.options).onMutate)==null?void 0:o.call(I,c,E));T!==this.state.context&&Re(this,ar,Jr).call(this,{type:"pending",context:T,variables:c,isPaused:j})}const C=await $(this,As).start();return await((v=(f=$(this,ft).config).onSuccess)==null?void 0:v.call(f,C,c,this.state.context,this,E)),await((d=(S=this.options).onSuccess)==null?void 0:d.call(S,C,c,this.state.context,E)),await((w=(y=$(this,ft).config).onSettled)==null?void 0:w.call(y,C,null,this.state.variables,this.state.context,this,E)),await((m=(k=this.options).onSettled)==null?void 0:m.call(k,C,null,c,this.state.context,E)),Re(this,ar,Jr).call(this,{type:"success",data:C}),C}catch(C){try{await((a=(n=$(this,ft).config).onError)==null?void 0:a.call(n,C,c,this.state.context,this,E))}catch(T){Promise.reject(T)}try{await((l=(i=this.options).onError)==null?void 0:l.call(i,C,c,this.state.context,E))}catch(T){Promise.reject(T)}try{await((b=(p=$(this,ft).config).onSettled)==null?void 0:b.call(p,void 0,C,this.state.variables,this.state.context,this,E))}catch(T){Promise.reject(T)}try{await((R=(x=this.options).onSettled)==null?void 0:R.call(x,void 0,C,c,this.state.context,E))}catch(T){Promise.reject(T)}throw Re(this,ar,Jr).call(this,{type:"error",error:C}),C}finally{$(this,ft).runNext(this)}}},_n=new WeakMap,or=new WeakMap,ft=new WeakMap,As=new WeakMap,ar=new WeakSet,Jr=function(c){const _=E=>{switch(c.type){case"failed":return{...E,failureCount:c.failureCount,failureReason:c.error};case"pause":return{...E,isPaused:!0};case"continue":return{...E,isPaused:!1};case"pending":return{...E,context:c.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:c.isPaused,status:"pending",variables:c.variables,submittedAt:Date.now()};case"success":return{...E,data:c.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...E,data:void 0,error:c.error,failureCount:E.failureCount+1,failureReason:c.error,isPaused:!1,status:"error"}}};this.state=_(this.state),Ye.batch(()=>{$(this,or).forEach(E=>{E.onMutationUpdate(c)}),$(this,ft).notify({mutation:this,type:"updated",action:c})})},Ld);function Ud(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wr,Zt,vn,Dd,O_=(Dd=class extends Si{constructor(c={}){super();we(this,wr);we(this,Zt);we(this,vn);this.config=c,_e(this,wr,new Set),_e(this,Zt,new Map),_e(this,vn,0)}build(c,_,E){const A=new A_({client:c,mutationCache:this,mutationId:++Eo(this,vn)._,options:c.defaultMutationOptions(_),state:E});return this.add(A),A}add(c){$(this,wr).add(c);const _=Lo(c);if(typeof _=="string"){const E=$(this,Zt).get(_);E?E.push(c):$(this,Zt).set(_,[c])}this.notify({type:"added",mutation:c})}remove(c){if($(this,wr).delete(c)){const _=Lo(c);if(typeof _=="string"){const E=$(this,Zt).get(_);if(E)if(E.length>1){const A=E.indexOf(c);A!==-1&&E.splice(A,1)}else E[0]===c&&$(this,Zt).delete(_)}}this.notify({type:"removed",mutation:c})}canRun(c){const _=Lo(c);if(typeof _=="string"){const E=$(this,Zt).get(_),A=E==null?void 0:E.find(j=>j.state.status==="pending");return!A||A===c}else return!0}runNext(c){var E;const _=Lo(c);if(typeof _=="string"){const A=(E=$(this,Zt).get(_))==null?void 0:E.find(j=>j!==c&&j.state.isPaused);return(A==null?void 0:A.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ye.batch(()=>{$(this,wr).forEach(c=>{this.notify({type:"removed",mutation:c})}),$(this,wr).clear(),$(this,Zt).clear()})}getAll(){return Array.from($(this,wr))}find(c){const _={exact:!0,...c};return this.getAll().find(E=>sd(_,E))}findAll(c={}){return this.getAll().filter(_=>sd(c,_))}notify(c){Ye.batch(()=>{this.listeners.forEach(_=>{_(c)})})}resumePausedMutations(){const c=this.getAll().filter(_=>_.state.isPaused);return Ye.batch(()=>Promise.all(c.map(_=>_.continue().catch(gt))))}},wr=new WeakMap,Zt=new WeakMap,vn=new WeakMap,Dd);function Lo(u){var c;return(c=u.options.scope)==null?void 0:c.id}var Cr,ss,Rt,xr,br,Po,Ql,Pd,B_=(Pd=class extends Si{constructor(_,E){super();we(this,br);we(this,Cr);we(this,ss);we(this,Rt);we(this,xr);_e(this,Cr,_),this.setOptions(E),this.bindMethods(),Re(this,br,Po).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(_){var A;const E=this.options;this.options=$(this,Cr).defaultMutationOptions(_),To(this.options,E)||$(this,Cr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,Rt),observer:this}),E!=null&&E.mutationKey&&this.options.mutationKey&&Bs(E.mutationKey)!==Bs(this.options.mutationKey)?this.reset():((A=$(this,Rt))==null?void 0:A.state.status)==="pending"&&$(this,Rt).setOptions(this.options)}onUnsubscribe(){var _;this.hasListeners()||(_=$(this,Rt))==null||_.removeObserver(this)}onMutationUpdate(_){Re(this,br,Po).call(this),Re(this,br,Ql).call(this,_)}getCurrentResult(){return $(this,ss)}reset(){var _;(_=$(this,Rt))==null||_.removeObserver(this),_e(this,Rt,void 0),Re(this,br,Po).call(this),Re(this,br,Ql).call(this)}mutate(_,E){var A;return _e(this,xr,E),(A=$(this,Rt))==null||A.removeObserver(this),_e(this,Rt,$(this,Cr).getMutationCache().build($(this,Cr),this.options)),$(this,Rt).addObserver(this),$(this,Rt).execute(_)}},Cr=new WeakMap,ss=new WeakMap,Rt=new WeakMap,xr=new WeakMap,br=new WeakSet,Po=function(){var E;const _=((E=$(this,Rt))==null?void 0:E.state)??Ud();_e(this,ss,{..._,isPending:_.status==="pending",isSuccess:_.status==="success",isError:_.status==="error",isIdle:_.status==="idle",mutate:this.mutate,reset:this.reset})},Ql=function(_){Ye.batch(()=>{var E,A,j,I,o,f,v,S;if($(this,xr)&&this.hasListeners()){const d=$(this,ss).variables,y=$(this,ss).context,w={client:$(this,Cr),meta:this.options.meta,mutationKey:this.options.mutationKey};if((_==null?void 0:_.type)==="success"){try{(A=(E=$(this,xr)).onSuccess)==null||A.call(E,_.data,d,y,w)}catch(k){Promise.reject(k)}try{(I=(j=$(this,xr)).onSettled)==null||I.call(j,_.data,null,d,y,w)}catch(k){Promise.reject(k)}}else if((_==null?void 0:_.type)==="error"){try{(f=(o=$(this,xr)).onError)==null||f.call(o,_.error,d,y,w)}catch(k){Promise.reject(k)}try{(S=(v=$(this,xr)).onSettled)==null||S.call(v,void 0,_.error,d,y,w)}catch(k){Promise.reject(k)}}}this.listeners.forEach(d=>{d($(this,ss))})})},Pd),lr,Td,I_=(Td=class extends Si{constructor(c={}){super();we(this,lr);this.config=c,_e(this,lr,new Map)}build(c,_,E){const A=_.queryKey,j=_.queryHash??ec(A,_);let I=this.get(j);return I||(I=new L_({client:c,queryKey:A,queryHash:j,options:c.defaultQueryOptions(_),state:E,defaultOptions:c.getQueryDefaults(A)}),this.add(I)),I}add(c){$(this,lr).has(c.queryHash)||($(this,lr).set(c.queryHash,c),this.notify({type:"added",query:c}))}remove(c){const _=$(this,lr).get(c.queryHash);_&&(c.destroy(),_===c&&$(this,lr).delete(c.queryHash),this.notify({type:"removed",query:c}))}clear(){Ye.batch(()=>{this.getAll().forEach(c=>{this.remove(c)})})}get(c){return $(this,lr).get(c)}getAll(){return[...$(this,lr).values()]}find(c){const _={exact:!0,...c};return this.getAll().find(E=>rd(_,E))}findAll(c={}){const _=this.getAll();return Object.keys(c).length>0?_.filter(E=>rd(c,E)):_}notify(c){Ye.batch(()=>{this.listeners.forEach(_=>{_(c)})})}onFocus(){Ye.batch(()=>{this.getAll().forEach(c=>{c.onFocus()})})}onOnline(){Ye.batch(()=>{this.getAll().forEach(c=>{c.onOnline()})})}},lr=new WeakMap,Td),Ve,is,ns,vi,mi,os,gi,yi,Md,N_=(Md=class{constructor(u={}){we(this,Ve);we(this,is);we(this,ns);we(this,vi);we(this,mi);we(this,os);we(this,gi);we(this,yi);_e(this,Ve,u.queryCache||new I_),_e(this,is,u.mutationCache||new O_),_e(this,ns,u.defaultOptions||{}),_e(this,vi,new Map),_e(this,mi,new Map),_e(this,os,0)}mount(){Eo(this,os)._++,$(this,os)===1&&(_e(this,gi,sc.subscribe(async u=>{u&&(await this.resumePausedMutations(),$(this,Ve).onFocus())})),_e(this,yi,Mo.subscribe(async u=>{u&&(await this.resumePausedMutations(),$(this,Ve).onOnline())})))}unmount(){var u,c;Eo(this,os)._--,$(this,os)===0&&((u=$(this,gi))==null||u.call(this),_e(this,gi,void 0),(c=$(this,yi))==null||c.call(this),_e(this,yi,void 0))}isFetching(u){return $(this,Ve).findAll({...u,fetchStatus:"fetching"}).length}isMutating(u){return $(this,is).findAll({...u,status:"pending"}).length}getQueryData(u){var _;const c=this.defaultQueryOptions({queryKey:u});return(_=$(this,Ve).get(c.queryHash))==null?void 0:_.state.data}ensureQueryData(u){const c=this.defaultQueryOptions(u),_=$(this,Ve).build(this,c),E=_.state.data;return E===void 0?this.fetchQuery(u):(u.revalidateIfStale&&_.isStaleByTime(as(c.staleTime,_))&&this.prefetchQuery(c),Promise.resolve(E))}getQueriesData(u){return $(this,Ve).findAll(u).map(({queryKey:c,state:_})=>{const E=_.data;return[c,E]})}setQueryData(u,c,_){const E=this.defaultQueryOptions({queryKey:u}),A=$(this,Ve).get(E.queryHash),j=A==null?void 0:A.state.data,I=m_(c,j);if(I!==void 0)return $(this,Ve).build(this,E).setData(I,{..._,manual:!0})}setQueriesData(u,c,_){return Ye.batch(()=>$(this,Ve).findAll(u).map(({queryKey:E})=>[E,this.setQueryData(E,c,_)]))}getQueryState(u){var _;const c=this.defaultQueryOptions({queryKey:u});return(_=$(this,Ve).get(c.queryHash))==null?void 0:_.state}removeQueries(u){const c=$(this,Ve);Ye.batch(()=>{c.findAll(u).forEach(_=>{c.remove(_)})})}resetQueries(u,c){const _=$(this,Ve);return Ye.batch(()=>(_.findAll(u).forEach(E=>{E.reset()}),this.refetchQueries({type:"active",...u},c)))}cancelQueries(u,c={}){const _={revert:!0,...c},E=Ye.batch(()=>$(this,Ve).findAll(u).map(A=>A.cancel(_)));return Promise.all(E).then(gt).catch(gt)}invalidateQueries(u,c={}){return Ye.batch(()=>($(this,Ve).findAll(u).forEach(_=>{_.invalidate()}),(u==null?void 0:u.refetchType)==="none"?Promise.resolve():this.refetchQueries({...u,type:(u==null?void 0:u.refetchType)??(u==null?void 0:u.type)??"active"},c)))}refetchQueries(u,c={}){const _={...c,cancelRefetch:c.cancelRefetch??!0},E=Ye.batch(()=>$(this,Ve).findAll(u).filter(A=>!A.isDisabled()&&!A.isStatic()).map(A=>{let j=A.fetch(void 0,_);return _.throwOnError||(j=j.catch(gt)),A.state.fetchStatus==="paused"?Promise.resolve():j}));return Promise.all(E).then(gt)}fetchQuery(u){const c=this.defaultQueryOptions(u);c.retry===void 0&&(c.retry=!1);const _=$(this,Ve).build(this,c);return _.isStaleByTime(as(c.staleTime,_))?_.fetch(c):Promise.resolve(_.state.data)}prefetchQuery(u){return this.fetchQuery(u).then(gt).catch(gt)}fetchInfiniteQuery(u){return u.behavior=ud(u.pages),this.fetchQuery(u)}prefetchInfiniteQuery(u){return this.fetchInfiniteQuery(u).then(gt).catch(gt)}ensureInfiniteQueryData(u){return u.behavior=ud(u.pages),this.ensureQueryData(u)}resumePausedMutations(){return Mo.isOnline()?$(this,is).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Ve)}getMutationCache(){return $(this,is)}getDefaultOptions(){return $(this,ns)}setDefaultOptions(u){_e(this,ns,u)}setQueryDefaults(u,c){$(this,vi).set(Bs(u),{queryKey:u,defaultOptions:c})}getQueryDefaults(u){const c=[...$(this,vi).values()],_={};return c.forEach(E=>{hn(u,E.queryKey)&&Object.assign(_,E.defaultOptions)}),_}setMutationDefaults(u,c){$(this,mi).set(Bs(u),{mutationKey:u,defaultOptions:c})}getMutationDefaults(u){const c=[...$(this,mi).values()],_={};return c.forEach(E=>{hn(u,E.mutationKey)&&Object.assign(_,E.defaultOptions)}),_}defaultQueryOptions(u){if(u._defaulted)return u;const c={...$(this,ns).queries,...this.getQueryDefaults(u.queryKey),...u,_defaulted:!0};return c.queryHash||(c.queryHash=ec(c.queryKey,c)),c.refetchOnReconnect===void 0&&(c.refetchOnReconnect=c.networkMode!=="always"),c.throwOnError===void 0&&(c.throwOnError=!!c.suspense),!c.networkMode&&c.persister&&(c.networkMode="offlineFirst"),c.queryFn===tc&&(c.enabled=!1),c}defaultMutationOptions(u){return u!=null&&u._defaulted?u:{...$(this,ns).mutations,...(u==null?void 0:u.mutationKey)&&this.getMutationDefaults(u.mutationKey),...u,_defaulted:!0}}clear(){$(this,Ve).clear(),$(this,is).clear()}},Ve=new WeakMap,is=new WeakMap,ns=new WeakMap,vi=new WeakMap,mi=new WeakMap,os=new WeakMap,gi=new WeakMap,yi=new WeakMap,Md),Wd=pe.createContext(void 0),nc=u=>{const c=pe.useContext(Wd);if(!c)throw new Error("No QueryClient set, use QueryClientProvider to set one");return c},j_=({client:u,children:c})=>(pe.useEffect(()=>(u.mount(),()=>{u.unmount()}),[u]),O.jsx(Wd.Provider,{value:u,children:c})),$d=pe.createContext(!1),F_=()=>pe.useContext($d);$d.Provider;function H_(){let u=!1;return{clearReset:()=>{u=!1},reset:()=>{u=!0},isReset:()=>u}}var z_=pe.createContext(H_()),U_=()=>pe.useContext(z_),W_=(u,c,_)=>{const E=_!=null&&_.state.error&&typeof u.throwOnError=="function"?rc(u.throwOnError,[_.state.error,_]):u.throwOnError;(u.suspense||u.experimental_prefetchInRender||E)&&(c.isReset()||(u.retryOnMount=!1))},$_=u=>{pe.useEffect(()=>{u.clearReset()},[u])},K_=({result:u,errorResetBoundary:c,throwOnError:_,query:E,suspense:A})=>u.isError&&!c.isReset()&&!u.isFetching&&E&&(A&&u.data===void 0||rc(_,[u.error,E])),V_=u=>{if(u.suspense){const _=A=>A==="static"?A:Math.max(A??1e3,1e3),E=u.staleTime;u.staleTime=typeof E=="function"?(...A)=>_(E(...A)):_(E),typeof u.gcTime=="number"&&(u.gcTime=Math.max(u.gcTime,1e3))}},q_=(u,c)=>u.isLoading&&u.isFetching&&!c,Q_=(u,c)=>(u==null?void 0:u.suspense)&&c.isPending,dd=(u,c,_)=>c.fetchOptimistic(u).catch(()=>{_.clearReset()});function G_(u,c,_){var y,w,k,m;const E=F_(),A=U_(),j=nc(),I=j.defaultQueryOptions(u);(w=(y=j.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||w.call(y,I);const o=j.getQueryCache().get(I.queryHash);I._optimisticResults=E?"isRestoring":"optimistic",V_(I),W_(I,A,o),$_(A);const f=!j.getQueryCache().get(I.queryHash),[v]=pe.useState(()=>new c(j,I)),S=v.getOptimisticResult(I),d=!E&&u.subscribed!==!1;if(pe.useSyncExternalStore(pe.useCallback(n=>{const a=d?v.subscribe(Ye.batchCalls(n)):gt;return v.updateResult(),a},[v,d]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),pe.useEffect(()=>{v.setOptions(I)},[I,v]),Q_(I,S))throw dd(I,v,A);if(K_({result:S,errorResetBoundary:A,throwOnError:I.throwOnError,query:o,suspense:I.suspense}))throw S.error;if((m=(k=j.getDefaultOptions().queries)==null?void 0:k._experimental_afterQuery)==null||m.call(k,I,S),I.experimental_prefetchInRender&&!Os&&q_(S,E)){const n=f?dd(I,v,A):o==null?void 0:o.promise;n==null||n.catch(gt).finally(()=>{v.updateResult()})}return I.notifyOnChangeProps?S:v.trackResult(S)}function X_(u,c){return G_(u,D_)}function Do(u,c){const _=nc(),[E]=pe.useState(()=>new B_(_,u));pe.useEffect(()=>{E.setOptions(u)},[E,u]);const A=pe.useSyncExternalStore(pe.useCallback(I=>E.subscribe(Ye.batchCalls(I)),[E]),()=>E.getCurrentResult(),()=>E.getCurrentResult()),j=pe.useCallback((I,o)=>{E.mutate(I,o).catch(gt)},[E]);if(A.error&&rc(E.options.throwOnError,[A.error]))throw A.error;return{...A,mutate:j,mutateAsync:A.mutate}}const fd=u=>{let c;const _=new Set,E=(v,S)=>{const d=typeof v=="function"?v(c):v;if(!Object.is(d,c)){const y=c;c=S??(typeof d!="object"||d===null)?d:Object.assign({},c,d),_.forEach(w=>w(c,y))}},A=()=>c,o={setState:E,getState:A,getInitialState:()=>f,subscribe:v=>(_.add(v),()=>_.delete(v))},f=c=u(E,A,o);return o},J_=(u=>u?fd(u):fd),Y_=u=>u;function Z_(u,c=Y_){const _=ln.useSyncExternalStore(u.subscribe,ln.useCallback(()=>c(u.getState()),[u,c]),ln.useCallback(()=>c(u.getInitialState()),[u,c]));return ln.useDebugValue(_),_}const pd=u=>{const c=J_(u),_=E=>Z_(c,E);return Object.assign(_,c),_},Bo=(u=>u?pd(u):pd);function Kd(){return window.location.origin}function oc(u){return`${Kd()}/preview/${u}`}function ev(u){const c=`${Kd()}/code`;return u?`${c}/?folder=${encodeURIComponent(u)}`:c}const Ut=Bo(u=>({theme:"dark",viewMode:"dashboard",previewUrl:"",previewPort:null,isConnecting:!1,setTheme:c=>u({theme:c}),toggleTheme:()=>u(c=>({theme:c.theme==="dark"?"light":"dark"})),setViewMode:c=>u({viewMode:c}),setPreviewUrl:c=>u({previewUrl:c}),setPreviewPort:c=>u({previewPort:c}),setIsConnecting:c=>u({isConnecting:c}),setPreviewFromPort:c=>{if(c){const _=oc(c);u({previewUrl:_,previewPort:c})}else u({previewUrl:"",previewPort:null})}}));function tv(u,c){let _;try{_=u()}catch{return}return{getItem:A=>{var j;const I=f=>f===null?null:JSON.parse(f,void 0),o=(j=_.getItem(A))!=null?j:null;return o instanceof Promise?o.then(I):I(o)},setItem:(A,j)=>_.setItem(A,JSON.stringify(j,void 0)),removeItem:A=>_.removeItem(A)}}const Gl=u=>c=>{try{const _=u(c);return _ instanceof Promise?_:{then(E){return Gl(E)(_)},catch(E){return this}}}catch(_){return{then(E){return this},catch(E){return Gl(E)(_)}}}},rv=(u,c)=>(_,E,A)=>{let j={storage:tv(()=>localStorage),partialize:n=>n,version:0,merge:(n,a)=>({...a,...n}),...c},I=!1,o=0;const f=new Set,v=new Set;let S=j.storage;if(!S)return u((...n)=>{console.warn(`[zustand persist middleware] Unable to update item '${j.name}', the given storage is currently unavailable.`),_(...n)},E,A);const d=()=>{const n=j.partialize({...E()});return S.setItem(j.name,{state:n,version:j.version})},y=A.setState;A.setState=(n,a)=>(y(n,a),d());const w=u((...n)=>(_(...n),d()),E,A);A.getInitialState=()=>w;let k;const m=()=>{var n,a;if(!S)return;const i=++o;I=!1,f.forEach(p=>{var b;return p((b=E())!=null?b:w)});const l=((a=j.onRehydrateStorage)==null?void 0:a.call(j,(n=E())!=null?n:w))||void 0;return Gl(S.getItem.bind(S))(j.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==j.version){if(j.migrate){const b=j.migrate(p.state,p.version);return b instanceof Promise?b.then(x=>[!0,x]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var b;if(i!==o)return;const[x,R]=p;if(k=j.merge(R,(b=E())!=null?b:w),_(k,!0),x)return d()}).then(()=>{i===o&&(l==null||l(k,void 0),k=E(),I=!0,v.forEach(p=>p(k)))}).catch(p=>{i===o&&(l==null||l(void 0,p))})};return A.persist={setOptions:n=>{j={...j,...n},n.storage&&(S=n.storage)},clearStorage:()=>{S==null||S.removeItem(j.name)},getOptions:()=>j,rehydrate:()=>m(),hasHydrated:()=>I,onHydrate:n=>(f.add(n),()=>{f.delete(n)}),onFinishHydration:n=>(v.add(n),()=>{v.delete(n)})},j.skipHydration||m(),k||w},sv=rv,kr=Bo()(sv(u=>({user:null,token:null,isAuthenticated:!1,isLoading:!0,setupRequired:null,setUser:c=>u({user:c,isAuthenticated:!!c}),setToken:c=>u({token:c}),setSetupRequired:c=>u({setupRequired:c}),setIsLoading:c=>u({isLoading:c}),login:(c,_)=>u({user:c,token:_,isAuthenticated:!0,isLoading:!1,setupRequired:!1}),logout:()=>u({user:null,token:null,isAuthenticated:!1})}),{name:"vibemanager-auth",partialize:u=>({token:u.token,user:u.user,isAuthenticated:u.isAuthenticated})})),Wt=Bo(u=>({sessions:[],currentSession:null,systemStats:null,ports:[],isLoading:!0,setSessions:c=>u({sessions:c,isLoading:!1}),setCurrentSession:c=>u({currentSession:c}),setSystemStats:c=>u({systemStats:c}),setPorts:c=>u({ports:c}),setIsLoading:c=>u({isLoading:c}),addSession:c=>u(_=>({sessions:[..._.sessions,c]})),removeSession:c=>u(_=>({sessions:_.sessions.filter(E=>E.name!==c),currentSession:_.currentSession===c?null:_.currentSession})),updateSession:(c,_)=>u(E=>({sessions:E.sessions.map(A=>A.name===c?{...A,..._}:A)}))})),Vd=()=>{const{sessions:u,currentSession:c}=Wt();return u.find(_=>_.name===c)||null};function iv(){const u=pe.useRef(null),c=pe.useRef(null),{setSessions:_,setSystemStats:E,setPorts:A,setIsLoading:j}=Wt(),I=kr(o=>o.token);return pe.useEffect(()=>{function o(){const f=window.location.protocol==="https:"?"wss:":"ws:",v=window.location.host,S=I?`?token=${encodeURIComponent(I)}`:"",d=new WebSocket(`${f}//${v}/status${S}`);d.onopen=()=>{console.log("Status WebSocket connected"),j(!1)},d.onmessage=y=>{try{const w=JSON.parse(y.data);w.type==="status"&&(_(w.sessions),E(w.system),A(w.ports))}catch(w){console.error("Error parsing status message:",w)}},d.onclose=()=>{console.log("Status WebSocket closed, reconnecting..."),u.current=null,c.current=setTimeout(o,2e3)},d.onerror=y=>{console.error("Status WebSocket error:",y)},u.current=d}return o(),()=>{c.current&&clearTimeout(c.current),u.current&&u.current.close()}},[_,E,A,j]),u.current}const nv="/api";function ov(){return kr.getState().token}function av(){const{logout:u}=kr.getState();u()}async function at(u,c,_=!1){const E=ov(),A={"Content-Type":"application/json",...c==null?void 0:c.headers};E&&!_&&(A.Authorization=`Bearer ${E}`);const j=await fetch(`${nv}${u}`,{...c,headers:A});if(j.status===401&&!_)throw av(),new Error("Session expired. Please login again.");const I=await j.json();if(!I.success)throw new Error(I.error||"Request failed");return I.data}const un={list:()=>at("/sessions"),get:u=>at(`/sessions/${u}`),getLast:()=>at("/sessions/last"),create:u=>at("/sessions",{method:"POST",body:JSON.stringify(u)}),delete:u=>at(`/sessions/${u}`,{method:"DELETE"}),stop:u=>at(`/sessions/${u}/stop`,{method:"POST"}),revive:u=>at(`/sessions/${u}/revive`,{method:"POST"}),getScrollback:u=>at(`/sessions/${u}/scrollback`),setPreviewPort:(u,c)=>at(`/sessions/${u}/preview-port`,{method:"PUT",body:JSON.stringify({port:c})})},lv={list:u=>at(`/browse${u?`?path=${encodeURIComponent(u)}`:""}`),mkdir:u=>at("/browse/mkdir",{method:"POST",body:JSON.stringify({path:u})})},Ao={getSetupStatus:()=>at("/auth/setup-status",void 0,!0),setup:(u,c)=>at("/auth/setup",{method:"POST",body:JSON.stringify({username:u,password:c})},!0),login:(u,c)=>at("/auth/login",{method:"POST",body:JSON.stringify({username:u,password:c})},!0),logout:()=>at("/auth/logout",{method:"POST"}),me:()=>at("/auth/me"),changePassword:(u,c)=>at("/auth/change-password",{method:"POST",body:JSON.stringify({oldPassword:u,newPassword:c})})};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qd=(...u)=>u.filter((c,_,E)=>!!c&&c.trim()!==""&&E.indexOf(c)===_).join(" ").trim();/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=pe.forwardRef(({color:u="currentColor",size:c=24,strokeWidth:_=2,absoluteStrokeWidth:E,className:A="",children:j,iconNode:I,...o},f)=>pe.createElement("svg",{ref:f,...uv,width:c,height:c,stroke:u,strokeWidth:E?Number(_)*24/Number(c):_,className:qd("lucide",A),...o},[...I.map(([v,S])=>pe.createElement(v,S)),...Array.isArray(j)?j:[j]]));/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(u,c)=>{const _=pe.forwardRef(({className:E,...A},j)=>pe.createElement(hv,{ref:j,iconNode:c,className:qd(`lucide-${cv(u)}`,E),...A}));return _.displayName=`${u}`,_};/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_d=lt("Check",dv);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],pv=lt("ChevronLeft",fv);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vv=lt("ChevronRight",_v);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],vd=lt("CircleArrowDown",mv);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],yv=lt("Clock",gv);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],wv=lt("ExternalLink",Sv);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],md=lt("Folder",Cv);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],bv=lt("Layers",xv);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Ev=lt("Maximize2",kv);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Lv=lt("Moon",Rv);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Qd=lt("Play",Dv);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gd=lt("Plus",Pv);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Oo=lt("RefreshCw",Tv);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Xd=lt("Square",Mv);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ov=lt("Sun",Av);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Iv=lt("Trash2",Bv);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xl=lt("X",Nv);function Jd(u){var c,_,E="";if(typeof u=="string"||typeof u=="number")E+=u;else if(typeof u=="object")if(Array.isArray(u)){var A=u.length;for(c=0;c<A;c++)u[c]&&(_=Jd(u[c]))&&(E&&(E+=" "),E+=_)}else for(_ in u)u[_]&&(E&&(E+=" "),E+=_);return E}function jv(){for(var u,c,_=0,E="",A=arguments.length;_<A;_++)(u=arguments[_])&&(c=Jd(u))&&(E&&(E+=" "),E+=c);return E}const ac="-",Fv=u=>{const c=zv(u),{conflictingClassGroups:_,conflictingClassGroupModifiers:E}=u;return{getClassGroupId:I=>{const o=I.split(ac);return o[0]===""&&o.length!==1&&o.shift(),Yd(o,c)||Hv(I)},getConflictingClassGroupIds:(I,o)=>{const f=_[I]||[];return o&&E[I]?[...f,...E[I]]:f}}},Yd=(u,c)=>{var I;if(u.length===0)return c.classGroupId;const _=u[0],E=c.nextPart.get(_),A=E?Yd(u.slice(1),E):void 0;if(A)return A;if(c.validators.length===0)return;const j=u.join(ac);return(I=c.validators.find(({validator:o})=>o(j)))==null?void 0:I.classGroupId},gd=/^\[(.+)\]$/,Hv=u=>{if(gd.test(u)){const c=gd.exec(u)[1],_=c==null?void 0:c.substring(0,c.indexOf(":"));if(_)return"arbitrary.."+_}},zv=u=>{const{theme:c,prefix:_}=u,E={nextPart:new Map,validators:[]};return Wv(Object.entries(u.classGroups),_).forEach(([j,I])=>{Jl(I,E,j,c)}),E},Jl=(u,c,_,E)=>{u.forEach(A=>{if(typeof A=="string"){const j=A===""?c:yd(c,A);j.classGroupId=_;return}if(typeof A=="function"){if(Uv(A)){Jl(A(E),c,_,E);return}c.validators.push({validator:A,classGroupId:_});return}Object.entries(A).forEach(([j,I])=>{Jl(I,yd(c,j),_,E)})})},yd=(u,c)=>{let _=u;return c.split(ac).forEach(E=>{_.nextPart.has(E)||_.nextPart.set(E,{nextPart:new Map,validators:[]}),_=_.nextPart.get(E)}),_},Uv=u=>u.isThemeGetter,Wv=(u,c)=>c?u.map(([_,E])=>{const A=E.map(j=>typeof j=="string"?c+j:typeof j=="object"?Object.fromEntries(Object.entries(j).map(([I,o])=>[c+I,o])):j);return[_,A]}):u,$v=u=>{if(u<1)return{get:()=>{},set:()=>{}};let c=0,_=new Map,E=new Map;const A=(j,I)=>{_.set(j,I),c++,c>u&&(c=0,E=_,_=new Map)};return{get(j){let I=_.get(j);if(I!==void 0)return I;if((I=E.get(j))!==void 0)return A(j,I),I},set(j,I){_.has(j)?_.set(j,I):A(j,I)}}},Zd="!",Kv=u=>{const{separator:c,experimentalParseClassName:_}=u,E=c.length===1,A=c[0],j=c.length,I=o=>{const f=[];let v=0,S=0,d;for(let n=0;n<o.length;n++){let a=o[n];if(v===0){if(a===A&&(E||o.slice(n,n+j)===c)){f.push(o.slice(S,n)),S=n+j;continue}if(a==="/"){d=n;continue}}a==="["?v++:a==="]"&&v--}const y=f.length===0?o:o.substring(S),w=y.startsWith(Zd),k=w?y.substring(1):y,m=d&&d>S?d-S:void 0;return{modifiers:f,hasImportantModifier:w,baseClassName:k,maybePostfixModifierPosition:m}};return _?o=>_({className:o,parseClassName:I}):I},Vv=u=>{if(u.length<=1)return u;const c=[];let _=[];return u.forEach(E=>{E[0]==="["?(c.push(..._.sort(),E),_=[]):_.push(E)}),c.push(..._.sort()),c},qv=u=>({cache:$v(u.cacheSize),parseClassName:Kv(u),...Fv(u)}),Qv=/\s+/,Gv=(u,c)=>{const{parseClassName:_,getClassGroupId:E,getConflictingClassGroupIds:A}=c,j=[],I=u.trim().split(Qv);let o="";for(let f=I.length-1;f>=0;f-=1){const v=I[f],{modifiers:S,hasImportantModifier:d,baseClassName:y,maybePostfixModifierPosition:w}=_(v);let k=!!w,m=E(k?y.substring(0,w):y);if(!m){if(!k){o=v+(o.length>0?" "+o:o);continue}if(m=E(y),!m){o=v+(o.length>0?" "+o:o);continue}k=!1}const n=Vv(S).join(":"),a=d?n+Zd:n,i=a+m;if(j.includes(i))continue;j.push(i);const l=A(m,k);for(let p=0;p<l.length;++p){const b=l[p];j.push(a+b)}o=v+(o.length>0?" "+o:o)}return o};function Xv(){let u=0,c,_,E="";for(;u<arguments.length;)(c=arguments[u++])&&(_=ef(c))&&(E&&(E+=" "),E+=_);return E}const ef=u=>{if(typeof u=="string")return u;let c,_="";for(let E=0;E<u.length;E++)u[E]&&(c=ef(u[E]))&&(_&&(_+=" "),_+=c);return _};function Jv(u,...c){let _,E,A,j=I;function I(f){const v=c.reduce((S,d)=>d(S),u());return _=qv(v),E=_.cache.get,A=_.cache.set,j=o,o(f)}function o(f){const v=E(f);if(v)return v;const S=Gv(f,_);return A(f,S),S}return function(){return j(Xv.apply(null,arguments))}}const ze=u=>{const c=_=>_[u]||[];return c.isThemeGetter=!0,c},tf=/^\[(?:([a-z-]+):)?(.+)\]$/i,Yv=/^\d+\/\d+$/,Zv=new Set(["px","full","screen"]),em=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sm=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,im=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gr=u=>ai(u)||Zv.has(u)||Yv.test(u),Gr=u=>wi(u,"length",dm),ai=u=>!!u&&!Number.isNaN(Number(u)),Tl=u=>wi(u,"number",ai),on=u=>!!u&&Number.isInteger(Number(u)),nm=u=>u.endsWith("%")&&ai(u.slice(0,-1)),Ee=u=>tf.test(u),Xr=u=>em.test(u),om=new Set(["length","size","percentage"]),am=u=>wi(u,om,rf),lm=u=>wi(u,"position",rf),cm=new Set(["image","url"]),um=u=>wi(u,cm,pm),hm=u=>wi(u,"",fm),an=()=>!0,wi=(u,c,_)=>{const E=tf.exec(u);return E?E[1]?typeof c=="string"?E[1]===c:c.has(E[1]):_(E[2]):!1},dm=u=>tm.test(u)&&!rm.test(u),rf=()=>!1,fm=u=>sm.test(u),pm=u=>im.test(u),_m=()=>{const u=ze("colors"),c=ze("spacing"),_=ze("blur"),E=ze("brightness"),A=ze("borderColor"),j=ze("borderRadius"),I=ze("borderSpacing"),o=ze("borderWidth"),f=ze("contrast"),v=ze("grayscale"),S=ze("hueRotate"),d=ze("invert"),y=ze("gap"),w=ze("gradientColorStops"),k=ze("gradientColorStopPositions"),m=ze("inset"),n=ze("margin"),a=ze("opacity"),i=ze("padding"),l=ze("saturate"),p=ze("scale"),b=ze("sepia"),x=ze("skew"),R=ze("space"),C=ze("translate"),T=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",Ee,c],W=()=>[Ee,c],F=()=>["",gr,Gr],J=()=>["auto",ai,Ee],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",Ee],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[ai,Ee];return{cacheSize:500,separator:":",theme:{colors:[an],spacing:[gr,Gr],blur:["none","",Xr,Ee],brightness:D(),borderColor:[u],borderRadius:["none","","full",Xr,Ee],borderSpacing:W(),borderWidth:F(),contrast:D(),grayscale:L(),hueRotate:D(),invert:L(),gap:W(),gradientColorStops:[u],gradientColorStopPositions:[nm,Gr],inset:U(),margin:U(),opacity:D(),padding:W(),saturate:D(),scale:D(),sepia:L(),skew:D(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[Xr]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),Ee]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",on,Ee]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",on,Ee]}],"grid-cols":[{"grid-cols":[an]}],"col-start-end":[{col:["auto",{span:["full",on,Ee]},Ee]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[an]}],"row-start-end":[{row:["auto",{span:[on,Ee]},Ee]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[i]}],px:[{px:[i]}],py:[{py:[i]}],ps:[{ps:[i]}],pe:[{pe:[i]}],pt:[{pt:[i]}],pr:[{pr:[i]}],pb:[{pb:[i]}],pl:[{pl:[i]}],m:[{m:[n]}],mx:[{mx:[n]}],my:[{my:[n]}],ms:[{ms:[n]}],me:[{me:[n]}],mt:[{mt:[n]}],mr:[{mr:[n]}],mb:[{mb:[n]}],ml:[{ml:[n]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,c]}],"min-w":[{"min-w":[Ee,c,"min","max","fit"]}],"max-w":[{"max-w":[Ee,c,"none","full","min","max","fit","prose",{screen:[Xr]},Xr]}],h:[{h:[Ee,c,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,c,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,c,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,c,"auto","min","max","fit"]}],"font-size":[{text:["base",Xr,Gr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tl]}],"font-family":[{font:[an]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",ai,Tl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gr,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[u]}],"placeholder-opacity":[{"placeholder-opacity":[a]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[u]}],"text-opacity":[{"text-opacity":[a]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gr,Gr]}],"underline-offset":[{"underline-offset":["auto",gr,Ee]}],"text-decoration-color":[{decoration:[u]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[a]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),lm]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",am]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},um]}],"bg-color":[{bg:[u]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[j]}],"rounded-s":[{"rounded-s":[j]}],"rounded-e":[{"rounded-e":[j]}],"rounded-t":[{"rounded-t":[j]}],"rounded-r":[{"rounded-r":[j]}],"rounded-b":[{"rounded-b":[j]}],"rounded-l":[{"rounded-l":[j]}],"rounded-ss":[{"rounded-ss":[j]}],"rounded-se":[{"rounded-se":[j]}],"rounded-ee":[{"rounded-ee":[j]}],"rounded-es":[{"rounded-es":[j]}],"rounded-tl":[{"rounded-tl":[j]}],"rounded-tr":[{"rounded-tr":[j]}],"rounded-br":[{"rounded-br":[j]}],"rounded-bl":[{"rounded-bl":[j]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[a]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[a]}],"divide-style":[{divide:ne()}],"border-color":[{border:[A]}],"border-color-x":[{"border-x":[A]}],"border-color-y":[{"border-y":[A]}],"border-color-s":[{"border-s":[A]}],"border-color-e":[{"border-e":[A]}],"border-color-t":[{"border-t":[A]}],"border-color-r":[{"border-r":[A]}],"border-color-b":[{"border-b":[A]}],"border-color-l":[{"border-l":[A]}],"divide-color":[{divide:[A]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[gr,Ee]}],"outline-w":[{outline:[gr,Gr]}],"outline-color":[{outline:[u]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[u]}],"ring-opacity":[{"ring-opacity":[a]}],"ring-offset-w":[{"ring-offset":[gr,Gr]}],"ring-offset-color":[{"ring-offset":[u]}],shadow:[{shadow:["","inner","none",Xr,hm]}],"shadow-color":[{shadow:[an]}],opacity:[{opacity:[a]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[_]}],brightness:[{brightness:[E]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Xr,Ee]}],grayscale:[{grayscale:[v]}],"hue-rotate":[{"hue-rotate":[S]}],invert:[{invert:[d]}],saturate:[{saturate:[l]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[_]}],"backdrop-brightness":[{"backdrop-brightness":[E]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[v]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[S]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[a]}],"backdrop-saturate":[{"backdrop-saturate":[l]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[I]}],"border-spacing-x":[{"border-spacing-x":[I]}],"border-spacing-y":[{"border-spacing-y":[I]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[p]}],"scale-x":[{"scale-x":[p]}],"scale-y":[{"scale-y":[p]}],rotate:[{rotate:[on,Ee]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",u]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[u]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[u,"none"]}],"stroke-w":[{stroke:[gr,Gr,Tl]}],stroke:[{stroke:[u,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vm=Jv(_m);function st(...u){return vm(jv(u))}function oi(u,c=1){if(u===0)return"0 B";const _=1024,E=["B","KB","MB","GB","TB"],A=Math.floor(Math.log(u)/Math.log(_));return`${parseFloat((u/Math.pow(_,A)).toFixed(c))} ${E[A]}`}function mm(u){const c=Math.floor(u/86400),_=Math.floor(u%86400/3600),E=Math.floor(u%3600/60);return c>0?`${c}d ${_}h`:_>0?`${_}h ${E}m`:`${E}m`}function gm(u){const c=typeof u=="string"?new Date(u):u,E=new Date().getTime()-c.getTime(),A=Math.floor(E/1e3),j=Math.floor(A/60),I=Math.floor(j/60),o=Math.floor(I/24);return o>0?`${o}d ago`:I>0?`${I}h ago`:j>0?`${j}m ago`:"just now"}function Ml(u,c=20){const _=Math.round(u/100*c),E=c-_;return{filled:"".repeat(_),empty:"".repeat(E)}}function ym(u){return u>=80?"hot":u>=60?"warm":"cool"}function Sm(u,c=40){if(u.length<=c)return u;const _=u.split("/");return _.length<=2?"..."+u.slice(-c+3):".../"+_.slice(-2).join("/")}function wm(){const{sessions:u,currentSession:c,setCurrentSession:_}=Wt(),{setViewMode:E}=Ut(),A=j=>{_(j),E("terminal")};return u.length===0?null:O.jsx("div",{className:"flex items-center gap-1 overflow-x-auto max-w-[40%] flex-shrink scrollbar-none",children:u.map((j,I)=>O.jsxs("button",{className:st("ss-btn bg-surface-2 text-text-dim border-none py-1 px-2 text-[11px] font-semibold cursor-pointer whitespace-nowrap flex-shrink-0 flex items-center gap-1 transition-all max-w-[120px] overflow-hidden",c===j.name&&"bg-accent text-white",!j.alive&&"opacity-40"),onClick:()=>A(j.name),"data-index":I+1,children:[O.jsx("span",{className:st("w-1.5 h-1.5 rounded-full flex-shrink-0",j.alive?"bg-success":"bg-danger",c===j.name&&j.alive&&"bg-success")}),O.jsx("span",{className:"truncate ss-name",children:j.name})]},j.id))})}function Cm(){const{ports:u}=Wt(),{previewPort:c,setPreviewPort:_,setPreviewUrl:E,setViewMode:A}=Ut(),j=u.filter(o=>o.port>=3e3&&o.port<=9e3&&o.port!==3131);if(j.length===0)return null;const I=o=>{c===o?(_(null),E("")):(_(o),E(oc(o)),A("preview"))};return O.jsx("div",{className:"flex items-center gap-1",children:j.slice(0,5).map(o=>O.jsx("button",{className:st("bg-surface-2 text-[11px] py-1 px-2 font-mono font-semibold cursor-pointer border-none transition-colors",c===o.port&&"bg-accent text-white"),onClick:()=>I(o.port),title:`${o.process} (PID: ${o.pid})`,children:o.port},o.port))})}function xm(){const u=kr(y=>y.token),[c,_]=pe.useState(null),[E,A]=pe.useState(!1),[j,I]=pe.useState("idle"),[o,f]=pe.useState(""),v=()=>{const y={};return u&&(y.Authorization=`Bearer ${u}`),y};pe.useEffect(()=>{S();const y=setInterval(S,3600*1e3);return()=>clearInterval(y)},[u]);const S=async()=>{try{const w=await(await fetch("/api/system/version",{headers:v()})).json();w.success&&_(w.data)}catch(y){console.error("Failed to check version:",y)}},d=async()=>{I("updating"),f("Updating...");try{const w=await(await fetch("/api/system/update",{method:"POST",headers:v()})).json();w.success?(I("success"),f(w.data.message),w.data.needsRestart&&(f(w.data.message+" - Restarting server..."),setTimeout(()=>{window.location.reload()},5e3))):(I("error"),f(w.error||"Update failed"))}catch{I("error"),f("Failed to connect to server")}};return c!=null&&c.updateAvailable?O.jsxs(O.Fragment,{children:[O.jsxs("button",{onClick:()=>A(!0),className:"relative flex items-center gap-1 px-2 py-1 text-[11px] bg-accent/20 text-accent rounded hover:bg-accent/30 transition-colors",title:`Update available: v${c.latest}`,children:[O.jsx(vd,{className:"w-3.5 h-3.5"}),O.jsx("span",{className:"hidden sm:inline",children:"Update"}),O.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-accent rounded-full animate-pulse"})]}),E&&O.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:O.jsxs("div",{className:"bg-surface rounded-lg shadow-xl p-5 max-w-md w-full mx-4",children:[O.jsxs("div",{className:"flex items-center justify-between mb-4",children:[O.jsx("h2",{className:"text-lg font-semibold text-text-primary",children:"Update Available"}),O.jsx("button",{onClick:()=>A(!1),className:"text-text-dim hover:text-text-primary",disabled:j==="updating",children:O.jsx(Xl,{className:"w-5 h-5"})})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{className:"flex items-center justify-between text-[13px]",children:[O.jsx("span",{className:"text-text-dim",children:"Current version:"}),O.jsxs("span",{className:"font-mono text-text-primary",children:["v",c.current]})]}),O.jsxs("div",{className:"flex items-center justify-between text-[13px]",children:[O.jsx("span",{className:"text-text-dim",children:"Latest version:"}),O.jsxs("span",{className:"font-mono text-accent",children:["v",c.latest]})]}),j!=="idle"&&O.jsx("div",{className:`p-3 rounded text-[13px] ${j==="error"?"bg-red-500/10 text-red-400":j==="success"?"bg-green-500/10 text-green-400":"bg-accent/10 text-accent"}`,children:O.jsxs("div",{className:"flex items-center gap-2",children:[j==="updating"&&O.jsx(Oo,{className:"w-4 h-4 animate-spin"}),j==="success"&&O.jsx(_d,{className:"w-4 h-4"}),j==="error"&&O.jsx(Xl,{className:"w-4 h-4"}),O.jsx("span",{children:o})]})}),O.jsxs("div",{className:"flex gap-3 pt-2",children:[O.jsx("button",{onClick:()=>A(!1),className:"flex-1 px-4 py-2 text-[13px] text-text-dim hover:text-text-primary border border-border rounded transition-colors",disabled:j==="updating",children:"Cancel"}),O.jsx("button",{onClick:d,disabled:j==="updating"||j==="success",className:"flex-1 px-4 py-2 text-[13px] bg-accent text-white rounded hover:bg-accent/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:j==="updating"?O.jsxs(O.Fragment,{children:[O.jsx(Oo,{className:"w-4 h-4 animate-spin"}),"Updating..."]}):j==="success"?O.jsxs(O.Fragment,{children:[O.jsx(_d,{className:"w-4 h-4"}),"Updated!"]}):O.jsxs(O.Fragment,{children:[O.jsx(vd,{className:"w-4 h-4"}),"Update Now"]})})]}),O.jsx("p",{className:"text-[11px] text-text-dim text-center",children:"The server will restart automatically after updating."})]})]})})]}):null}const bm={lastOutputAt:Date.now(),activityState:"active"};function sf(){const u=nc(),{addSession:c,removeSession:_,updateSession:E,setCurrentSession:A}=Wt(),j=Do({mutationFn:v=>un.create(v),onSuccess:v=>{c({...v,activity:bm}),A(v.name),u.invalidateQueries({queryKey:["sessions"]})}}),I=Do({mutationFn:v=>un.delete(v),onSuccess:(v,S)=>{_(S),u.invalidateQueries({queryKey:["sessions"]})}}),o=Do({mutationFn:v=>un.stop(v),onSuccess:(v,S)=>{E(S,{alive:!1}),u.invalidateQueries({queryKey:["sessions"]})}}),f=Do({mutationFn:v=>un.revive(v),onSuccess:v=>{E(v.name,{alive:!0}),u.invalidateQueries({queryKey:["sessions"]})}});return{create:j.mutateAsync,delete:I.mutateAsync,stop:o.mutateAsync,revive:f.mutateAsync,isCreating:j.isPending,isDeleting:I.isPending,isStopping:o.isPending,isReviving:f.isPending}}function nf({open:u,onClose:c}){const[_,E]=pe.useState(""),[A,j]=pe.useState(""),[I,o]=pe.useState("auto"),[f,v]=pe.useState(!1),[S,d]=pe.useState(""),[y,w]=pe.useState(""),{create:k,isCreating:m}=sf(),{data:n=[]}=X_({queryKey:["browse",S],queryFn:()=>lv.list(S||void 0),enabled:f}),a=async x=>{if(x.preventDefault(),w(""),!_.trim()){w("Name is required");return}if(!A.trim()){w("Project path is required");return}try{await k({name:_.trim(),projectPath:A.trim(),shell:I}),c(),i()}catch(R){w(String(R))}},i=()=>{E(""),j(""),o("auto"),v(!1),d(""),w("")},l=x=>{x.isDirectory&&d(x.path)},p=()=>{if(j(S),!_.trim()){const x=S.split("/").filter(Boolean).pop()||"";E(x)}v(!1)},b=()=>{const x=S.split("/").filter(Boolean);x.pop(),d("/"+x.join("/"))};return u?O.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-[2px] flex items-center justify-center z-[1000] p-4",onClick:c,children:O.jsxs("div",{className:"bg-surface w-full max-w-md max-h-[85vh] overflow-hidden flex flex-col",onClick:x=>x.stopPropagation(),children:[O.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-surface-2",children:[O.jsx("h2",{className:"text-[15px] font-semibold text-text-primary",children:f?"Select Project Folder":"New Session"}),O.jsx("button",{className:"text-text-dim hover:text-text-primary transition-colors",onClick:c,children:O.jsx(Xl,{className:"w-5 h-5"})})]}),f?O.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[O.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-surface-2 text-[12px] font-mono",children:[O.jsx("button",{className:"text-text-dim hover:text-text-primary",onClick:b,disabled:!S||S==="/",children:O.jsx(pv,{className:"w-4 h-4"})}),O.jsx("span",{className:"truncate text-text-dim",children:S||"~"})]}),O.jsx("div",{className:"flex-1 overflow-y-auto",children:n.map(x=>O.jsxs("div",{className:st("flex items-center gap-2 px-4 py-2 cursor-pointer hover:bg-surface-2",x.isDirectory?"text-text-primary":"text-text-dim"),onClick:()=>l(x),children:[x.isDirectory?O.jsx(md,{className:"w-4 h-4 text-accent"}):O.jsx("div",{className:"w-4 h-4"}),O.jsx("span",{className:"flex-1 truncate text-[13px]",children:x.name}),x.isDirectory&&O.jsx(vv,{className:"w-4 h-4 text-text-dim"})]},x.path))}),O.jsxs("div",{className:"flex gap-2 p-4 border-t border-surface-2",children:[O.jsx("button",{className:"btn flex-1",onClick:()=>v(!1),children:"Cancel"}),O.jsx("button",{className:"btn btn-primary flex-1",onClick:p,children:"Select This Folder"})]})]}):O.jsxs("form",{onSubmit:a,className:"p-4 flex flex-col gap-4",children:[O.jsxs("div",{className:"flex flex-col gap-1.5",children:[O.jsx("label",{className:"text-[11px] uppercase tracking-wider text-text-dim font-semibold",children:"Session Name"}),O.jsx("input",{type:"text",className:"input w-full py-2.5 px-3 bg-surface-2",placeholder:"my-project",value:_,onChange:x=>E(x.target.value),autoFocus:!0})]}),O.jsxs("div",{className:"flex flex-col gap-1.5",children:[O.jsx("label",{className:"text-[11px] uppercase tracking-wider text-text-dim font-semibold",children:"Project Path"}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("input",{type:"text",className:"input flex-1 py-2.5 px-3 bg-surface-2",placeholder:"/home/user/projects/my-project",value:A,onChange:x=>j(x.target.value)}),O.jsx("button",{type:"button",className:"btn px-3",onClick:()=>{d(A||""),v(!0)},children:O.jsx(md,{className:"w-4 h-4"})})]})]}),O.jsxs("div",{className:"flex flex-col gap-1.5",children:[O.jsx("label",{className:"text-[11px] uppercase tracking-wider text-text-dim font-semibold",children:"Shell / Agent"}),O.jsx("div",{className:"flex gap-2",children:["auto","opencode","claude","bash"].map(x=>O.jsx("button",{type:"button",className:st("btn flex-1 capitalize",I===x&&"btn-primary"),onClick:()=>o(x),children:x},x))})]}),y&&O.jsx("div",{className:"text-[12px] text-danger bg-danger/10 px-3 py-2",children:y}),O.jsx("button",{type:"submit",className:"btn btn-primary w-full py-2.5",disabled:m,children:m?"Creating...":"Create Session"})]})]})}):null}function km(){const{theme:u,toggleTheme:c}=Ut(),{currentSession:_,sessions:E}=Wt(),[A,j]=pe.useState(!1),I=E.find(o=>o.name===_);return O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface flex-shrink-0",children:[O.jsxs("div",{className:"flex items-center gap-1.5 mr-1",children:[O.jsx("img",{src:"https://claraverse.app/favicon.ico",alt:"VibeManager",className:"w-[22px] h-[22px] rounded-full"}),O.jsx("span",{className:"text-[13px] font-bold text-text-primary tracking-tight hidden sm:block",children:"VibeManager"})]}),O.jsx("button",{className:"btn",onClick:()=>j(!0),title:"New Session",children:O.jsx(Gd,{className:"w-4 h-4"})}),O.jsx(wm,{}),I&&O.jsx("span",{className:"flex-1 text-[12px] text-text-dim font-mono truncate min-w-[40px]",children:I.projectPath}),O.jsx(Cm,{}),O.jsx(xm,{}),O.jsx("button",{className:"btn",onClick:c,title:`Switch to ${u==="dark"?"light":"dark"} mode`,children:u==="dark"?O.jsx(Ov,{className:"w-4 h-4"}):O.jsx(Lv,{className:"w-4 h-4"})})]}),O.jsx(nf,{open:A,onClose:()=>j(!1)})]})}const Em=[{mode:"dashboard",label:"Dashboard"},{mode:"terminal",label:"Terminal"},{mode:"code",label:"Code"},{mode:"preview",label:"Preview"},{mode:"split",label:"Split"}];function Rm(){const{viewMode:u,setViewMode:c}=Ut();return O.jsx("div",{className:"flex gap-0.5 px-3 py-1 bg-surface flex-shrink-0",children:Em.map(({mode:_,label:E})=>O.jsx("button",{className:st("view-tab",u===_&&"active"),onClick:()=>c(_),children:E},_))})}const Lm={active:{label:"Active",dotClass:"bg-success",animate:"animate-pulse-fast"},idle:{label:"Idle",dotClass:"bg-warn"},waiting_for_input:{label:"Waiting",dotClass:"bg-accent",animate:"animate-pulse-slow"}};function Dm({activity:u,alive:c}){if(!c)return O.jsxs("div",{className:"flex items-center gap-1.5",children:[O.jsx("div",{className:"status-dot dead"}),O.jsx("span",{className:"text-[10px] text-text-dim uppercase tracking-wider",children:"Stopped"})]});const _=Lm[u.activityState];return O.jsxs("div",{className:"flex items-center gap-1.5",children:[O.jsx("div",{className:st("status-dot",_.dotClass,_.animate)}),O.jsx("span",{className:"text-[10px] text-text-dim uppercase tracking-wider",children:_.label})]})}function Pm({session:u}){const{setCurrentSession:c}=Wt(),{setViewMode:_}=Ut(),{stop:E,revive:A,delete:j,isStopping:I,isReviving:o,isDeleting:f}=sf(),v=()=>{c(u.name),_("terminal")},S=async w=>{w.stopPropagation(),await E(u.name)},d=async w=>{w.stopPropagation(),await A(u.name)},y=async w=>{w.stopPropagation(),confirm(`Delete session "${u.name}"?`)&&await j(u.name)};return O.jsxs("div",{className:st("card flex flex-col gap-2.5 cursor-pointer",!u.alive&&"opacity-60"),onClick:v,children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(Dm,{activity:u.activity,alive:u.alive}),O.jsx("span",{className:"text-[15px] font-semibold text-text-primary",children:u.name})]}),O.jsx("div",{className:"text-[11px] text-text-dim font-mono truncate",children:Sm(u.projectPath)}),O.jsxs("div",{className:"text-[11px] text-text-dim flex gap-3",children:[O.jsx("span",{children:u.shell}),O.jsx("span",{children:gm(u.lastAccessedAt)})]}),O.jsxs("div",{className:"flex gap-2 mt-auto",children:[O.jsxs("button",{className:"btn btn-primary flex-1 flex items-center justify-center gap-1.5",onClick:v,children:[O.jsx(Qd,{className:"w-3.5 h-3.5"}),"Attach"]}),u.alive?O.jsx("button",{className:"btn btn-danger flex-0 px-2.5",onClick:S,disabled:I,title:"Stop session",children:O.jsx(Xd,{className:"w-3.5 h-3.5"})}):O.jsx("button",{className:"btn btn-success flex-0 px-2.5",onClick:d,disabled:o,title:"Revive session",children:O.jsx(Oo,{className:"w-3.5 h-3.5"})}),O.jsx("button",{className:"btn btn-danger flex-0 px-2.5",onClick:y,disabled:f,title:"Delete session",children:O.jsx(Iv,{className:"w-3.5 h-3.5"})})]})]})}function Tm(){const{systemStats:u}=Wt();if(!u)return null;const c=Ml(u.cpu.percent),_=Ml(u.memory.percent),E=Ml(u.disk.percent),A=ym(u.temperature);return O.jsxs("div",{className:"bg-surface p-4 flex-shrink-0 mt-auto",children:[O.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wider text-text-dim mb-3",children:"System Monitor"}),O.jsxs("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(200px,1fr))] gap-3",children:[O.jsxs("div",{className:"flex flex-col gap-1",children:[O.jsxs("div",{className:"flex justify-between items-center text-[11px] text-text-dim",children:[O.jsx("span",{children:"CPU"}),O.jsxs("span",{className:"font-mono font-semibold text-text-primary",children:[u.cpu.percent.toFixed(1),"%"]})]}),O.jsxs("div",{className:st("sysmon-bar",u.cpu.percent>80?"hot":u.cpu.percent>60?"warm":"cool"),children:[O.jsx("span",{className:"filled",children:c.filled}),O.jsx("span",{className:"empty",children:c.empty})]})]}),O.jsxs("div",{className:"flex flex-col gap-1",children:[O.jsxs("div",{className:"flex justify-between items-center text-[11px] text-text-dim",children:[O.jsx("span",{children:"Memory"}),O.jsxs("span",{className:"font-mono font-semibold text-text-primary",children:[oi(u.memory.used)," / ",oi(u.memory.total)]})]}),O.jsxs("div",{className:st("sysmon-bar",u.memory.percent>80?"hot":u.memory.percent>60?"warm":"cool"),children:[O.jsx("span",{className:"filled",children:_.filled}),O.jsx("span",{className:"empty",children:_.empty})]})]}),O.jsxs("div",{className:"flex flex-col gap-1",children:[O.jsxs("div",{className:"flex justify-between items-center text-[11px] text-text-dim",children:[O.jsx("span",{children:"Disk"}),O.jsxs("span",{className:"font-mono font-semibold text-text-primary",children:[oi(u.disk.used)," / ",oi(u.disk.total)]})]}),O.jsxs("div",{className:st("sysmon-bar",u.disk.percent>90?"hot":u.disk.percent>75?"warm":"cool"),children:[O.jsx("span",{className:"filled",children:E.filled}),O.jsx("span",{className:"empty",children:E.empty})]})]}),O.jsxs("div",{className:"flex flex-col gap-1",children:[O.jsx("div",{className:"text-[11px] text-text-dim",children:"Load Average"}),O.jsxs("div",{className:"font-mono text-[12px] text-text-primary flex gap-2.5",children:[O.jsx("span",{children:u.load[0].toFixed(2)}),O.jsx("span",{children:u.load[1].toFixed(2)}),O.jsx("span",{children:u.load[2].toFixed(2)})]})]}),O.jsxs("div",{className:"flex flex-col gap-1",children:[O.jsx("div",{className:"text-[11px] text-text-dim",children:"Network"}),O.jsxs("div",{className:"font-mono text-[11px] flex gap-3",children:[O.jsxs("span",{className:"text-success",children:[" ",oi(u.network.rx)]}),O.jsxs("span",{className:"text-accent",children:[" ",oi(u.network.tx)]})]})]}),u.temperature>0&&O.jsxs("div",{className:"flex flex-col gap-1",children:[O.jsx("div",{className:"text-[11px] text-text-dim",children:"Temperature"}),O.jsxs("div",{className:st("font-mono text-[20px] font-bold",{"text-success":A==="cool","text-warn":A==="warm","text-danger":A==="hot"}),children:[u.temperature,"C"]})]})]})]})}function Mm(){const{sessions:u,systemStats:c}=Wt(),[_,E]=pe.useState(!1),A=u.filter(I=>I.alive),j=u.filter(I=>!I.alive);return O.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto p-4 gap-4 scrollbar-touch",children:[O.jsxs("div",{className:"flex items-center justify-between flex-shrink-0",children:[O.jsx("h1",{className:"text-[18px] font-semibold text-text-primary",children:"Dashboard"}),O.jsxs("button",{className:"btn btn-primary flex items-center gap-1.5",onClick:()=>E(!0),children:[O.jsx(Gd,{className:"w-4 h-4"}),"New Project"]})]}),O.jsxs("div",{className:"flex gap-4 flex-shrink-0 flex-wrap",children:[O.jsxs("div",{className:"stat-item running flex items-center gap-2 px-4 py-2.5 bg-surface flex-1 min-w-[100px]",children:[O.jsx(Qd,{className:"w-4 h-4 text-success"}),O.jsxs("div",{children:[O.jsx("div",{className:"text-[22px] font-bold font-mono text-success",children:A.length}),O.jsx("div",{className:"text-[11px] text-text-dim uppercase tracking-wider",children:"Running"})]})]}),O.jsxs("div",{className:"stat-item stopped flex items-center gap-2 px-4 py-2.5 bg-surface flex-1 min-w-[100px]",children:[O.jsx(Xd,{className:"w-4 h-4 text-text-dim"}),O.jsxs("div",{children:[O.jsx("div",{className:"text-[22px] font-bold font-mono text-text-dim",children:j.length}),O.jsx("div",{className:"text-[11px] text-text-dim uppercase tracking-wider",children:"Stopped"})]})]}),O.jsxs("div",{className:"stat-item total flex items-center gap-2 px-4 py-2.5 bg-surface flex-1 min-w-[100px]",children:[O.jsx(bv,{className:"w-4 h-4 text-accent"}),O.jsxs("div",{children:[O.jsx("div",{className:"text-[22px] font-bold font-mono text-accent",children:u.length}),O.jsx("div",{className:"text-[11px] text-text-dim uppercase tracking-wider",children:"Total"})]})]}),c&&O.jsxs("div",{className:"stat-item uptime flex items-center gap-2 px-4 py-2.5 bg-surface flex-1 min-w-[100px]",children:[O.jsx(yv,{className:"w-4 h-4 text-warn"}),O.jsxs("div",{children:[O.jsx("div",{className:"text-[16px] font-bold font-mono text-warn",children:mm(c.uptime)}),O.jsx("div",{className:"text-[11px] text-text-dim uppercase tracking-wider",children:"Uptime"})]})]})]}),u.length>0?O.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(280px,1fr))] gap-3",children:u.map(I=>O.jsx(Pm,{session:I},I.id))}):O.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-text-dim text-center",children:[O.jsx("div",{className:"text-[40px] opacity-30",children:""}),O.jsx("p",{className:"text-[14px]",children:"No sessions yet"}),O.jsx("p",{className:"text-[12px] opacity-60",children:"Create a new session to get started with your AI coding agent"})]}),c&&O.jsx(Tm,{}),O.jsx(nf,{open:_,onClose:()=>E(!1)})]})}var Al={exports:{}},Sd;function Am(){return Sd||(Sd=1,(function(u,c){(function(_,E){u.exports=E()})(globalThis,(()=>(()=>{var _={4567:function(I,o,f){var v=this&&this.__decorate||function(i,l,p,b){var x,R=arguments.length,C=R<3?l:b===null?b=Object.getOwnPropertyDescriptor(l,p):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(i,l,p,b);else for(var T=i.length-1;T>=0;T--)(x=i[T])&&(C=(R<3?x(C):R>3?x(l,p,C):x(l,p))||C);return R>3&&C&&Object.defineProperty(l,p,C),C},S=this&&this.__param||function(i,l){return function(p,b){l(p,b,i)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;const d=f(9042),y=f(9924),w=f(844),k=f(4725),m=f(2585),n=f(3656);let a=o.AccessibilityManager=class extends w.Disposable{constructor(i,l,p,b){super(),this._terminal=i,this._coreBrowserService=p,this._renderService=b,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let x=0;x<this._terminal.rows;x++)this._rowElements[x]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[x]);if(this._topBoundaryFocusListener=x=>this._handleBoundaryFocus(x,0),this._bottomBoundaryFocusListener=x=>this._handleBoundaryFocus(x,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new y.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((x=>this._handleResize(x.rows)))),this.register(this._terminal.onRender((x=>this._refreshRows(x.start,x.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((x=>this._handleChar(x)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((x=>this._handleTab(x)))),this.register(this._terminal.onKey((x=>this._handleKey(x.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this.register((0,n.addDisposableDomListener)(document,"selectionchange",(()=>this._handleSelectionChange()))),this.register(this._coreBrowserService.onDprChange((()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,w.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(i){for(let l=0;l<i;l++)this._handleChar(" ")}_handleChar(i){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==i&&(this._charsToAnnounce+=i):this._charsToAnnounce+=i,i===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=d.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(i){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(i)||this._charsToConsume.push(i)}_refreshRows(i,l){this._liveRegionDebouncer.refresh(i,l,this._terminal.rows)}_renderRows(i,l){const p=this._terminal.buffer,b=p.lines.length.toString();for(let x=i;x<=l;x++){const R=p.lines.get(p.ydisp+x),C=[],T=(R==null?void 0:R.translateToString(!0,void 0,void 0,C))||"",z=(p.ydisp+x+1).toString(),U=this._rowElements[x];U&&(T.length===0?(U.innerText="",this._rowColumns.set(U,[0,1])):(U.textContent=T,this._rowColumns.set(U,C)),U.setAttribute("aria-posinset",z),U.setAttribute("aria-setsize",b))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(i,l){const p=i.target,b=this._rowElements[l===0?1:this._rowElements.length-2];if(p.getAttribute("aria-posinset")===(l===0?"1":`${this._terminal.buffer.lines.length}`)||i.relatedTarget!==b)return;let x,R;if(l===0?(x=p,R=this._rowElements.pop(),this._rowContainer.removeChild(R)):(x=this._rowElements.shift(),R=p,this._rowContainer.removeChild(x)),x.removeEventListener("focus",this._topBoundaryFocusListener),R.removeEventListener("focus",this._bottomBoundaryFocusListener),l===0){const C=this._createAccessibilityTreeNode();this._rowElements.unshift(C),this._rowContainer.insertAdjacentElement("afterbegin",C)}else{const C=this._createAccessibilityTreeNode();this._rowElements.push(C),this._rowContainer.appendChild(C)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(l===0?-1:1),this._rowElements[l===0?1:this._rowElements.length-2].focus(),i.preventDefault(),i.stopImmediatePropagation()}_handleSelectionChange(){var T;if(this._rowElements.length===0)return;const i=document.getSelection();if(!i)return;if(i.isCollapsed)return void(this._rowContainer.contains(i.anchorNode)&&this._terminal.clearSelection());if(!i.anchorNode||!i.focusNode)return void console.error("anchorNode and/or focusNode are null");let l={node:i.anchorNode,offset:i.anchorOffset},p={node:i.focusNode,offset:i.focusOffset};if((l.node.compareDocumentPosition(p.node)&Node.DOCUMENT_POSITION_PRECEDING||l.node===p.node&&l.offset>p.offset)&&([l,p]=[p,l]),l.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(l={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(l.node))return;const b=this._rowElements.slice(-1)[0];if(p.node.compareDocumentPosition(b)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(p={node:b,offset:((T=b.textContent)==null?void 0:T.length)??0}),!this._rowContainer.contains(p.node))return;const x=({node:z,offset:U})=>{const W=z instanceof Text?z.parentNode:z;let F=parseInt(W==null?void 0:W.getAttribute("aria-posinset"),10)-1;if(isNaN(F))return console.warn("row is invalid. Race condition?"),null;const J=this._rowColumns.get(W);if(!J)return console.warn("columns is null. Race condition?"),null;let te=U<J.length?J[U]:J.slice(-1)[0]+1;return te>=this._terminal.cols&&(++F,te=0),{row:F,column:te}},R=x(l),C=x(p);if(R&&C){if(R.row>C.row||R.row===C.row&&R.column>=C.column)throw new Error("invalid range");this._terminal.select(R.column,R.row,(C.row-R.row)*this._terminal.cols-R.column+C.column)}}_handleResize(i){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let l=this._rowContainer.children.length;l<this._terminal.rows;l++)this._rowElements[l]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[l]);for(;this._rowElements.length>i;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const i=this._coreBrowserService.mainDocument.createElement("div");return i.setAttribute("role","listitem"),i.tabIndex=-1,this._refreshRowDimensions(i),i}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let i=0;i<this._terminal.rows;i++)this._refreshRowDimensions(this._rowElements[i])}}_refreshRowDimensions(i){i.style.height=`${this._renderService.dimensions.css.cell.height}px`}};o.AccessibilityManager=a=v([S(1,m.IInstantiationService),S(2,k.ICoreBrowserService),S(3,k.IRenderService)],a)},3614:(I,o)=>{function f(y){return y.replace(/\r?\n/g,"\r")}function v(y,w){return w?"\x1B[200~"+y+"\x1B[201~":y}function S(y,w,k,m){y=v(y=f(y),k.decPrivateModes.bracketedPasteMode&&m.rawOptions.ignoreBracketedPasteMode!==!0),k.triggerDataEvent(y,!0),w.value=""}function d(y,w,k){const m=k.getBoundingClientRect(),n=y.clientX-m.left-10,a=y.clientY-m.top-10;w.style.width="20px",w.style.height="20px",w.style.left=`${n}px`,w.style.top=`${a}px`,w.style.zIndex="1000",w.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=f,o.bracketTextForPaste=v,o.copyHandler=function(y,w){y.clipboardData&&y.clipboardData.setData("text/plain",w.selectionText),y.preventDefault()},o.handlePasteEvent=function(y,w,k,m){y.stopPropagation(),y.clipboardData&&S(y.clipboardData.getData("text/plain"),w,k,m)},o.paste=S,o.moveTextAreaUnderMouseCursor=d,o.rightClickHandler=function(y,w,k,m,n){d(y,w,k),n&&m.rightClickSelect(y),w.value=m.selectionText,w.select()}},7239:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;const v=f(1505);o.ColorContrastCache=class{constructor(){this._color=new v.TwoKeyMap,this._css=new v.TwoKeyMap}setCss(S,d,y){this._css.set(S,d,y)}getCss(S,d){return this._css.get(S,d)}setColor(S,d,y){this._color.set(S,d,y)}getColor(S,d){return this._color.get(S,d)}clear(){this._color.clear(),this._css.clear()}}},3656:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(f,v,S,d){f.addEventListener(v,S,d);let y=!1;return{dispose:()=>{y||(y=!0,f.removeEventListener(v,S,d))}}}},3551:function(I,o,f){var v=this&&this.__decorate||function(a,i,l,p){var b,x=arguments.length,R=x<3?i:p===null?p=Object.getOwnPropertyDescriptor(i,l):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(a,i,l,p);else for(var C=a.length-1;C>=0;C--)(b=a[C])&&(R=(x<3?b(R):x>3?b(i,l,R):b(i,l))||R);return x>3&&R&&Object.defineProperty(i,l,R),R},S=this&&this.__param||function(a,i){return function(l,p){i(l,p,a)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier=void 0;const d=f(3656),y=f(8460),w=f(844),k=f(2585),m=f(4725);let n=o.Linkifier=class extends w.Disposable{get currentLink(){return this._currentLink}constructor(a,i,l,p,b){super(),this._element=a,this._mouseService=i,this._renderService=l,this._bufferService=p,this._linkProviderService=b,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new y.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new y.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,w.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,w.toDisposable)((()=>{var x;this._lastMouseEvent=void 0,(x=this._activeProviderReplies)==null||x.clear()}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0}))),this.register((0,d.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,d.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(a){this._lastMouseEvent=a;const i=this._positionFromMouseEvent(a,this._element,this._mouseService);if(!i)return;this._isMouseOut=!1;const l=a.composedPath();for(let p=0;p<l.length;p++){const b=l[p];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&i.x===this._lastBufferCell.x&&i.y===this._lastBufferCell.y||(this._handleHover(i),this._lastBufferCell=i)}_handleHover(a){if(this._activeLine!==a.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(a,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,a)||(this._clearCurrentLink(),this._askForLink(a,!0))}_askForLink(a,i){var p,b;this._activeProviderReplies&&i||((p=this._activeProviderReplies)==null||p.forEach((x=>{x==null||x.forEach((R=>{R.link.dispose&&R.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=a.y);let l=!1;for(const[x,R]of this._linkProviderService.linkProviders.entries())i?(b=this._activeProviderReplies)!=null&&b.get(x)&&(l=this._checkLinkProviderResult(x,a,l)):R.provideLinks(a.y,(C=>{var z,U;if(this._isMouseOut)return;const T=C==null?void 0:C.map((W=>({link:W})));(z=this._activeProviderReplies)==null||z.set(x,T),l=this._checkLinkProviderResult(x,a,l),((U=this._activeProviderReplies)==null?void 0:U.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(a.y,this._activeProviderReplies)}))}_removeIntersectingLinks(a,i){const l=new Set;for(let p=0;p<i.size;p++){const b=i.get(p);if(b)for(let x=0;x<b.length;x++){const R=b[x],C=R.link.range.start.y<a?0:R.link.range.start.x,T=R.link.range.end.y>a?this._bufferService.cols:R.link.range.end.x;for(let z=C;z<=T;z++){if(l.has(z)){b.splice(x--,1);break}l.add(z)}}}}_checkLinkProviderResult(a,i,l){var x;if(!this._activeProviderReplies)return l;const p=this._activeProviderReplies.get(a);let b=!1;for(let R=0;R<a;R++)this._activeProviderReplies.has(R)&&!this._activeProviderReplies.get(R)||(b=!0);if(!b&&p){const R=p.find((C=>this._linkAtPosition(C.link,i)));R&&(l=!0,this._handleNewLink(R))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!l)for(let R=0;R<this._activeProviderReplies.size;R++){const C=(x=this._activeProviderReplies.get(R))==null?void 0:x.find((T=>this._linkAtPosition(T.link,i)));if(C){l=!0,this._handleNewLink(C);break}}return l}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(a){if(!this._currentLink)return;const i=this._positionFromMouseEvent(a,this._element,this._mouseService);i&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,i)&&this._currentLink.link.activate(a,this._currentLink.link.text)}_clearCurrentLink(a,i){this._currentLink&&this._lastMouseEvent&&(!a||!i||this._currentLink.link.range.start.y>=a&&this._currentLink.link.range.end.y<=i)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,w.disposeArray)(this._linkCacheDisposables))}_handleNewLink(a){if(!this._lastMouseEvent)return;const i=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);i&&this._linkAtPosition(a.link,i)&&(this._currentLink=a,this._currentLink.state={decorations:{underline:a.link.decorations===void 0||a.link.decorations.underline,pointerCursor:a.link.decorations===void 0||a.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,a.link,this._lastMouseEvent),a.link.decorations={},Object.defineProperties(a.link.decorations,{pointerCursor:{get:()=>{var l,p;return(p=(l=this._currentLink)==null?void 0:l.state)==null?void 0:p.decorations.pointerCursor},set:l=>{var p;(p=this._currentLink)!=null&&p.state&&this._currentLink.state.decorations.pointerCursor!==l&&(this._currentLink.state.decorations.pointerCursor=l,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",l))}},underline:{get:()=>{var l,p;return(p=(l=this._currentLink)==null?void 0:l.state)==null?void 0:p.decorations.underline},set:l=>{var p,b,x;(p=this._currentLink)!=null&&p.state&&((x=(b=this._currentLink)==null?void 0:b.state)==null?void 0:x.decorations.underline)!==l&&(this._currentLink.state.decorations.underline=l,this._currentLink.state.isHovered&&this._fireUnderlineEvent(a.link,l))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((l=>{if(!this._currentLink)return;const p=l.start===0?0:l.start+1+this._bufferService.buffer.ydisp,b=this._bufferService.buffer.ydisp+1+l.end;if(this._currentLink.link.range.start.y>=p&&this._currentLink.link.range.end.y<=b&&(this._clearCurrentLink(p,b),this._lastMouseEvent)){const x=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);x&&this._askForLink(x,!1)}}))))}_linkHover(a,i,l){var p;(p=this._currentLink)!=null&&p.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(i,!0),this._currentLink.state.decorations.pointerCursor&&a.classList.add("xterm-cursor-pointer")),i.hover&&i.hover(l,i.text)}_fireUnderlineEvent(a,i){const l=a.range,p=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(l.start.x-1,l.start.y-p-1,l.end.x,l.end.y-p-1,void 0);(i?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)}_linkLeave(a,i,l){var p;(p=this._currentLink)!=null&&p.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(i,!1),this._currentLink.state.decorations.pointerCursor&&a.classList.remove("xterm-cursor-pointer")),i.leave&&i.leave(l,i.text)}_linkAtPosition(a,i){const l=a.range.start.y*this._bufferService.cols+a.range.start.x,p=a.range.end.y*this._bufferService.cols+a.range.end.x,b=i.y*this._bufferService.cols+i.x;return l<=b&&b<=p}_positionFromMouseEvent(a,i,l){const p=l.getCoords(a,i,this._bufferService.cols,this._bufferService.rows);if(p)return{x:p[0],y:p[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(a,i,l,p,b){return{x1:a,y1:i,x2:l,y2:p,cols:this._bufferService.cols,fg:b}}};o.Linkifier=n=v([S(1,m.IMouseService),S(2,m.IRenderService),S(3,k.IBufferService),S(4,m.ILinkProviderService)],n)},9042:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(I,o,f){var v=this&&this.__decorate||function(m,n,a,i){var l,p=arguments.length,b=p<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,a):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(m,n,a,i);else for(var x=m.length-1;x>=0;x--)(l=m[x])&&(b=(p<3?l(b):p>3?l(n,a,b):l(n,a))||b);return p>3&&b&&Object.defineProperty(n,a,b),b},S=this&&this.__param||function(m,n){return function(a,i){n(a,i,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkProvider=void 0;const d=f(511),y=f(2585);let w=o.OscLinkProvider=class{constructor(m,n,a){this._bufferService=m,this._optionsService=n,this._oscLinkService=a}provideLinks(m,n){var T;const a=this._bufferService.buffer.lines.get(m-1);if(!a)return void n(void 0);const i=[],l=this._optionsService.rawOptions.linkHandler,p=new d.CellData,b=a.getTrimmedLength();let x=-1,R=-1,C=!1;for(let z=0;z<b;z++)if(R!==-1||a.hasContent(z)){if(a.loadCell(z,p),p.hasExtendedAttrs()&&p.extended.urlId){if(R===-1){R=z,x=p.extended.urlId;continue}C=p.extended.urlId!==x}else R!==-1&&(C=!0);if(C||R!==-1&&z===b-1){const U=(T=this._oscLinkService.getLinkData(x))==null?void 0:T.uri;if(U){const W={start:{x:R+1,y:m},end:{x:z+(C||z!==b-1?0:1),y:m}};let F=!1;if(!(l!=null&&l.allowNonHttpProtocols))try{const J=new URL(U);["http:","https:"].includes(J.protocol)||(F=!0)}catch{F=!0}F||i.push({text:U,range:W,activate:(J,te)=>l?l.activate(J,te,W):k(0,te),hover:(J,te)=>{var ne;return(ne=l==null?void 0:l.hover)==null?void 0:ne.call(l,J,te,W)},leave:(J,te)=>{var ne;return(ne=l==null?void 0:l.leave)==null?void 0:ne.call(l,J,te,W)}})}C=!1,p.hasExtendedAttrs()&&p.extended.urlId?(R=z,x=p.extended.urlId):(R=-1,x=-1)}}n(i)}};function k(m,n){if(confirm(`Do you want to navigate to ${n}?

WARNING: This link could potentially be dangerous`)){const a=window.open();if(a){try{a.opener=null}catch{}a.location.href=n}else console.warn("Opening link blocked as opener could not be cleared")}}o.OscLinkProvider=w=v([S(0,y.IBufferService),S(1,y.IOptionsService),S(2,y.IOscLinkService)],w)},6193:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0,o.RenderDebouncer=class{constructor(f,v){this._renderCallback=f,this._coreBrowserService=v,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(f){return this._refreshCallbacks.push(f),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(f,v,S){this._rowCount=S,f=f!==void 0?f:0,v=v!==void 0?v:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,f):f,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,v):v,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const f=Math.max(this._rowStart,0),v=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(f,v),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const f of this._refreshCallbacks)f(0);this._refreshCallbacks=[]}}},3236:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const v=f(3614),S=f(3656),d=f(3551),y=f(9042),w=f(3730),k=f(1680),m=f(3107),n=f(5744),a=f(2950),i=f(1296),l=f(428),p=f(4269),b=f(5114),x=f(8934),R=f(3230),C=f(9312),T=f(4725),z=f(6731),U=f(8055),W=f(8969),F=f(8460),J=f(844),te=f(6114),ne=f(8437),le=f(2584),X=f(7399),L=f(5941),B=f(9074),D=f(2585),N=f(5435),ee=f(4567),se=f(779);class ue extends W.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(V={}){super(V),this.browser=te,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new J.MutableDisposable),this._onCursorMove=this.register(new F.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new F.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new F.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new F.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new F.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new F.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new F.EventEmitter),this._onBlur=this.register(new F.EventEmitter),this._onA11yCharEmitter=this.register(new F.EventEmitter),this._onA11yTabEmitter=this.register(new F.EventEmitter),this._onWillOpen=this.register(new F.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(B.DecorationService),this._instantiationService.setService(D.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(se.LinkProviderService),this._instantiationService.setService(T.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(w.OscLinkProvider)),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((M,re)=>this.refresh(M,re)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((M=>this._reportWindowsOptions(M)))),this.register(this._inputHandler.onColor((M=>this._handleColorEvent(M)))),this.register((0,F.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,F.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,F.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,F.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((M=>this._afterResize(M.cols,M.rows)))),this.register((0,J.toDisposable)((()=>{var M,re;this._customKeyEventHandler=void 0,(re=(M=this.element)==null?void 0:M.parentNode)==null||re.removeChild(this.element)})))}_handleColorEvent(V){if(this._themeService)for(const M of V){let re,Z="";switch(M.index){case 256:re="foreground",Z="10";break;case 257:re="background",Z="11";break;case 258:re="cursor",Z="12";break;default:re="ansi",Z="4;"+M.index}switch(M.type){case 0:const fe=U.color.toColorRGB(re==="ansi"?this._themeService.colors.ansi[M.index]:this._themeService.colors[re]);this.coreService.triggerDataEvent(`${le.C0.ESC}]${Z};${(0,L.toRgbString)(fe)}${le.C1_ESCAPED.ST}`);break;case 1:if(re==="ansi")this._themeService.modifyColors((de=>de.ansi[M.index]=U.channels.toColor(...M.color)));else{const de=re;this._themeService.modifyColors((Le=>Le[de]=U.channels.toColor(...M.color)))}break;case 2:this._themeService.restoreColor(M.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(V){V?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(ee.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(V){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(le.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var V;return(V=this.textarea)==null?void 0:V.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(le.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const V=this.buffer.ybase+this.buffer.y,M=this.buffer.lines.get(V);if(!M)return;const re=Math.min(this.buffer.x,this.cols-1),Z=this._renderService.dimensions.css.cell.height,fe=M.getWidth(re),de=this._renderService.dimensions.css.cell.width*fe,Le=this.buffer.y*this._renderService.dimensions.css.cell.height,Be=re*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Be+"px",this.textarea.style.top=Le+"px",this.textarea.style.width=de+"px",this.textarea.style.height=Z+"px",this.textarea.style.lineHeight=Z+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,S.addDisposableDomListener)(this.element,"copy",(M=>{this.hasSelection()&&(0,v.copyHandler)(M,this._selectionService)})));const V=M=>(0,v.handlePasteEvent)(M,this.textarea,this.coreService,this.optionsService);this.register((0,S.addDisposableDomListener)(this.textarea,"paste",V)),this.register((0,S.addDisposableDomListener)(this.element,"paste",V)),te.isFirefox?this.register((0,S.addDisposableDomListener)(this.element,"mousedown",(M=>{M.button===2&&(0,v.rightClickHandler)(M,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,S.addDisposableDomListener)(this.element,"contextmenu",(M=>{(0,v.rightClickHandler)(M,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),te.isLinux&&this.register((0,S.addDisposableDomListener)(this.element,"auxclick",(M=>{M.button===1&&(0,v.moveTextAreaUnderMouseCursor)(M,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,S.addDisposableDomListener)(this.textarea,"keyup",(V=>this._keyUp(V)),!0)),this.register((0,S.addDisposableDomListener)(this.textarea,"keydown",(V=>this._keyDown(V)),!0)),this.register((0,S.addDisposableDomListener)(this.textarea,"keypress",(V=>this._keyPress(V)),!0)),this.register((0,S.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,S.addDisposableDomListener)(this.textarea,"compositionupdate",(V=>this._compositionHelper.compositionupdate(V)))),this.register((0,S.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,S.addDisposableDomListener)(this.textarea,"input",(V=>this._inputEvent(V)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(V){var re;if(!V)throw new Error("Terminal requires a parent element.");if(V.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((re=this.element)==null?void 0:re.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=V.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),V.appendChild(this.element);const M=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),M.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,S.addDisposableDomListener)(this.screenElement,"mousemove",(Z=>this.updateCursorStyle(Z)))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),M.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",y.promptLabel),te.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(b.CoreBrowserService,this.textarea,V.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(T.ICoreBrowserService,this._coreBrowserService),this.register((0,S.addDisposableDomListener)(this.textarea,"focus",(Z=>this._handleTextAreaFocus(Z)))),this.register((0,S.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(l.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(T.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(z.ThemeService),this._instantiationService.setService(T.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(p.CharacterJoinerService),this._instantiationService.setService(T.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(R.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(T.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((Z=>this._onRender.fire(Z)))),this.onResize((Z=>this._renderService.resize(Z.cols,Z.rows))),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(a.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(x.MouseService),this._instantiationService.setService(T.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(d.Linkifier,this.screenElement)),this.element.appendChild(M);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(k.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((Z=>this.scrollLines(Z.amount,Z.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(C.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(T.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((Z=>this.scrollLines(Z.amount,Z.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((Z=>this._renderService.handleSelectionChanged(Z.start,Z.end,Z.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((Z=>{this.textarea.value=Z,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((Z=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,S.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.register(this._instantiationService.createInstance(m.BufferDecorationRenderer,this.screenElement)),this.register((0,S.addDisposableDomListener)(this.element,"mousedown",(Z=>this._selectionService.handleMouseDown(Z)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(ee.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(Z=>this._handleScreenReaderModeOptionChange(Z)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(n.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(Z=>{!this._overviewRulerRenderer&&Z&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(n.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(i.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const V=this,M=this.element;function re(de){const Le=V._mouseService.getMouseReportCoords(de,V.screenElement);if(!Le)return!1;let Be,Ne;switch(de.overrideType||de.type){case"mousemove":Ne=32,de.buttons===void 0?(Be=3,de.button!==void 0&&(Be=de.button<3?de.button:3)):Be=1&de.buttons?0:4&de.buttons?1:2&de.buttons?2:3;break;case"mouseup":Ne=0,Be=de.button<3?de.button:3;break;case"mousedown":Ne=1,Be=de.button<3?de.button:3;break;case"wheel":if(V._customWheelEventHandler&&V._customWheelEventHandler(de)===!1||V.viewport.getLinesScrolled(de)===0)return!1;Ne=de.deltaY<0?0:1,Be=4;break;default:return!1}return!(Ne===void 0||Be===void 0||Be>4)&&V.coreMouseService.triggerMouseEvent({col:Le.col,row:Le.row,x:Le.x,y:Le.y,button:Be,action:Ne,ctrl:de.ctrlKey,alt:de.altKey,shift:de.shiftKey})}const Z={mouseup:null,wheel:null,mousedrag:null,mousemove:null},fe={mouseup:de=>(re(de),de.buttons||(this._document.removeEventListener("mouseup",Z.mouseup),Z.mousedrag&&this._document.removeEventListener("mousemove",Z.mousedrag)),this.cancel(de)),wheel:de=>(re(de),this.cancel(de,!0)),mousedrag:de=>{de.buttons&&re(de)},mousemove:de=>{de.buttons||re(de)}};this.register(this.coreMouseService.onProtocolChange((de=>{de?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(de)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&de?Z.mousemove||(M.addEventListener("mousemove",fe.mousemove),Z.mousemove=fe.mousemove):(M.removeEventListener("mousemove",Z.mousemove),Z.mousemove=null),16&de?Z.wheel||(M.addEventListener("wheel",fe.wheel,{passive:!1}),Z.wheel=fe.wheel):(M.removeEventListener("wheel",Z.wheel),Z.wheel=null),2&de?Z.mouseup||(Z.mouseup=fe.mouseup):(this._document.removeEventListener("mouseup",Z.mouseup),Z.mouseup=null),4&de?Z.mousedrag||(Z.mousedrag=fe.mousedrag):(this._document.removeEventListener("mousemove",Z.mousedrag),Z.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,S.addDisposableDomListener)(M,"mousedown",(de=>{if(de.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(de))return re(de),Z.mouseup&&this._document.addEventListener("mouseup",Z.mouseup),Z.mousedrag&&this._document.addEventListener("mousemove",Z.mousedrag),this.cancel(de)}))),this.register((0,S.addDisposableDomListener)(M,"wheel",(de=>{if(!Z.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(de)===!1)return!1;if(!this.buffer.hasScrollback){const Le=this.viewport.getLinesScrolled(de);if(Le===0)return;const Be=le.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(de.deltaY<0?"A":"B");let Ne="";for(let it=0;it<Math.abs(Le);it++)Ne+=Be;return this.coreService.triggerDataEvent(Ne,!0),this.cancel(de,!0)}return this.viewport.handleWheel(de)?this.cancel(de):void 0}}),{passive:!1})),this.register((0,S.addDisposableDomListener)(M,"touchstart",(de=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(de),this.cancel(de)}),{passive:!0})),this.register((0,S.addDisposableDomListener)(M,"touchmove",(de=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(de)?void 0:this.cancel(de)}),{passive:!1}))}refresh(V,M){var re;(re=this._renderService)==null||re.refreshRows(V,M)}updateCursorStyle(V){var M;(M=this._selectionService)!=null&&M.shouldColumnSelect(V)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(V,M,re=0){var Z;re===1?(super.scrollLines(V,M,re),this.refresh(0,this.rows-1)):(Z=this.viewport)==null||Z.scrollLines(V)}paste(V){(0,v.paste)(V,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(V){this._customKeyEventHandler=V}attachCustomWheelEventHandler(V){this._customWheelEventHandler=V}registerLinkProvider(V){return this._linkProviderService.registerLinkProvider(V)}registerCharacterJoiner(V){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const M=this._characterJoinerService.register(V);return this.refresh(0,this.rows-1),M}deregisterCharacterJoiner(V){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(V)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(V){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+V)}registerDecoration(V){return this._decorationService.registerDecoration(V)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(V,M,re){this._selectionService.setSelection(V,M,re)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var V;(V=this._selectionService)==null||V.clearSelection()}selectAll(){var V;(V=this._selectionService)==null||V.selectAll()}selectLines(V,M){var re;(re=this._selectionService)==null||re.selectLines(V,M)}_keyDown(V){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(V)===!1)return!1;const M=this.browser.isMac&&this.options.macOptionIsMeta&&V.altKey;if(!M&&!this._compositionHelper.keydown(V))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;M||V.key!=="Dead"&&V.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const re=(0,X.evaluateKeyboardEvent)(V,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(V),re.type===3||re.type===2){const Z=this.rows-1;return this.scrollLines(re.type===2?-Z:Z),this.cancel(V,!0)}return re.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,V)||(re.cancel&&this.cancel(V,!0),!re.key||!!(V.key&&!V.ctrlKey&&!V.altKey&&!V.metaKey&&V.key.length===1&&V.key.charCodeAt(0)>=65&&V.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(re.key!==le.C0.ETX&&re.key!==le.C0.CR||(this.textarea.value=""),this._onKey.fire({key:re.key,domEvent:V}),this._showCursor(),this.coreService.triggerDataEvent(re.key,!0),!this.optionsService.rawOptions.screenReaderMode||V.altKey||V.ctrlKey?this.cancel(V,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(V,M){const re=V.isMac&&!this.options.macOptionIsMeta&&M.altKey&&!M.ctrlKey&&!M.metaKey||V.isWindows&&M.altKey&&M.ctrlKey&&!M.metaKey||V.isWindows&&M.getModifierState("AltGraph");return M.type==="keypress"?re:re&&(!M.keyCode||M.keyCode>47)}_keyUp(V){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(V)===!1||((function(M){return M.keyCode===16||M.keyCode===17||M.keyCode===18})(V)||this.focus(),this.updateCursorStyle(V),this._keyPressHandled=!1)}_keyPress(V){let M;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(V)===!1)return!1;if(this.cancel(V),V.charCode)M=V.charCode;else if(V.which===null||V.which===void 0)M=V.keyCode;else{if(V.which===0||V.charCode===0)return!1;M=V.which}return!(!M||(V.altKey||V.ctrlKey||V.metaKey)&&!this._isThirdLevelShift(this.browser,V)||(M=String.fromCharCode(M),this._onKey.fire({key:M,domEvent:V}),this._showCursor(),this.coreService.triggerDataEvent(M,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(V){if(V.data&&V.inputType==="insertText"&&(!V.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const M=V.data;return this.coreService.triggerDataEvent(M,!0),this.cancel(V),!0}return!1}resize(V,M){V!==this.cols||M!==this.rows?super.resize(V,M):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(V,M){var re,Z;(re=this._charSizeService)==null||re.measure(),(Z=this.viewport)==null||Z.syncScrollArea(!0)}clear(){var V;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let M=1;M<this.rows;M++)this.buffer.lines.push(this.buffer.getBlankLine(ne.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(V=this.viewport)==null||V.reset(),this.refresh(0,this.rows-1)}}reset(){var M,re;this.options.rows=this.rows,this.options.cols=this.cols;const V=this._customKeyEventHandler;this._setup(),super.reset(),(M=this._selectionService)==null||M.reset(),this._decorationService.reset(),(re=this.viewport)==null||re.reset(),this._customKeyEventHandler=V,this.refresh(0,this.rows-1)}clearTextureAtlas(){var V;(V=this._renderService)==null||V.clearTextureAtlas()}_reportFocus(){var V;(V=this.element)!=null&&V.classList.contains("focus")?this.coreService.triggerDataEvent(le.C0.ESC+"[I"):this.coreService.triggerDataEvent(le.C0.ESC+"[O")}_reportWindowsOptions(V){if(this._renderService)switch(V){case N.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const M=this._renderService.dimensions.css.canvas.width.toFixed(0),re=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${le.C0.ESC}[4;${re};${M}t`);break;case N.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Z=this._renderService.dimensions.css.cell.width.toFixed(0),fe=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${le.C0.ESC}[6;${fe};${Z}t`)}}cancel(V,M){if(this.options.cancelEvents||M)return V.preventDefault(),V.stopPropagation(),!1}}o.Terminal=ue},9924:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0,o.TimeBasedDebouncer=class{constructor(f,v=1e3){this._renderCallback=f,this._debounceThresholdMS=v,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(f,v,S){this._rowCount=S,f=f!==void 0?f:0,v=v!==void 0?v:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,f):f,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,v):v;const d=Date.now();if(d-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=d,this._innerRefresh();else if(!this._additionalRefreshRequested){const y=d-this._lastRefreshMs,w=this._debounceThresholdMS-y;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),w)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const f=Math.max(this._rowStart,0),v=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(f,v)}}},1680:function(I,o,f){var v=this&&this.__decorate||function(a,i,l,p){var b,x=arguments.length,R=x<3?i:p===null?p=Object.getOwnPropertyDescriptor(i,l):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(a,i,l,p);else for(var C=a.length-1;C>=0;C--)(b=a[C])&&(R=(x<3?b(R):x>3?b(i,l,R):b(i,l))||R);return x>3&&R&&Object.defineProperty(i,l,R),R},S=this&&this.__param||function(a,i){return function(l,p){i(l,p,a)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;const d=f(3656),y=f(4725),w=f(8460),k=f(844),m=f(2585);let n=o.Viewport=class extends k.Disposable{constructor(a,i,l,p,b,x,R,C){super(),this._viewportElement=a,this._scrollArea=i,this._bufferService=l,this._optionsService=p,this._charSizeService=b,this._renderService=x,this._coreBrowserService=R,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((T=>this._activeBuffer=T.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((T=>this._renderDimensions=T))),this._handleThemeChange(C.colors),this.register(C.onChangeColors((T=>this._handleThemeChange(T)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(a){this._viewportElement.style.backgroundColor=a.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(a){if(a)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const i=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==i&&(this._lastRecordedBufferHeight=i,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const a=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==a&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=a),this._refreshAnimationFrame=null}syncScrollArea(a=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(a);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(a)}_handleScroll(a){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const i=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:i,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const a=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(a*(this._smoothScrollState.target-this._smoothScrollState.origin)),a<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(a,i){const l=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(i<0&&this._viewportElement.scrollTop!==0||i>0&&l<this._lastRecordedBufferHeight)||(a.cancelable&&a.preventDefault(),!1)}handleWheel(a){const i=this._getPixelsScrolled(a);return i!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+i:this._smoothScrollState.target+=i,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=i,this._bubbleScroll(a,i))}scrollLines(a){if(a!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const i=a*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+i,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:a,suppressScrollEvent:!1})}_getPixelsScrolled(a){if(a.deltaY===0||a.shiftKey)return 0;let i=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_LINE?i*=this._currentRowHeight:a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(i*=this._currentRowHeight*this._bufferService.rows),i}getBufferElements(a,i){var C;let l,p="";const b=[],x=i??this._bufferService.buffer.lines.length,R=this._bufferService.buffer.lines;for(let T=a;T<x;T++){const z=R.get(T);if(!z)continue;const U=(C=R.get(T+1))==null?void 0:C.isWrapped;if(p+=z.translateToString(!U),!U||T===R.length-1){const W=document.createElement("div");W.textContent=p,b.push(W),p.length>0&&(l=W),p=""}}return{bufferElements:b,cursorElement:l}}getLinesScrolled(a){if(a.deltaY===0||a.shiftKey)return 0;let i=this._applyScrollModifier(a.deltaY,a);return a.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(i/=this._currentRowHeight+0,this._wheelPartialScroll+=i,i=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):a.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(i*=this._bufferService.rows),i}_applyScrollModifier(a,i){const l=this._optionsService.rawOptions.fastScrollModifier;return l==="alt"&&i.altKey||l==="ctrl"&&i.ctrlKey||l==="shift"&&i.shiftKey?a*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:a*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(a){this._lastTouchY=a.touches[0].pageY}handleTouchMove(a){const i=this._lastTouchY-a.touches[0].pageY;return this._lastTouchY=a.touches[0].pageY,i!==0&&(this._viewportElement.scrollTop+=i,this._bubbleScroll(a,i))}};o.Viewport=n=v([S(2,m.IBufferService),S(3,m.IOptionsService),S(4,y.ICharSizeService),S(5,y.IRenderService),S(6,y.ICoreBrowserService),S(7,y.IThemeService)],n)},3107:function(I,o,f){var v=this&&this.__decorate||function(m,n,a,i){var l,p=arguments.length,b=p<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,a):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(m,n,a,i);else for(var x=m.length-1;x>=0;x--)(l=m[x])&&(b=(p<3?l(b):p>3?l(n,a,b):l(n,a))||b);return p>3&&b&&Object.defineProperty(n,a,b),b},S=this&&this.__param||function(m,n){return function(a,i){n(a,i,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;const d=f(4725),y=f(844),w=f(2585);let k=o.BufferDecorationRenderer=class extends y.Disposable{constructor(m,n,a,i,l){super(),this._screenElement=m,this._bufferService=n,this._coreBrowserService=a,this._decorationService=i,this._renderService=l,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((p=>this._removeDecoration(p)))),this.register((0,y.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const m of this._decorationService.decorations)this._renderDecoration(m);this._dimensionsChanged=!1}_renderDecoration(m){this._refreshStyle(m),this._dimensionsChanged&&this._refreshXPosition(m)}_createElement(m){var i;const n=this._coreBrowserService.mainDocument.createElement("div");n.classList.add("xterm-decoration"),n.classList.toggle("xterm-decoration-top-layer",((i=m==null?void 0:m.options)==null?void 0:i.layer)==="top"),n.style.width=`${Math.round((m.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,n.style.height=(m.options.height||1)*this._renderService.dimensions.css.cell.height+"px",n.style.top=(m.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",n.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const a=m.options.x??0;return a&&a>this._bufferService.cols&&(n.style.display="none"),this._refreshXPosition(m,n),n}_refreshStyle(m){const n=m.marker.line-this._bufferService.buffers.active.ydisp;if(n<0||n>=this._bufferService.rows)m.element&&(m.element.style.display="none",m.onRenderEmitter.fire(m.element));else{let a=this._decorationElements.get(m);a||(a=this._createElement(m),m.element=a,this._decorationElements.set(m,a),this._container.appendChild(a),m.onDispose((()=>{this._decorationElements.delete(m),a.remove()}))),a.style.top=n*this._renderService.dimensions.css.cell.height+"px",a.style.display=this._altBufferIsActive?"none":"block",m.onRenderEmitter.fire(a)}}_refreshXPosition(m,n=m.element){if(!n)return;const a=m.options.x??0;(m.options.anchor||"left")==="right"?n.style.right=a?a*this._renderService.dimensions.css.cell.width+"px":"":n.style.left=a?a*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(m){var n;(n=this._decorationElements.get(m))==null||n.remove(),this._decorationElements.delete(m),m.dispose()}};o.BufferDecorationRenderer=k=v([S(1,w.IBufferService),S(2,d.ICoreBrowserService),S(3,w.IDecorationService),S(4,d.IRenderService)],k)},5871:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0,o.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(f){if(f.options.overviewRulerOptions){for(const v of this._zones)if(v.color===f.options.overviewRulerOptions.color&&v.position===f.options.overviewRulerOptions.position){if(this._lineIntersectsZone(v,f.marker.line))return;if(this._lineAdjacentToZone(v,f.marker.line,f.options.overviewRulerOptions.position))return void this._addLineToZone(v,f.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=f.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=f.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=f.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=f.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:f.options.overviewRulerOptions.color,position:f.options.overviewRulerOptions.position,startBufferLine:f.marker.line,endBufferLine:f.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(f){this._linePadding=f}_lineIntersectsZone(f,v){return v>=f.startBufferLine&&v<=f.endBufferLine}_lineAdjacentToZone(f,v,S){return v>=f.startBufferLine-this._linePadding[S||"full"]&&v<=f.endBufferLine+this._linePadding[S||"full"]}_addLineToZone(f,v){f.startBufferLine=Math.min(f.startBufferLine,v),f.endBufferLine=Math.max(f.endBufferLine,v)}}},5744:function(I,o,f){var v=this&&this.__decorate||function(l,p,b,x){var R,C=arguments.length,T=C<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,b):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,p,b,x);else for(var z=l.length-1;z>=0;z--)(R=l[z])&&(T=(C<3?R(T):C>3?R(p,b,T):R(p,b))||T);return C>3&&T&&Object.defineProperty(p,b,T),T},S=this&&this.__param||function(l,p){return function(b,x){p(b,x,l)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;const d=f(5871),y=f(4725),w=f(844),k=f(2585),m={full:0,left:0,center:0,right:0},n={full:0,left:0,center:0,right:0},a={full:0,left:0,center:0,right:0};let i=o.OverviewRulerRenderer=class extends w.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(l,p,b,x,R,C,T){var U;super(),this._viewportElement=l,this._screenElement=p,this._bufferService=b,this._decorationService=x,this._renderService=R,this._optionsService=C,this._coreBrowserService=T,this._colorZoneStore=new d.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(U=this._viewportElement.parentElement)==null||U.insertBefore(this._canvas,this._viewportElement);const z=this._canvas.getContext("2d");if(!z)throw new Error("Ctx cannot be null");this._ctx=z,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,w.toDisposable)((()=>{var W;(W=this._canvas)==null||W.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const l=Math.floor(this._canvas.width/3),p=Math.ceil(this._canvas.width/3);n.full=this._canvas.width,n.left=l,n.center=p,n.right=l,this._refreshDrawHeightConstants(),a.full=0,a.left=0,a.center=n.left,a.right=n.left+n.center}_refreshDrawHeightConstants(){m.full=Math.round(2*this._coreBrowserService.dpr);const l=this._canvas.height/this._bufferService.buffer.lines.length,p=Math.round(Math.max(Math.min(l,12),6)*this._coreBrowserService.dpr);m.left=p,m.center=p,m.right=p}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const p of this._decorationService.decorations)this._colorZoneStore.addDecoration(p);this._ctx.lineWidth=1;const l=this._colorZoneStore.zones;for(const p of l)p.position!=="full"&&this._renderColorZone(p);for(const p of l)p.position==="full"&&this._renderColorZone(p);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(l){this._ctx.fillStyle=l.color,this._ctx.fillRect(a[l.position||"full"],Math.round((this._canvas.height-1)*(l.startBufferLine/this._bufferService.buffers.active.lines.length)-m[l.position||"full"]/2),n[l.position||"full"],Math.round((this._canvas.height-1)*((l.endBufferLine-l.startBufferLine)/this._bufferService.buffers.active.lines.length)+m[l.position||"full"]))}_queueRefresh(l,p){this._shouldUpdateDimensions=l||this._shouldUpdateDimensions,this._shouldUpdateAnchor=p||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};o.OverviewRulerRenderer=i=v([S(2,k.IBufferService),S(3,k.IDecorationService),S(4,y.IRenderService),S(5,k.IOptionsService),S(6,y.ICoreBrowserService)],i)},2950:function(I,o,f){var v=this&&this.__decorate||function(m,n,a,i){var l,p=arguments.length,b=p<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,a):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(m,n,a,i);else for(var x=m.length-1;x>=0;x--)(l=m[x])&&(b=(p<3?l(b):p>3?l(n,a,b):l(n,a))||b);return p>3&&b&&Object.defineProperty(n,a,b),b},S=this&&this.__param||function(m,n){return function(a,i){n(a,i,m)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;const d=f(4725),y=f(2585),w=f(2584);let k=o.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(m,n,a,i,l,p){this._textarea=m,this._compositionView=n,this._bufferService=a,this._optionsService=i,this._coreService=l,this._renderService=p,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(m){this._compositionView.textContent=m.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(m){if(this._isComposing||this._isSendingComposition){if(m.keyCode===229||m.keyCode===16||m.keyCode===17||m.keyCode===18)return!1;this._finalizeComposition(!1)}return m.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(m){if(this._compositionView.classList.remove("active"),this._isComposing=!1,m){const n={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let a;this._isSendingComposition=!1,n.start+=this._dataAlreadySent.length,a=this._isComposing?this._textarea.value.substring(n.start,n.end):this._textarea.value.substring(n.start),a.length>0&&this._coreService.triggerDataEvent(a,!0)}}),0)}else{this._isSendingComposition=!1;const n=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(n,!0)}}_handleAnyTextareaChanges(){const m=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const n=this._textarea.value,a=n.replace(m,"");this._dataAlreadySent=a,n.length>m.length?this._coreService.triggerDataEvent(a,!0):n.length<m.length?this._coreService.triggerDataEvent(`${w.C0.DEL}`,!0):n.length===m.length&&n!==m&&this._coreService.triggerDataEvent(n,!0)}}),0)}updateCompositionElements(m){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const n=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),a=this._renderService.dimensions.css.cell.height,i=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,l=n*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=l+"px",this._compositionView.style.top=i+"px",this._compositionView.style.height=a+"px",this._compositionView.style.lineHeight=a+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const p=this._compositionView.getBoundingClientRect();this._textarea.style.left=l+"px",this._textarea.style.top=i+"px",this._textarea.style.width=Math.max(p.width,1)+"px",this._textarea.style.height=Math.max(p.height,1)+"px",this._textarea.style.lineHeight=p.height+"px"}m||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};o.CompositionHelper=k=v([S(2,y.IBufferService),S(3,y.IOptionsService),S(4,y.ICoreService),S(5,d.IRenderService)],k)},9806:(I,o)=>{function f(v,S,d){const y=d.getBoundingClientRect(),w=v.getComputedStyle(d),k=parseInt(w.getPropertyValue("padding-left")),m=parseInt(w.getPropertyValue("padding-top"));return[S.clientX-y.left-k,S.clientY-y.top-m]}Object.defineProperty(o,"__esModule",{value:!0}),o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=f,o.getCoords=function(v,S,d,y,w,k,m,n,a){if(!k)return;const i=f(v,S,d);return i?(i[0]=Math.ceil((i[0]+(a?m/2:0))/m),i[1]=Math.ceil(i[1]/n),i[0]=Math.min(Math.max(i[0],1),y+(a?1:0)),i[1]=Math.min(Math.max(i[1],1),w),i):void 0}},9504:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;const v=f(2584);function S(n,a,i,l){const p=n-d(n,i),b=a-d(a,i),x=Math.abs(p-b)-(function(R,C,T){let z=0;const U=R-d(R,T),W=C-d(C,T);for(let F=0;F<Math.abs(U-W);F++){const J=y(R,C)==="A"?-1:1,te=T.buffer.lines.get(U+J*F);te!=null&&te.isWrapped&&z++}return z})(n,a,i);return m(x,k(y(n,a),l))}function d(n,a){let i=0,l=a.buffer.lines.get(n),p=l==null?void 0:l.isWrapped;for(;p&&n>=0&&n<a.rows;)i++,l=a.buffer.lines.get(--n),p=l==null?void 0:l.isWrapped;return i}function y(n,a){return n>a?"A":"B"}function w(n,a,i,l,p,b){let x=n,R=a,C="";for(;x!==i||R!==l;)x+=p?1:-1,p&&x>b.cols-1?(C+=b.buffer.translateBufferLineToString(R,!1,n,x),x=0,n=0,R++):!p&&x<0&&(C+=b.buffer.translateBufferLineToString(R,!1,0,n+1),x=b.cols-1,n=x,R--);return C+b.buffer.translateBufferLineToString(R,!1,n,x)}function k(n,a){const i=a?"O":"[";return v.C0.ESC+i+n}function m(n,a){n=Math.floor(n);let i="";for(let l=0;l<n;l++)i+=a;return i}o.moveToCellSequence=function(n,a,i,l){const p=i.buffer.x,b=i.buffer.y;if(!i.buffer.hasScrollback)return(function(C,T,z,U,W,F){return S(T,U,W,F).length===0?"":m(w(C,T,C,T-d(T,W),!1,W).length,k("D",F))})(p,b,0,a,i,l)+S(b,a,i,l)+(function(C,T,z,U,W,F){let J;J=S(T,U,W,F).length>0?U-d(U,W):T;const te=U,ne=(function(le,X,L,B,D,N){let ee;return ee=S(L,B,D,N).length>0?B-d(B,D):X,le<L&&ee<=B||le>=L&&ee<B?"C":"D"})(C,T,z,U,W,F);return m(w(C,J,z,te,ne==="C",W).length,k(ne,F))})(p,b,n,a,i,l);let x;if(b===a)return x=p>n?"D":"C",m(Math.abs(p-n),k(x,l));x=b>a?"D":"C";const R=Math.abs(b-a);return m((function(C,T){return T.cols-C})(b>a?n:p,i)+(R-1)*i.cols+1+((b>a?p:n)-1),k(x,l))}},1296:function(I,o,f){var v=this&&this.__decorate||function(F,J,te,ne){var le,X=arguments.length,L=X<3?J:ne===null?ne=Object.getOwnPropertyDescriptor(J,te):ne;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(F,J,te,ne);else for(var B=F.length-1;B>=0;B--)(le=F[B])&&(L=(X<3?le(L):X>3?le(J,te,L):le(J,te))||L);return X>3&&L&&Object.defineProperty(J,te,L),L},S=this&&this.__param||function(F,J){return function(te,ne){J(te,ne,F)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;const d=f(3787),y=f(2550),w=f(2223),k=f(6171),m=f(6052),n=f(4725),a=f(8055),i=f(8460),l=f(844),p=f(2585),b="xterm-dom-renderer-owner-",x="xterm-rows",R="xterm-fg-",C="xterm-bg-",T="xterm-focus",z="xterm-selection";let U=1,W=o.DomRenderer=class extends l.Disposable{constructor(F,J,te,ne,le,X,L,B,D,N,ee,se,ue){super(),this._terminal=F,this._document=J,this._element=te,this._screenElement=ne,this._viewportElement=le,this._helperContainer=X,this._linkifier2=L,this._charSizeService=D,this._optionsService=N,this._bufferService=ee,this._coreBrowserService=se,this._themeService=ue,this._terminalClass=U++,this._rowElements=[],this._selectionRenderModel=(0,m.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new i.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(x),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(z),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,k.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((he=>this._injectCss(he)))),this._injectCss(this._themeService.colors),this._rowFactory=B.createInstance(d.DomRendererRowFactory,document),this._element.classList.add(b+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((he=>this._handleLinkHover(he)))),this.register(this._linkifier2.onHideLinkUnderline((he=>this._handleLinkLeave(he)))),this.register((0,l.toDisposable)((()=>{this._element.classList.remove(b+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new y.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const F=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*F,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*F),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/F),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/F),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const te of this._rowElements)te.style.width=`${this.dimensions.css.canvas.width}px`,te.style.height=`${this.dimensions.css.cell.height}px`,te.style.lineHeight=`${this.dimensions.css.cell.height}px`,te.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const J=`${this._terminalSelector} .${x} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=J,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(F){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let J=`${this._terminalSelector} .${x} { color: ${F.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;J+=`${this._terminalSelector} .${x} .xterm-dim { color: ${a.color.multiplyOpacity(F.foreground,.5).css};}`,J+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const te=`blink_underline_${this._terminalClass}`,ne=`blink_bar_${this._terminalClass}`,le=`blink_block_${this._terminalClass}`;J+=`@keyframes ${te} { 50% {  border-bottom-style: hidden; }}`,J+=`@keyframes ${ne} { 50% {  box-shadow: none; }}`,J+=`@keyframes ${le} { 0% {  background-color: ${F.cursor.css};  color: ${F.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${F.cursor.css}; }}`,J+=`${this._terminalSelector} .${x}.${T} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${te} 1s step-end infinite;}${this._terminalSelector} .${x}.${T} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${ne} 1s step-end infinite;}${this._terminalSelector} .${x}.${T} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${le} 1s step-end infinite;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-block { background-color: ${F.cursor.css}; color: ${F.cursorAccent.css};}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${F.cursor.css} !important; color: ${F.cursorAccent.css} !important;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${F.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${F.cursor.css} inset;}${this._terminalSelector} .${x} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${F.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,J+=`${this._terminalSelector} .${z} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${z} div { position: absolute; background-color: ${F.selectionBackgroundOpaque.css};}${this._terminalSelector} .${z} div { position: absolute; background-color: ${F.selectionInactiveBackgroundOpaque.css};}`;for(const[X,L]of F.ansi.entries())J+=`${this._terminalSelector} .${R}${X} { color: ${L.css}; }${this._terminalSelector} .${R}${X}.xterm-dim { color: ${a.color.multiplyOpacity(L,.5).css}; }${this._terminalSelector} .${C}${X} { background-color: ${L.css}; }`;J+=`${this._terminalSelector} .${R}${w.INVERTED_DEFAULT_COLOR} { color: ${a.color.opaque(F.background).css}; }${this._terminalSelector} .${R}${w.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${a.color.multiplyOpacity(a.color.opaque(F.background),.5).css}; }${this._terminalSelector} .${C}${w.INVERTED_DEFAULT_COLOR} { background-color: ${F.foreground.css}; }`,this._themeStyleElement.textContent=J}_setDefaultSpacing(){const F=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${F}px`,this._rowFactory.defaultSpacing=F}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(F,J){for(let te=this._rowElements.length;te<=J;te++){const ne=this._document.createElement("div");this._rowContainer.appendChild(ne),this._rowElements.push(ne)}for(;this._rowElements.length>J;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(F,J){this._refreshRowElements(F,J),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(T),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(T),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(F,J,te){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(F,J,te),this.renderRows(0,this._bufferService.rows-1),!F||!J)return;this._selectionRenderModel.update(this._terminal,F,J,te);const ne=this._selectionRenderModel.viewportStartRow,le=this._selectionRenderModel.viewportEndRow,X=this._selectionRenderModel.viewportCappedStartRow,L=this._selectionRenderModel.viewportCappedEndRow;if(X>=this._bufferService.rows||L<0)return;const B=this._document.createDocumentFragment();if(te){const D=F[0]>J[0];B.appendChild(this._createSelectionElement(X,D?J[0]:F[0],D?F[0]:J[0],L-X+1))}else{const D=ne===X?F[0]:0,N=X===le?J[0]:this._bufferService.cols;B.appendChild(this._createSelectionElement(X,D,N));const ee=L-X-1;if(B.appendChild(this._createSelectionElement(X+1,0,this._bufferService.cols,ee)),X!==L){const se=le===L?J[0]:this._bufferService.cols;B.appendChild(this._createSelectionElement(L,0,se))}}this._selectionContainer.appendChild(B)}_createSelectionElement(F,J,te,ne=1){const le=this._document.createElement("div"),X=J*this.dimensions.css.cell.width;let L=this.dimensions.css.cell.width*(te-J);return X+L>this.dimensions.css.canvas.width&&(L=this.dimensions.css.canvas.width-X),le.style.height=ne*this.dimensions.css.cell.height+"px",le.style.top=F*this.dimensions.css.cell.height+"px",le.style.left=`${X}px`,le.style.width=`${L}px`,le}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const F of this._rowElements)F.replaceChildren()}renderRows(F,J){const te=this._bufferService.buffer,ne=te.ybase+te.y,le=Math.min(te.x,this._bufferService.cols-1),X=this._optionsService.rawOptions.cursorBlink,L=this._optionsService.rawOptions.cursorStyle,B=this._optionsService.rawOptions.cursorInactiveStyle;for(let D=F;D<=J;D++){const N=D+te.ydisp,ee=this._rowElements[D],se=te.lines.get(N);if(!ee||!se)break;ee.replaceChildren(...this._rowFactory.createRow(se,N,N===ne,L,B,le,X,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${b}${this._terminalClass}`}_handleLinkHover(F){this._setCellUnderline(F.x1,F.x2,F.y1,F.y2,F.cols,!0)}_handleLinkLeave(F){this._setCellUnderline(F.x1,F.x2,F.y1,F.y2,F.cols,!1)}_setCellUnderline(F,J,te,ne,le,X){te<0&&(F=0),ne<0&&(J=0);const L=this._bufferService.rows-1;te=Math.max(Math.min(te,L),0),ne=Math.max(Math.min(ne,L),0),le=Math.min(le,this._bufferService.cols);const B=this._bufferService.buffer,D=B.ybase+B.y,N=Math.min(B.x,le-1),ee=this._optionsService.rawOptions.cursorBlink,se=this._optionsService.rawOptions.cursorStyle,ue=this._optionsService.rawOptions.cursorInactiveStyle;for(let he=te;he<=ne;++he){const V=he+B.ydisp,M=this._rowElements[he],re=B.lines.get(V);if(!M||!re)break;M.replaceChildren(...this._rowFactory.createRow(re,V,V===D,se,ue,N,ee,this.dimensions.css.cell.width,this._widthCache,X?he===te?F:0:-1,X?(he===ne?J:le)-1:-1))}}};o.DomRenderer=W=v([S(7,p.IInstantiationService),S(8,n.ICharSizeService),S(9,p.IOptionsService),S(10,p.IBufferService),S(11,n.ICoreBrowserService),S(12,n.IThemeService)],W)},3787:function(I,o,f){var v=this&&this.__decorate||function(x,R,C,T){var z,U=arguments.length,W=U<3?R:T===null?T=Object.getOwnPropertyDescriptor(R,C):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(x,R,C,T);else for(var F=x.length-1;F>=0;F--)(z=x[F])&&(W=(U<3?z(W):U>3?z(R,C,W):z(R,C))||W);return U>3&&W&&Object.defineProperty(R,C,W),W},S=this&&this.__param||function(x,R){return function(C,T){R(C,T,x)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=void 0;const d=f(2223),y=f(643),w=f(511),k=f(2585),m=f(8055),n=f(4725),a=f(4269),i=f(6171),l=f(3734);let p=o.DomRendererRowFactory=class{constructor(x,R,C,T,z,U,W){this._document=x,this._characterJoinerService=R,this._optionsService=C,this._coreBrowserService=T,this._coreService=z,this._decorationService=U,this._themeService=W,this._workCell=new w.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(x,R,C){this._selectionStart=x,this._selectionEnd=R,this._columnSelectMode=C}createRow(x,R,C,T,z,U,W,F,J,te,ne){const le=[],X=this._characterJoinerService.getJoinedCharacters(R),L=this._themeService.colors;let B,D=x.getNoBgTrimmedLength();C&&D<U+1&&(D=U+1);let N=0,ee="",se=0,ue=0,he=0,V=!1,M=0,re=!1,Z=0;const fe=[],de=te!==-1&&ne!==-1;for(let Le=0;Le<D;Le++){x.loadCell(Le,this._workCell);let Be=this._workCell.getWidth();if(Be===0)continue;let Ne=!1,it=Le,be=this._workCell;if(X.length>0&&Le===X[0][0]){Ne=!0;const je=X.shift();be=new a.JoinedCellData(this._workCell,x.translateToString(!0,je[0],je[1]),je[1]-je[0]),it=je[1]-1,Be=be.getWidth()}const Er=this._isCellInSelection(Le,R),ls=C&&Le===U,cr=de&&Le>=te&&Le<=ne;let er=!1;this._decorationService.forEachDecorationAtCell(Le,R,void 0,(je=>{er=!0}));let Rr=be.getChars()||y.WHITESPACE_CELL_CHAR;if(Rr===" "&&(be.isUnderline()||be.isOverline())&&(Rr=""),Z=Be*F-J.get(Rr,be.isBold(),be.isItalic()),B){if(N&&(Er&&re||!Er&&!re&&be.bg===se)&&(Er&&re&&L.selectionForeground||be.fg===ue)&&be.extended.ext===he&&cr===V&&Z===M&&!ls&&!Ne&&!er){be.isInvisible()?ee+=y.WHITESPACE_CELL_CHAR:ee+=Rr,N++;continue}N&&(B.textContent=ee),B=this._document.createElement("span"),N=0,ee=""}else B=this._document.createElement("span");if(se=be.bg,ue=be.fg,he=be.extended.ext,V=cr,M=Z,re=Er,Ne&&U>=Le&&U<=it&&(U=Le),!this._coreService.isCursorHidden&&ls&&this._coreService.isCursorInitialized){if(fe.push("xterm-cursor"),this._coreBrowserService.isFocused)W&&fe.push("xterm-cursor-blink"),fe.push(T==="bar"?"xterm-cursor-bar":T==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(z)switch(z){case"outline":fe.push("xterm-cursor-outline");break;case"block":fe.push("xterm-cursor-block");break;case"bar":fe.push("xterm-cursor-bar");break;case"underline":fe.push("xterm-cursor-underline")}}if(be.isBold()&&fe.push("xterm-bold"),be.isItalic()&&fe.push("xterm-italic"),be.isDim()&&fe.push("xterm-dim"),ee=be.isInvisible()?y.WHITESPACE_CELL_CHAR:be.getChars()||y.WHITESPACE_CELL_CHAR,be.isUnderline()&&(fe.push(`xterm-underline-${be.extended.underlineStyle}`),ee===" "&&(ee=""),!be.isUnderlineColorDefault()))if(be.isUnderlineColorRGB())B.style.textDecorationColor=`rgb(${l.AttributeData.toColorRGB(be.getUnderlineColor()).join(",")})`;else{let je=be.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&be.isBold()&&je<8&&(je+=8),B.style.textDecorationColor=L.ansi[je].css}be.isOverline()&&(fe.push("xterm-overline"),ee===" "&&(ee="")),be.isStrikethrough()&&fe.push("xterm-strikethrough"),cr&&(B.style.textDecoration="underline");let pt=be.getFgColor(),Lr=be.getFgColorMode(),Lt=be.getBgColor(),Dr=be.getBgColorMode();const cs=!!be.isInverse();if(cs){const je=pt;pt=Lt,Lt=je;const mn=Lr;Lr=Dr,Dr=mn}let Dt,us,yt,$t=!1;switch(this._decorationService.forEachDecorationAtCell(Le,R,void 0,(je=>{je.options.layer!=="top"&&$t||(je.backgroundColorRGB&&(Dr=50331648,Lt=je.backgroundColorRGB.rgba>>8&16777215,Dt=je.backgroundColorRGB),je.foregroundColorRGB&&(Lr=50331648,pt=je.foregroundColorRGB.rgba>>8&16777215,us=je.foregroundColorRGB),$t=je.options.layer==="top")})),!$t&&Er&&(Dt=this._coreBrowserService.isFocused?L.selectionBackgroundOpaque:L.selectionInactiveBackgroundOpaque,Lt=Dt.rgba>>8&16777215,Dr=50331648,$t=!0,L.selectionForeground&&(Lr=50331648,pt=L.selectionForeground.rgba>>8&16777215,us=L.selectionForeground)),$t&&fe.push("xterm-decoration-top"),Dr){case 16777216:case 33554432:yt=L.ansi[Lt],fe.push(`xterm-bg-${Lt}`);break;case 50331648:yt=m.channels.toColor(Lt>>16,Lt>>8&255,255&Lt),this._addStyle(B,`background-color:#${b((Lt>>>0).toString(16),"0",6)}`);break;default:cs?(yt=L.foreground,fe.push(`xterm-bg-${d.INVERTED_DEFAULT_COLOR}`)):yt=L.background}switch(Dt||be.isDim()&&(Dt=m.color.multiplyOpacity(yt,.5)),Lr){case 16777216:case 33554432:be.isBold()&&pt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(pt+=8),this._applyMinimumContrast(B,yt,L.ansi[pt],be,Dt,void 0)||fe.push(`xterm-fg-${pt}`);break;case 50331648:const je=m.channels.toColor(pt>>16&255,pt>>8&255,255&pt);this._applyMinimumContrast(B,yt,je,be,Dt,us)||this._addStyle(B,`color:#${b(pt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(B,yt,L.foreground,be,Dt,us)||cs&&fe.push(`xterm-fg-${d.INVERTED_DEFAULT_COLOR}`)}fe.length&&(B.className=fe.join(" "),fe.length=0),ls||Ne||er?B.textContent=ee:N++,Z!==this.defaultSpacing&&(B.style.letterSpacing=`${Z}px`),le.push(B),Le=it}return B&&N&&(B.textContent=ee),le}_applyMinimumContrast(x,R,C,T,z,U){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,i.treatGlyphAsBackgroundColor)(T.getCode()))return!1;const W=this._getContrastCache(T);let F;if(z||U||(F=W.getColor(R.rgba,C.rgba)),F===void 0){const J=this._optionsService.rawOptions.minimumContrastRatio/(T.isDim()?2:1);F=m.color.ensureContrastRatio(z||R,U||C,J),W.setColor((z||R).rgba,(U||C).rgba,F??null)}return!!F&&(this._addStyle(x,`color:${F.css}`),!0)}_getContrastCache(x){return x.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(x,R){x.setAttribute("style",`${x.getAttribute("style")||""}${R};`)}_isCellInSelection(x,R){const C=this._selectionStart,T=this._selectionEnd;return!(!C||!T)&&(this._columnSelectMode?C[0]<=T[0]?x>=C[0]&&R>=C[1]&&x<T[0]&&R<=T[1]:x<C[0]&&R>=C[1]&&x>=T[0]&&R<=T[1]:R>C[1]&&R<T[1]||C[1]===T[1]&&R===C[1]&&x>=C[0]&&x<T[0]||C[1]<T[1]&&R===T[1]&&x<T[0]||C[1]<T[1]&&R===C[1]&&x>=C[0])}};function b(x,R,C){for(;x.length<C;)x=R+x;return x}o.DomRendererRowFactory=p=v([S(1,n.ICharacterJoinerService),S(2,k.IOptionsService),S(3,n.ICoreBrowserService),S(4,k.ICoreService),S(5,k.IDecorationService),S(6,n.IThemeService)],p)},2550:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WidthCache=void 0,o.WidthCache=class{constructor(f,v){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=f.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const S=f.createElement("span");S.classList.add("xterm-char-measure-element");const d=f.createElement("span");d.classList.add("xterm-char-measure-element"),d.style.fontWeight="bold";const y=f.createElement("span");y.classList.add("xterm-char-measure-element"),y.style.fontStyle="italic";const w=f.createElement("span");w.classList.add("xterm-char-measure-element"),w.style.fontWeight="bold",w.style.fontStyle="italic",this._measureElements=[S,d,y,w],this._container.appendChild(S),this._container.appendChild(d),this._container.appendChild(y),this._container.appendChild(w),v.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(f,v,S,d){f===this._font&&v===this._fontSize&&S===this._weight&&d===this._weightBold||(this._font=f,this._fontSize=v,this._weight=S,this._weightBold=d,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${S}`,this._measureElements[1].style.fontWeight=`${d}`,this._measureElements[2].style.fontWeight=`${S}`,this._measureElements[3].style.fontWeight=`${d}`,this.clear())}get(f,v,S){let d=0;if(!v&&!S&&f.length===1&&(d=f.charCodeAt(0))<256){if(this._flat[d]!==-9999)return this._flat[d];const k=this._measure(f,0);return k>0&&(this._flat[d]=k),k}let y=f;v&&(y+="B"),S&&(y+="I");let w=this._holey.get(y);if(w===void 0){let k=0;v&&(k|=1),S&&(k|=2),w=this._measure(f,k),w>0&&this._holey.set(y,w)}return w}_measure(f,v){const S=this._measureElements[v];return S.textContent=f.repeat(32),S.offsetWidth/32}}},2223:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const v=f(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=v.isFirefox||v.isLegacyEdge?"bottom":"ideographic"},6171:(I,o)=>{function f(S){return 57508<=S&&S<=57558}function v(S){return S>=128512&&S<=128591||S>=127744&&S<=128511||S>=128640&&S<=128767||S>=9728&&S<=9983||S>=9984&&S<=10175||S>=65024&&S<=65039||S>=129280&&S<=129535||S>=127462&&S<=127487}Object.defineProperty(o,"__esModule",{value:!0}),o.computeNextVariantOffset=o.createRenderDimensions=o.treatGlyphAsBackgroundColor=o.allowRescaling=o.isEmoji=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(S){if(!S)throw new Error("value must not be falsy");return S},o.isPowerlineGlyph=f,o.isRestrictedPowerlineGlyph=function(S){return 57520<=S&&S<=57527},o.isEmoji=v,o.allowRescaling=function(S,d,y,w){return d===1&&y>Math.ceil(1.5*w)&&S!==void 0&&S>255&&!v(S)&&!f(S)&&!(function(k){return 57344<=k&&k<=63743})(S)},o.treatGlyphAsBackgroundColor=function(S){return f(S)||(function(d){return 9472<=d&&d<=9631})(S)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},o.computeNextVariantOffset=function(S,d,y=0){return(S-(2*Math.round(d)-y))%(2*Math.round(d))}},6052:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createSelectionRenderModel=void 0;class f{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(S,d,y,w=!1){if(this.selectionStart=d,this.selectionEnd=y,!d||!y||d[0]===y[0]&&d[1]===y[1])return void this.clear();const k=S.buffers.active.ydisp,m=d[1]-k,n=y[1]-k,a=Math.max(m,0),i=Math.min(n,S.rows-1);a>=S.rows||i<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=w,this.viewportStartRow=m,this.viewportEndRow=n,this.viewportCappedStartRow=a,this.viewportCappedEndRow=i,this.startCol=d[0],this.endCol=y[0])}isCellSelected(S,d,y){return!!this.hasSelection&&(y-=S.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?d>=this.startCol&&y>=this.viewportCappedStartRow&&d<this.endCol&&y<=this.viewportCappedEndRow:d<this.startCol&&y>=this.viewportCappedStartRow&&d>=this.endCol&&y<=this.viewportCappedEndRow:y>this.viewportStartRow&&y<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&y===this.viewportStartRow&&d>=this.startCol&&d<this.endCol||this.viewportStartRow<this.viewportEndRow&&y===this.viewportEndRow&&d<this.endCol||this.viewportStartRow<this.viewportEndRow&&y===this.viewportStartRow&&d>=this.startCol)}}o.createSelectionRenderModel=function(){return new f}},456:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0,o.SelectionModel=class{constructor(f){this._bufferService=f,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const f=this.selectionStart[0]+this.selectionStartLength;return f>this._bufferService.cols?f%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(f/this._bufferService.cols)-1]:[f%this._bufferService.cols,this.selectionStart[1]+Math.floor(f/this._bufferService.cols)]:[f,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const f=this.selectionStart[0]+this.selectionStartLength;return f>this._bufferService.cols?[f%this._bufferService.cols,this.selectionStart[1]+Math.floor(f/this._bufferService.cols)]:[Math.max(f,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const f=this.selectionStart,v=this.selectionEnd;return!(!f||!v)&&(f[1]>v[1]||f[1]===v[1]&&f[0]>v[0])}handleTrim(f){return this.selectionStart&&(this.selectionStart[1]-=f),this.selectionEnd&&(this.selectionEnd[1]-=f),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(I,o,f){var v=this&&this.__decorate||function(i,l,p,b){var x,R=arguments.length,C=R<3?l:b===null?b=Object.getOwnPropertyDescriptor(l,p):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(i,l,p,b);else for(var T=i.length-1;T>=0;T--)(x=i[T])&&(C=(R<3?x(C):R>3?x(l,p,C):x(l,p))||C);return R>3&&C&&Object.defineProperty(l,p,C),C},S=this&&this.__param||function(i,l){return function(p,b){l(p,b,i)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;const d=f(2585),y=f(8460),w=f(844);let k=o.CharSizeService=class extends w.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(i,l,p){super(),this._optionsService=p,this.width=0,this.height=0,this._onCharSizeChange=this.register(new y.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new a(this._optionsService))}catch{this._measureStrategy=this.register(new n(i,l,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const i=this._measureStrategy.measure();i.width===this.width&&i.height===this.height||(this.width=i.width,this.height=i.height,this._onCharSizeChange.fire())}};o.CharSizeService=k=v([S(2,d.IOptionsService)],k);class m extends w.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(l,p){l!==void 0&&l>0&&p!==void 0&&p>0&&(this._result.width=l,this._result.height=p)}}class n extends m{constructor(l,p,b){super(),this._document=l,this._parentElement=p,this._optionsService=b,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class a extends m{constructor(l){super(),this._optionsService=l,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const p=this._ctx.measureText("W");if(!("width"in p&&"fontBoundingBoxAscent"in p&&"fontBoundingBoxDescent"in p))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const l=this._ctx.measureText("W");return this._validateAndSet(l.width,l.fontBoundingBoxAscent+l.fontBoundingBoxDescent),this._result}}},4269:function(I,o,f){var v=this&&this.__decorate||function(a,i,l,p){var b,x=arguments.length,R=x<3?i:p===null?p=Object.getOwnPropertyDescriptor(i,l):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(a,i,l,p);else for(var C=a.length-1;C>=0;C--)(b=a[C])&&(R=(x<3?b(R):x>3?b(i,l,R):b(i,l))||R);return x>3&&R&&Object.defineProperty(i,l,R),R},S=this&&this.__param||function(a,i){return function(l,p){i(l,p,a)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;const d=f(3734),y=f(643),w=f(511),k=f(2585);class m extends d.AttributeData{constructor(i,l,p){super(),this.content=0,this.combinedData="",this.fg=i.fg,this.bg=i.bg,this.combinedData=l,this._width=p}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(i){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.JoinedCellData=m;let n=o.CharacterJoinerService=class of{constructor(i){this._bufferService=i,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new w.CellData}register(i){const l={id:this._nextCharacterJoinerId++,handler:i};return this._characterJoiners.push(l),l.id}deregister(i){for(let l=0;l<this._characterJoiners.length;l++)if(this._characterJoiners[l].id===i)return this._characterJoiners.splice(l,1),!0;return!1}getJoinedCharacters(i){if(this._characterJoiners.length===0)return[];const l=this._bufferService.buffer.lines.get(i);if(!l||l.length===0)return[];const p=[],b=l.translateToString(!0);let x=0,R=0,C=0,T=l.getFg(0),z=l.getBg(0);for(let U=0;U<l.getTrimmedLength();U++)if(l.loadCell(U,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==T||this._workCell.bg!==z){if(U-x>1){const W=this._getJoinedRanges(b,C,R,l,x);for(let F=0;F<W.length;F++)p.push(W[F])}x=U,C=R,T=this._workCell.fg,z=this._workCell.bg}R+=this._workCell.getChars().length||y.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-x>1){const U=this._getJoinedRanges(b,C,R,l,x);for(let W=0;W<U.length;W++)p.push(U[W])}return p}_getJoinedRanges(i,l,p,b,x){const R=i.substring(l,p);let C=[];try{C=this._characterJoiners[0].handler(R)}catch(T){console.error(T)}for(let T=1;T<this._characterJoiners.length;T++)try{const z=this._characterJoiners[T].handler(R);for(let U=0;U<z.length;U++)of._mergeRanges(C,z[U])}catch(z){console.error(z)}return this._stringRangesToCellRanges(C,b,x),C}_stringRangesToCellRanges(i,l,p){let b=0,x=!1,R=0,C=i[b];if(C){for(let T=p;T<this._bufferService.cols;T++){const z=l.getWidth(T),U=l.getString(T).length||y.WHITESPACE_CELL_CHAR.length;if(z!==0){if(!x&&C[0]<=R&&(C[0]=T,x=!0),C[1]<=R){if(C[1]=T,C=i[++b],!C)break;C[0]<=R?(C[0]=T,x=!0):x=!1}R+=U}}C&&(C[1]=this._bufferService.cols)}}static _mergeRanges(i,l){let p=!1;for(let b=0;b<i.length;b++){const x=i[b];if(p){if(l[1]<=x[0])return i[b-1][1]=l[1],i;if(l[1]<=x[1])return i[b-1][1]=Math.max(l[1],x[1]),i.splice(b,1),i;i.splice(b,1),b--}else{if(l[1]<=x[0])return i.splice(b,0,l),i;if(l[1]<=x[1])return x[0]=Math.min(l[0],x[0]),i;l[0]<x[1]&&(x[0]=Math.min(l[0],x[0]),p=!0)}}return p?i[i.length-1][1]=l[1]:i.push(l),i}};o.CharacterJoinerService=n=v([S(0,k.IBufferService)],n)},5114:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0;const v=f(844),S=f(8460),d=f(3656);class y extends v.Disposable{constructor(m,n,a){super(),this._textarea=m,this._window=n,this.mainDocument=a,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new w(this._window),this._onDprChange=this.register(new S.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new S.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange((i=>this._screenDprMonitor.setWindow(i)))),this.register((0,S.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get window(){return this._window}set window(m){this._window!==m&&(this._window=m,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}o.CoreBrowserService=y;class w extends v.Disposable{constructor(m){super(),this._parentWindow=m,this._windowResizeListener=this.register(new v.MutableDisposable),this._onDprChange=this.register(new S.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,v.toDisposable)((()=>this.clearListener())))}setWindow(m){this._parentWindow=m,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,d.addDisposableDomListener)(this._parentWindow,"resize",(()=>this._setDprAndFireIfDiffers()))}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var m;this._outerListener&&((m=this._resolutionMediaMatchList)==null||m.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LinkProviderService=void 0;const v=f(844);class S extends v.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,v.toDisposable)((()=>this.linkProviders.length=0)))}registerLinkProvider(y){return this.linkProviders.push(y),{dispose:()=>{const w=this.linkProviders.indexOf(y);w!==-1&&this.linkProviders.splice(w,1)}}}}o.LinkProviderService=S},8934:function(I,o,f){var v=this&&this.__decorate||function(k,m,n,a){var i,l=arguments.length,p=l<3?m:a===null?a=Object.getOwnPropertyDescriptor(m,n):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(k,m,n,a);else for(var b=k.length-1;b>=0;b--)(i=k[b])&&(p=(l<3?i(p):l>3?i(m,n,p):i(m,n))||p);return l>3&&p&&Object.defineProperty(m,n,p),p},S=this&&this.__param||function(k,m){return function(n,a){m(n,a,k)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;const d=f(4725),y=f(9806);let w=o.MouseService=class{constructor(k,m){this._renderService=k,this._charSizeService=m}getCoords(k,m,n,a,i){return(0,y.getCoords)(window,k,m,n,a,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,i)}getMouseReportCoords(k,m){const n=(0,y.getCoordsRelativeToElement)(window,k,m);if(this._charSizeService.hasValidSize)return n[0]=Math.min(Math.max(n[0],0),this._renderService.dimensions.css.canvas.width-1),n[1]=Math.min(Math.max(n[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(n[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(n[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(n[0]),y:Math.floor(n[1])}}};o.MouseService=w=v([S(0,d.IRenderService),S(1,d.ICharSizeService)],w)},3230:function(I,o,f){var v=this&&this.__decorate||function(i,l,p,b){var x,R=arguments.length,C=R<3?l:b===null?b=Object.getOwnPropertyDescriptor(l,p):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(i,l,p,b);else for(var T=i.length-1;T>=0;T--)(x=i[T])&&(C=(R<3?x(C):R>3?x(l,p,C):x(l,p))||C);return R>3&&C&&Object.defineProperty(l,p,C),C},S=this&&this.__param||function(i,l){return function(p,b){l(p,b,i)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;const d=f(6193),y=f(4725),w=f(8460),k=f(844),m=f(7226),n=f(2585);let a=o.RenderService=class extends k.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(i,l,p,b,x,R,C,T){super(),this._rowCount=i,this._charSizeService=b,this._renderer=this.register(new k.MutableDisposable),this._pausedResizeTask=new m.DebouncedIdleTask,this._observerDisposable=this.register(new k.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new w.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new w.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new w.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new w.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new d.RenderDebouncer(((z,U)=>this._renderRows(z,U)),C),this.register(this._renderDebouncer),this.register(C.onDprChange((()=>this.handleDevicePixelRatioChange()))),this.register(R.onResize((()=>this._fullRefresh()))),this.register(R.buffers.onBufferActivate((()=>{var z;return(z=this._renderer.value)==null?void 0:z.clear()}))),this.register(p.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(x.onDecorationRegistered((()=>this._fullRefresh()))),this.register(x.onDecorationRemoved((()=>this._fullRefresh()))),this.register(p.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],(()=>{this.clear(),this.handleResize(R.cols,R.rows),this._fullRefresh()}))),this.register(p.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(R.buffer.y,R.buffer.y,!0)))),this.register(T.onChangeColors((()=>this._fullRefresh()))),this._registerIntersectionObserver(C.window,l),this.register(C.onWindowChange((z=>this._registerIntersectionObserver(z,l))))}_registerIntersectionObserver(i,l){if("IntersectionObserver"in i){const p=new i.IntersectionObserver((b=>this._handleIntersectionChange(b[b.length-1])),{threshold:0});p.observe(l),this._observerDisposable.value=(0,k.toDisposable)((()=>p.disconnect()))}}_handleIntersectionChange(i){this._isPaused=i.isIntersecting===void 0?i.intersectionRatio===0:!i.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(i,l,p=!1){this._isPaused?this._needsFullRefresh=!0:(p||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(i,l,this._rowCount))}_renderRows(i,l){this._renderer.value&&(i=Math.min(i,this._rowCount-1),l=Math.min(l,this._rowCount-1),this._renderer.value.renderRows(i,l),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:i,end:l}),this._onRender.fire({start:i,end:l}),this._isNextRenderRedrawOnly=!0)}resize(i,l){this._rowCount=l,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(i){this._renderer.value=i,this._renderer.value&&(this._renderer.value.onRequestRedraw((l=>this.refreshRows(l.start,l.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(i){return this._renderDebouncer.addRefreshCallback(i)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var i,l;this._renderer.value&&((l=(i=this._renderer.value).clearTextureAtlas)==null||l.call(i),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(i,l){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>{var p;return(p=this._renderer.value)==null?void 0:p.handleResize(i,l)})):this._renderer.value.handleResize(i,l),this._fullRefresh())}handleCharSizeChanged(){var i;(i=this._renderer.value)==null||i.handleCharSizeChanged()}handleBlur(){var i;(i=this._renderer.value)==null||i.handleBlur()}handleFocus(){var i;(i=this._renderer.value)==null||i.handleFocus()}handleSelectionChanged(i,l,p){var b;this._selectionState.start=i,this._selectionState.end=l,this._selectionState.columnSelectMode=p,(b=this._renderer.value)==null||b.handleSelectionChanged(i,l,p)}handleCursorMove(){var i;(i=this._renderer.value)==null||i.handleCursorMove()}clear(){var i;(i=this._renderer.value)==null||i.clear()}};o.RenderService=a=v([S(2,n.IOptionsService),S(3,y.ICharSizeService),S(4,n.IDecorationService),S(5,n.IBufferService),S(6,y.ICoreBrowserService),S(7,y.IThemeService)],a)},9312:function(I,o,f){var v=this&&this.__decorate||function(C,T,z,U){var W,F=arguments.length,J=F<3?T:U===null?U=Object.getOwnPropertyDescriptor(T,z):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(C,T,z,U);else for(var te=C.length-1;te>=0;te--)(W=C[te])&&(J=(F<3?W(J):F>3?W(T,z,J):W(T,z))||J);return F>3&&J&&Object.defineProperty(T,z,J),J},S=this&&this.__param||function(C,T){return function(z,U){T(z,U,C)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;const d=f(9806),y=f(9504),w=f(456),k=f(4725),m=f(8460),n=f(844),a=f(6114),i=f(4841),l=f(511),p=f(2585),b="",x=new RegExp(b,"g");let R=o.SelectionService=class extends n.Disposable{constructor(C,T,z,U,W,F,J,te,ne){super(),this._element=C,this._screenElement=T,this._linkifier=z,this._bufferService=U,this._coreService=W,this._mouseService=F,this._optionsService=J,this._renderService=te,this._coreBrowserService=ne,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new l.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new m.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new m.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new m.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new m.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=le=>this._handleMouseMove(le),this._mouseUpListener=le=>this._handleMouseUp(le),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((le=>this._handleTrim(le))),this.register(this._bufferService.buffers.onBufferActivate((le=>this._handleBufferActivate(le)))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,n.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const C=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!(!C||!T||C[0]===T[0]&&C[1]===T[1])}get selectionText(){const C=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;if(!C||!T)return"";const z=this._bufferService.buffer,U=[];if(this._activeSelectionMode===3){if(C[0]===T[0])return"";const W=C[0]<T[0]?C[0]:T[0],F=C[0]<T[0]?T[0]:C[0];for(let J=C[1];J<=T[1];J++){const te=z.translateBufferLineToString(J,!0,W,F);U.push(te)}}else{const W=C[1]===T[1]?T[0]:void 0;U.push(z.translateBufferLineToString(C[1],!0,C[0],W));for(let F=C[1]+1;F<=T[1]-1;F++){const J=z.lines.get(F),te=z.translateBufferLineToString(F,!0);J!=null&&J.isWrapped?U[U.length-1]+=te:U.push(te)}if(C[1]!==T[1]){const F=z.lines.get(T[1]),J=z.translateBufferLineToString(T[1],!0,0,T[0]);F&&F.isWrapped?U[U.length-1]+=J:U.push(J)}}return U.map((W=>W.replace(x," "))).join(a.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(C){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),a.isLinux&&C&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(C){const T=this._getMouseBufferCoords(C),z=this._model.finalSelectionStart,U=this._model.finalSelectionEnd;return!!(z&&U&&T)&&this._areCoordsInSelection(T,z,U)}isCellInSelection(C,T){const z=this._model.finalSelectionStart,U=this._model.finalSelectionEnd;return!(!z||!U)&&this._areCoordsInSelection([C,T],z,U)}_areCoordsInSelection(C,T,z){return C[1]>T[1]&&C[1]<z[1]||T[1]===z[1]&&C[1]===T[1]&&C[0]>=T[0]&&C[0]<z[0]||T[1]<z[1]&&C[1]===z[1]&&C[0]<z[0]||T[1]<z[1]&&C[1]===T[1]&&C[0]>=T[0]}_selectWordAtCursor(C,T){var W,F;const z=(F=(W=this._linkifier.currentLink)==null?void 0:W.link)==null?void 0:F.range;if(z)return this._model.selectionStart=[z.start.x-1,z.start.y-1],this._model.selectionStartLength=(0,i.getRangeLength)(z,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const U=this._getMouseBufferCoords(C);return!!U&&(this._selectWordAt(U,T),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(C,T){this._model.clearSelection(),C=Math.max(C,0),T=Math.min(T,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,C],this._model.selectionEnd=[this._bufferService.cols,T],this.refresh(),this._onSelectionChange.fire()}_handleTrim(C){this._model.handleTrim(C)&&this.refresh()}_getMouseBufferCoords(C){const T=this._mouseService.getCoords(C,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(T)return T[0]--,T[1]--,T[1]+=this._bufferService.buffer.ydisp,T}_getMouseEventScrollAmount(C){let T=(0,d.getCoordsRelativeToElement)(this._coreBrowserService.window,C,this._screenElement)[1];const z=this._renderService.dimensions.css.canvas.height;return T>=0&&T<=z?0:(T>z&&(T-=z),T=Math.min(Math.max(T,-50),50),T/=50,T/Math.abs(T)+Math.round(14*T))}shouldForceSelection(C){return a.isMac?C.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:C.shiftKey}handleMouseDown(C){if(this._mouseDownTimeStamp=C.timeStamp,(C.button!==2||!this.hasSelection)&&C.button===0){if(!this._enabled){if(!this.shouldForceSelection(C))return;C.stopPropagation()}C.preventDefault(),this._dragScrollAmount=0,this._enabled&&C.shiftKey?this._handleIncrementalClick(C):C.detail===1?this._handleSingleClick(C):C.detail===2?this._handleDoubleClick(C):C.detail===3&&this._handleTripleClick(C),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(C){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(C))}_handleSingleClick(C){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(C)?3:0,this._model.selectionStart=this._getMouseBufferCoords(C),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const T=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);T&&T.length!==this._model.selectionStart[0]&&T.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(C){this._selectWordAtCursor(C,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(C){const T=this._getMouseBufferCoords(C);T&&(this._activeSelectionMode=2,this._selectLineAt(T[1]))}shouldColumnSelect(C){return C.altKey&&!(a.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(C){if(C.stopImmediatePropagation(),!this._model.selectionStart)return;const T=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(C),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(C),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const z=this._bufferService.buffer;if(this._model.selectionEnd[1]<z.lines.length){const U=z.lines.get(this._model.selectionEnd[1]);U&&U.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}T&&T[0]===this._model.selectionEnd[0]&&T[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const C=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(C.ydisp+this._bufferService.rows,C.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=C.ydisp),this.refresh()}}_handleMouseUp(C){const T=C.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&T<500&&C.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const z=this._mouseService.getCoords(C,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(z&&z[0]!==void 0&&z[1]!==void 0){const U=(0,y.moveToCellSequence)(z[0]-1,z[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(U,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const C=this._model.finalSelectionStart,T=this._model.finalSelectionEnd,z=!(!C||!T||C[0]===T[0]&&C[1]===T[1]);z?C&&T&&(this._oldSelectionStart&&this._oldSelectionEnd&&C[0]===this._oldSelectionStart[0]&&C[1]===this._oldSelectionStart[1]&&T[0]===this._oldSelectionEnd[0]&&T[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(C,T,z)):this._oldHasSelection&&this._fireOnSelectionChange(C,T,z)}_fireOnSelectionChange(C,T,z){this._oldSelectionStart=C,this._oldSelectionEnd=T,this._oldHasSelection=z,this._onSelectionChange.fire()}_handleBufferActivate(C){this.clearSelection(),this._trimListener.dispose(),this._trimListener=C.activeBuffer.lines.onTrim((T=>this._handleTrim(T)))}_convertViewportColToCharacterIndex(C,T){let z=T;for(let U=0;T>=U;U++){const W=C.loadCell(U,this._workCell).getChars().length;this._workCell.getWidth()===0?z--:W>1&&T!==U&&(z+=W-1)}return z}setSelection(C,T,z){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[C,T],this._model.selectionStartLength=z,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(C){this._isClickInSelection(C)||(this._selectWordAtCursor(C,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(C,T,z=!0,U=!0){if(C[0]>=this._bufferService.cols)return;const W=this._bufferService.buffer,F=W.lines.get(C[1]);if(!F)return;const J=W.translateBufferLineToString(C[1],!1);let te=this._convertViewportColToCharacterIndex(F,C[0]),ne=te;const le=C[0]-te;let X=0,L=0,B=0,D=0;if(J.charAt(te)===" "){for(;te>0&&J.charAt(te-1)===" ";)te--;for(;ne<J.length&&J.charAt(ne+1)===" ";)ne++}else{let se=C[0],ue=C[0];F.getWidth(se)===0&&(X++,se--),F.getWidth(ue)===2&&(L++,ue++);const he=F.getString(ue).length;for(he>1&&(D+=he-1,ne+=he-1);se>0&&te>0&&!this._isCharWordSeparator(F.loadCell(se-1,this._workCell));){F.loadCell(se-1,this._workCell);const V=this._workCell.getChars().length;this._workCell.getWidth()===0?(X++,se--):V>1&&(B+=V-1,te-=V-1),te--,se--}for(;ue<F.length&&ne+1<J.length&&!this._isCharWordSeparator(F.loadCell(ue+1,this._workCell));){F.loadCell(ue+1,this._workCell);const V=this._workCell.getChars().length;this._workCell.getWidth()===2?(L++,ue++):V>1&&(D+=V-1,ne+=V-1),ne++,ue++}}ne++;let N=te+le-X+B,ee=Math.min(this._bufferService.cols,ne-te+X+L-B-D);if(T||J.slice(te,ne).trim()!==""){if(z&&N===0&&F.getCodePoint(0)!==32){const se=W.lines.get(C[1]-1);if(se&&F.isWrapped&&se.getCodePoint(this._bufferService.cols-1)!==32){const ue=this._getWordAt([this._bufferService.cols-1,C[1]-1],!1,!0,!1);if(ue){const he=this._bufferService.cols-ue.start;N-=he,ee+=he}}}if(U&&N+ee===this._bufferService.cols&&F.getCodePoint(this._bufferService.cols-1)!==32){const se=W.lines.get(C[1]+1);if(se!=null&&se.isWrapped&&se.getCodePoint(0)!==32){const ue=this._getWordAt([0,C[1]+1],!1,!1,!0);ue&&(ee+=ue.length)}}return{start:N,length:ee}}}_selectWordAt(C,T){const z=this._getWordAt(C,T);if(z){for(;z.start<0;)z.start+=this._bufferService.cols,C[1]--;this._model.selectionStart=[z.start,C[1]],this._model.selectionStartLength=z.length}}_selectToWordAt(C){const T=this._getWordAt(C,!0);if(T){let z=C[1];for(;T.start<0;)T.start+=this._bufferService.cols,z--;if(!this._model.areSelectionValuesReversed())for(;T.start+T.length>this._bufferService.cols;)T.length-=this._bufferService.cols,z++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?T.start:T.start+T.length,z]}}_isCharWordSeparator(C){return C.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(C.getChars())>=0}_selectLineAt(C){const T=this._bufferService.buffer.getWrappedRangeForLine(C),z={start:{x:0,y:T.first},end:{x:this._bufferService.cols-1,y:T.last}};this._model.selectionStart=[0,T.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,i.getRangeLength)(z,this._bufferService.cols)}};o.SelectionService=R=v([S(3,p.IBufferService),S(4,p.ICoreService),S(5,k.IMouseService),S(6,p.IOptionsService),S(7,k.IRenderService),S(8,k.ICoreBrowserService)],R)},4725:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ILinkProviderService=o.IThemeService=o.ICharacterJoinerService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;const v=f(8343);o.ICharSizeService=(0,v.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,v.createDecorator)("CoreBrowserService"),o.IMouseService=(0,v.createDecorator)("MouseService"),o.IRenderService=(0,v.createDecorator)("RenderService"),o.ISelectionService=(0,v.createDecorator)("SelectionService"),o.ICharacterJoinerService=(0,v.createDecorator)("CharacterJoinerService"),o.IThemeService=(0,v.createDecorator)("ThemeService"),o.ILinkProviderService=(0,v.createDecorator)("LinkProviderService")},6731:function(I,o,f){var v=this&&this.__decorate||function(R,C,T,z){var U,W=arguments.length,F=W<3?C:z===null?z=Object.getOwnPropertyDescriptor(C,T):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(R,C,T,z);else for(var J=R.length-1;J>=0;J--)(U=R[J])&&(F=(W<3?U(F):W>3?U(C,T,F):U(C,T))||F);return W>3&&F&&Object.defineProperty(C,T,F),F},S=this&&this.__param||function(R,C){return function(T,z){C(T,z,R)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeService=o.DEFAULT_ANSI_COLORS=void 0;const d=f(7239),y=f(8055),w=f(8460),k=f(844),m=f(2585),n=y.css.toColor("#ffffff"),a=y.css.toColor("#000000"),i=y.css.toColor("#ffffff"),l=y.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const R=[y.css.toColor("#2e3436"),y.css.toColor("#cc0000"),y.css.toColor("#4e9a06"),y.css.toColor("#c4a000"),y.css.toColor("#3465a4"),y.css.toColor("#75507b"),y.css.toColor("#06989a"),y.css.toColor("#d3d7cf"),y.css.toColor("#555753"),y.css.toColor("#ef2929"),y.css.toColor("#8ae234"),y.css.toColor("#fce94f"),y.css.toColor("#729fcf"),y.css.toColor("#ad7fa8"),y.css.toColor("#34e2e2"),y.css.toColor("#eeeeec")],C=[0,95,135,175,215,255];for(let T=0;T<216;T++){const z=C[T/36%6|0],U=C[T/6%6|0],W=C[T%6];R.push({css:y.channels.toCss(z,U,W),rgba:y.channels.toRgba(z,U,W)})}for(let T=0;T<24;T++){const z=8+10*T;R.push({css:y.channels.toCss(z,z,z),rgba:y.channels.toRgba(z,z,z)})}return R})());let b=o.ThemeService=class extends k.Disposable{get colors(){return this._colors}constructor(R){super(),this._optionsService=R,this._contrastCache=new d.ColorContrastCache,this._halfContrastCache=new d.ColorContrastCache,this._onChangeColors=this.register(new w.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:n,background:a,cursor:i,cursorAccent:l,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:y.color.blend(a,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:y.color.blend(a,p),ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(R={}){const C=this._colors;if(C.foreground=x(R.foreground,n),C.background=x(R.background,a),C.cursor=x(R.cursor,i),C.cursorAccent=x(R.cursorAccent,l),C.selectionBackgroundTransparent=x(R.selectionBackground,p),C.selectionBackgroundOpaque=y.color.blend(C.background,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundTransparent=x(R.selectionInactiveBackground,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundOpaque=y.color.blend(C.background,C.selectionInactiveBackgroundTransparent),C.selectionForeground=R.selectionForeground?x(R.selectionForeground,y.NULL_COLOR):void 0,C.selectionForeground===y.NULL_COLOR&&(C.selectionForeground=void 0),y.color.isOpaque(C.selectionBackgroundTransparent)&&(C.selectionBackgroundTransparent=y.color.opacity(C.selectionBackgroundTransparent,.3)),y.color.isOpaque(C.selectionInactiveBackgroundTransparent)&&(C.selectionInactiveBackgroundTransparent=y.color.opacity(C.selectionInactiveBackgroundTransparent,.3)),C.ansi=o.DEFAULT_ANSI_COLORS.slice(),C.ansi[0]=x(R.black,o.DEFAULT_ANSI_COLORS[0]),C.ansi[1]=x(R.red,o.DEFAULT_ANSI_COLORS[1]),C.ansi[2]=x(R.green,o.DEFAULT_ANSI_COLORS[2]),C.ansi[3]=x(R.yellow,o.DEFAULT_ANSI_COLORS[3]),C.ansi[4]=x(R.blue,o.DEFAULT_ANSI_COLORS[4]),C.ansi[5]=x(R.magenta,o.DEFAULT_ANSI_COLORS[5]),C.ansi[6]=x(R.cyan,o.DEFAULT_ANSI_COLORS[6]),C.ansi[7]=x(R.white,o.DEFAULT_ANSI_COLORS[7]),C.ansi[8]=x(R.brightBlack,o.DEFAULT_ANSI_COLORS[8]),C.ansi[9]=x(R.brightRed,o.DEFAULT_ANSI_COLORS[9]),C.ansi[10]=x(R.brightGreen,o.DEFAULT_ANSI_COLORS[10]),C.ansi[11]=x(R.brightYellow,o.DEFAULT_ANSI_COLORS[11]),C.ansi[12]=x(R.brightBlue,o.DEFAULT_ANSI_COLORS[12]),C.ansi[13]=x(R.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),C.ansi[14]=x(R.brightCyan,o.DEFAULT_ANSI_COLORS[14]),C.ansi[15]=x(R.brightWhite,o.DEFAULT_ANSI_COLORS[15]),R.extendedAnsi){const T=Math.min(C.ansi.length-16,R.extendedAnsi.length);for(let z=0;z<T;z++)C.ansi[z+16]=x(R.extendedAnsi[z],o.DEFAULT_ANSI_COLORS[z+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(R){this._restoreColor(R),this._onChangeColors.fire(this.colors)}_restoreColor(R){if(R!==void 0)switch(R){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[R]=this._restoreColors.ansi[R]}else for(let C=0;C<this._restoreColors.ansi.length;++C)this._colors.ansi[C]=this._restoreColors.ansi[C]}modifyColors(R){R(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function x(R,C){if(R!==void 0)try{return y.css.toColor(R)}catch{}return C}o.ThemeService=b=v([S(0,m.IOptionsService)],b)},6349:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;const v=f(8460),S=f(844);class d extends S.Disposable{constructor(w){super(),this._maxLength=w,this.onDeleteEmitter=this.register(new v.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new v.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new v.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(w){if(this._maxLength===w)return;const k=new Array(w);for(let m=0;m<Math.min(w,this.length);m++)k[m]=this._array[this._getCyclicIndex(m)];this._array=k,this._maxLength=w,this._startIndex=0}get length(){return this._length}set length(w){if(w>this._length)for(let k=this._length;k<w;k++)this._array[k]=void 0;this._length=w}get(w){return this._array[this._getCyclicIndex(w)]}set(w,k){this._array[this._getCyclicIndex(w)]=k}push(w){this._array[this._getCyclicIndex(this._length)]=w,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(w,k,...m){if(k){for(let n=w;n<this._length-k;n++)this._array[this._getCyclicIndex(n)]=this._array[this._getCyclicIndex(n+k)];this._length-=k,this.onDeleteEmitter.fire({index:w,amount:k})}for(let n=this._length-1;n>=w;n--)this._array[this._getCyclicIndex(n+m.length)]=this._array[this._getCyclicIndex(n)];for(let n=0;n<m.length;n++)this._array[this._getCyclicIndex(w+n)]=m[n];if(m.length&&this.onInsertEmitter.fire({index:w,amount:m.length}),this._length+m.length>this._maxLength){const n=this._length+m.length-this._maxLength;this._startIndex+=n,this._length=this._maxLength,this.onTrimEmitter.fire(n)}else this._length+=m.length}trimStart(w){w>this._length&&(w=this._length),this._startIndex+=w,this._length-=w,this.onTrimEmitter.fire(w)}shiftElements(w,k,m){if(!(k<=0)){if(w<0||w>=this._length)throw new Error("start argument out of range");if(w+m<0)throw new Error("Cannot shift elements in list beyond index 0");if(m>0){for(let a=k-1;a>=0;a--)this.set(w+a+m,this.get(w+a));const n=w+k+m-this._length;if(n>0)for(this._length+=n;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let n=0;n<k;n++)this.set(w+n+m,this.get(w+n))}}_getCyclicIndex(w){return(this._startIndex+w)%this._maxLength}}o.CircularList=d},1439:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function f(v,S=5){if(typeof v!="object")return v;const d=Array.isArray(v)?[]:{};for(const y in v)d[y]=S<=1?v[y]:v[y]&&f(v[y],S-1);return d}},8055:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;let f=0,v=0,S=0,d=0;var y,w,k,m,n;function a(l){const p=l.toString(16);return p.length<2?"0"+p:p}function i(l,p){return l<p?(p+.05)/(l+.05):(l+.05)/(p+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},(function(l){l.toCss=function(p,b,x,R){return R!==void 0?`#${a(p)}${a(b)}${a(x)}${a(R)}`:`#${a(p)}${a(b)}${a(x)}`},l.toRgba=function(p,b,x,R=255){return(p<<24|b<<16|x<<8|R)>>>0},l.toColor=function(p,b,x,R){return{css:l.toCss(p,b,x,R),rgba:l.toRgba(p,b,x,R)}}})(y||(o.channels=y={})),(function(l){function p(b,x){return d=Math.round(255*x),[f,v,S]=n.toChannels(b.rgba),{css:y.toCss(f,v,S,d),rgba:y.toRgba(f,v,S,d)}}l.blend=function(b,x){if(d=(255&x.rgba)/255,d===1)return{css:x.css,rgba:x.rgba};const R=x.rgba>>24&255,C=x.rgba>>16&255,T=x.rgba>>8&255,z=b.rgba>>24&255,U=b.rgba>>16&255,W=b.rgba>>8&255;return f=z+Math.round((R-z)*d),v=U+Math.round((C-U)*d),S=W+Math.round((T-W)*d),{css:y.toCss(f,v,S),rgba:y.toRgba(f,v,S)}},l.isOpaque=function(b){return(255&b.rgba)==255},l.ensureContrastRatio=function(b,x,R){const C=n.ensureContrastRatio(b.rgba,x.rgba,R);if(C)return y.toColor(C>>24&255,C>>16&255,C>>8&255)},l.opaque=function(b){const x=(255|b.rgba)>>>0;return[f,v,S]=n.toChannels(x),{css:y.toCss(f,v,S),rgba:x}},l.opacity=p,l.multiplyOpacity=function(b,x){return d=255&b.rgba,p(b,d*x/255)},l.toColorRGB=function(b){return[b.rgba>>24&255,b.rgba>>16&255,b.rgba>>8&255]}})(w||(o.color=w={})),(function(l){let p,b;try{const x=document.createElement("canvas");x.width=1,x.height=1;const R=x.getContext("2d",{willReadFrequently:!0});R&&(p=R,p.globalCompositeOperation="copy",b=p.createLinearGradient(0,0,1,1))}catch{}l.toColor=function(x){if(x.match(/#[\da-f]{3,8}/i))switch(x.length){case 4:return f=parseInt(x.slice(1,2).repeat(2),16),v=parseInt(x.slice(2,3).repeat(2),16),S=parseInt(x.slice(3,4).repeat(2),16),y.toColor(f,v,S);case 5:return f=parseInt(x.slice(1,2).repeat(2),16),v=parseInt(x.slice(2,3).repeat(2),16),S=parseInt(x.slice(3,4).repeat(2),16),d=parseInt(x.slice(4,5).repeat(2),16),y.toColor(f,v,S,d);case 7:return{css:x,rgba:(parseInt(x.slice(1),16)<<8|255)>>>0};case 9:return{css:x,rgba:parseInt(x.slice(1),16)>>>0}}const R=x.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(R)return f=parseInt(R[1]),v=parseInt(R[2]),S=parseInt(R[3]),d=Math.round(255*(R[5]===void 0?1:parseFloat(R[5]))),y.toColor(f,v,S,d);if(!p||!b)throw new Error("css.toColor: Unsupported css format");if(p.fillStyle=b,p.fillStyle=x,typeof p.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(p.fillRect(0,0,1,1),[f,v,S,d]=p.getImageData(0,0,1,1).data,d!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:y.toRgba(f,v,S,d),css:x}}})(k||(o.css=k={})),(function(l){function p(b,x,R){const C=b/255,T=x/255,z=R/255;return .2126*(C<=.03928?C/12.92:Math.pow((C+.055)/1.055,2.4))+.7152*(T<=.03928?T/12.92:Math.pow((T+.055)/1.055,2.4))+.0722*(z<=.03928?z/12.92:Math.pow((z+.055)/1.055,2.4))}l.relativeLuminance=function(b){return p(b>>16&255,b>>8&255,255&b)},l.relativeLuminance2=p})(m||(o.rgb=m={})),(function(l){function p(x,R,C){const T=x>>24&255,z=x>>16&255,U=x>>8&255;let W=R>>24&255,F=R>>16&255,J=R>>8&255,te=i(m.relativeLuminance2(W,F,J),m.relativeLuminance2(T,z,U));for(;te<C&&(W>0||F>0||J>0);)W-=Math.max(0,Math.ceil(.1*W)),F-=Math.max(0,Math.ceil(.1*F)),J-=Math.max(0,Math.ceil(.1*J)),te=i(m.relativeLuminance2(W,F,J),m.relativeLuminance2(T,z,U));return(W<<24|F<<16|J<<8|255)>>>0}function b(x,R,C){const T=x>>24&255,z=x>>16&255,U=x>>8&255;let W=R>>24&255,F=R>>16&255,J=R>>8&255,te=i(m.relativeLuminance2(W,F,J),m.relativeLuminance2(T,z,U));for(;te<C&&(W<255||F<255||J<255);)W=Math.min(255,W+Math.ceil(.1*(255-W))),F=Math.min(255,F+Math.ceil(.1*(255-F))),J=Math.min(255,J+Math.ceil(.1*(255-J))),te=i(m.relativeLuminance2(W,F,J),m.relativeLuminance2(T,z,U));return(W<<24|F<<16|J<<8|255)>>>0}l.blend=function(x,R){if(d=(255&R)/255,d===1)return R;const C=R>>24&255,T=R>>16&255,z=R>>8&255,U=x>>24&255,W=x>>16&255,F=x>>8&255;return f=U+Math.round((C-U)*d),v=W+Math.round((T-W)*d),S=F+Math.round((z-F)*d),y.toRgba(f,v,S)},l.ensureContrastRatio=function(x,R,C){const T=m.relativeLuminance(x>>8),z=m.relativeLuminance(R>>8);if(i(T,z)<C){if(z<T){const F=p(x,R,C),J=i(T,m.relativeLuminance(F>>8));if(J<C){const te=b(x,R,C);return J>i(T,m.relativeLuminance(te>>8))?F:te}return F}const U=b(x,R,C),W=i(T,m.relativeLuminance(U>>8));if(W<C){const F=p(x,R,C);return W>i(T,m.relativeLuminance(F>>8))?U:F}return U}},l.reduceLuminance=p,l.increaseLuminance=b,l.toChannels=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]}})(n||(o.rgba=n={})),o.toPaddedHex=a,o.contrastRatio=i},8969:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;const v=f(844),S=f(2585),d=f(4348),y=f(7866),w=f(744),k=f(7302),m=f(6975),n=f(8460),a=f(1753),i=f(1480),l=f(7994),p=f(9282),b=f(5435),x=f(5981),R=f(2660);let C=!1;class T extends v.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new n.EventEmitter),this._onScroll.event((U=>{var W;(W=this._onScrollApi)==null||W.fire(U.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(U){for(const W in U)this.optionsService.options[W]=U[W]}constructor(U){super(),this._windowsWrappingHeuristics=this.register(new v.MutableDisposable),this._onBinary=this.register(new n.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new n.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new n.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new n.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new n.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new n.EventEmitter),this._instantiationService=new d.InstantiationService,this.optionsService=this.register(new k.OptionsService(U)),this._instantiationService.setService(S.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(w.BufferService)),this._instantiationService.setService(S.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(y.LogService)),this._instantiationService.setService(S.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(m.CoreService)),this._instantiationService.setService(S.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(a.CoreMouseService)),this._instantiationService.setService(S.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(i.UnicodeService)),this._instantiationService.setService(S.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(l.CharsetService),this._instantiationService.setService(S.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(R.OscLinkService),this._instantiationService.setService(S.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new b.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,n.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,n.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,n.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,n.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((W=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((W=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new x.WriteBuffer(((W,F)=>this._inputHandler.parse(W,F)))),this.register((0,n.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(U,W){this._writeBuffer.write(U,W)}writeSync(U,W){this._logService.logLevel<=S.LogLevelEnum.WARN&&!C&&(this._logService.warn("writeSync is unreliable and will be removed soon."),C=!0),this._writeBuffer.writeSync(U,W)}input(U,W=!0){this.coreService.triggerDataEvent(U,W)}resize(U,W){isNaN(U)||isNaN(W)||(U=Math.max(U,w.MINIMUM_COLS),W=Math.max(W,w.MINIMUM_ROWS),this._bufferService.resize(U,W))}scroll(U,W=!1){this._bufferService.scroll(U,W)}scrollLines(U,W,F){this._bufferService.scrollLines(U,W,F)}scrollPages(U){this.scrollLines(U*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(U){const W=U-this._bufferService.buffer.ydisp;W!==0&&this.scrollLines(W)}registerEscHandler(U,W){return this._inputHandler.registerEscHandler(U,W)}registerDcsHandler(U,W){return this._inputHandler.registerDcsHandler(U,W)}registerCsiHandler(U,W){return this._inputHandler.registerCsiHandler(U,W)}registerOscHandler(U,W){return this._inputHandler.registerOscHandler(U,W)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let U=!1;const W=this.optionsService.rawOptions.windowsPty;W&&W.buildNumber!==void 0&&W.buildNumber!==void 0?U=W.backend==="conpty"&&W.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(U=!0),U?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const U=[];U.push(this.onLineFeed(p.updateWindowsModeWrappedState.bind(null,this._bufferService))),U.push(this.registerCsiHandler({final:"H"},(()=>((0,p.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,v.toDisposable)((()=>{for(const W of U)W.dispose()}))}}}o.CoreTerminal=T},8460:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.runAndSubscribe=o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=f=>(this._listeners.push(f),{dispose:()=>{if(!this._disposed){for(let v=0;v<this._listeners.length;v++)if(this._listeners[v]===f)return void this._listeners.splice(v,1)}}})),this._event}fire(f,v){const S=[];for(let d=0;d<this._listeners.length;d++)S.push(this._listeners[d]);for(let d=0;d<S.length;d++)S[d].call(void 0,f,v)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(f,v){return f((S=>v.fire(S)))},o.runAndSubscribe=function(f,v){return v(void 0),f((S=>v(S)))}},5435:function(I,o,f){var v=this&&this.__decorate||function(X,L,B,D){var N,ee=arguments.length,se=ee<3?L:D===null?D=Object.getOwnPropertyDescriptor(L,B):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(X,L,B,D);else for(var ue=X.length-1;ue>=0;ue--)(N=X[ue])&&(se=(ee<3?N(se):ee>3?N(L,B,se):N(L,B))||se);return ee>3&&se&&Object.defineProperty(L,B,se),se},S=this&&this.__param||function(X,L){return function(B,D){L(B,D,X)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;const d=f(2584),y=f(7116),w=f(2015),k=f(844),m=f(482),n=f(8437),a=f(8460),i=f(643),l=f(511),p=f(3734),b=f(2585),x=f(1480),R=f(6242),C=f(6351),T=f(5941),z={"(":0,")":1,"*":2,"+":3,"-":1,".":2},U=131072;function W(X,L){if(X>24)return L.setWinLines||!1;switch(X){case 1:return!!L.restoreWin;case 2:return!!L.minimizeWin;case 3:return!!L.setWinPosition;case 4:return!!L.setWinSizePixels;case 5:return!!L.raiseWin;case 6:return!!L.lowerWin;case 7:return!!L.refreshWin;case 8:return!!L.setWinSizeChars;case 9:return!!L.maximizeWin;case 10:return!!L.fullscreenWin;case 11:return!!L.getWinState;case 13:return!!L.getWinPosition;case 14:return!!L.getWinSizePixels;case 15:return!!L.getScreenSizePixels;case 16:return!!L.getCellSizePixels;case 18:return!!L.getWinSizeChars;case 19:return!!L.getScreenSizeChars;case 20:return!!L.getIconTitle;case 21:return!!L.getWinTitle;case 22:return!!L.pushTitle;case 23:return!!L.popTitle;case 24:return!!L.setWinLines}return!1}var F;(function(X){X[X.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",X[X.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(F||(o.WindowsOptionsReportType=F={}));let J=0;class te extends k.Disposable{getAttrData(){return this._curAttrData}constructor(L,B,D,N,ee,se,ue,he,V=new w.EscapeSequenceParser){super(),this._bufferService=L,this._charsetService=B,this._coreService=D,this._logService=N,this._optionsService=ee,this._oscLinkService=se,this._coreMouseService=ue,this._unicodeService=he,this._parser=V,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new m.StringToUtf32,this._utf8Decoder=new m.Utf8ToUtf32,this._workCell=new l.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=n.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new a.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new a.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new a.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new a.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new a.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new a.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new a.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new a.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new a.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new a.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new a.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new a.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new a.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new ne(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((M=>this._activeBuffer=M.activeBuffer))),this._parser.setCsiHandlerFallback(((M,re)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(M),params:re.toArray()})})),this._parser.setEscHandlerFallback((M=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(M)})})),this._parser.setExecuteHandlerFallback((M=>{this._logService.debug("Unknown EXECUTE code: ",{code:M})})),this._parser.setOscHandlerFallback(((M,re,Z)=>{this._logService.debug("Unknown OSC code: ",{identifier:M,action:re,data:Z})})),this._parser.setDcsHandlerFallback(((M,re,Z)=>{re==="HOOK"&&(Z=Z.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(M),action:re,payload:Z})})),this._parser.setPrintHandler(((M,re,Z)=>this.print(M,re,Z))),this._parser.registerCsiHandler({final:"@"},(M=>this.insertChars(M))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(M=>this.scrollLeft(M))),this._parser.registerCsiHandler({final:"A"},(M=>this.cursorUp(M))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(M=>this.scrollRight(M))),this._parser.registerCsiHandler({final:"B"},(M=>this.cursorDown(M))),this._parser.registerCsiHandler({final:"C"},(M=>this.cursorForward(M))),this._parser.registerCsiHandler({final:"D"},(M=>this.cursorBackward(M))),this._parser.registerCsiHandler({final:"E"},(M=>this.cursorNextLine(M))),this._parser.registerCsiHandler({final:"F"},(M=>this.cursorPrecedingLine(M))),this._parser.registerCsiHandler({final:"G"},(M=>this.cursorCharAbsolute(M))),this._parser.registerCsiHandler({final:"H"},(M=>this.cursorPosition(M))),this._parser.registerCsiHandler({final:"I"},(M=>this.cursorForwardTab(M))),this._parser.registerCsiHandler({final:"J"},(M=>this.eraseInDisplay(M,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(M=>this.eraseInDisplay(M,!0))),this._parser.registerCsiHandler({final:"K"},(M=>this.eraseInLine(M,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(M=>this.eraseInLine(M,!0))),this._parser.registerCsiHandler({final:"L"},(M=>this.insertLines(M))),this._parser.registerCsiHandler({final:"M"},(M=>this.deleteLines(M))),this._parser.registerCsiHandler({final:"P"},(M=>this.deleteChars(M))),this._parser.registerCsiHandler({final:"S"},(M=>this.scrollUp(M))),this._parser.registerCsiHandler({final:"T"},(M=>this.scrollDown(M))),this._parser.registerCsiHandler({final:"X"},(M=>this.eraseChars(M))),this._parser.registerCsiHandler({final:"Z"},(M=>this.cursorBackwardTab(M))),this._parser.registerCsiHandler({final:"`"},(M=>this.charPosAbsolute(M))),this._parser.registerCsiHandler({final:"a"},(M=>this.hPositionRelative(M))),this._parser.registerCsiHandler({final:"b"},(M=>this.repeatPrecedingCharacter(M))),this._parser.registerCsiHandler({final:"c"},(M=>this.sendDeviceAttributesPrimary(M))),this._parser.registerCsiHandler({prefix:">",final:"c"},(M=>this.sendDeviceAttributesSecondary(M))),this._parser.registerCsiHandler({final:"d"},(M=>this.linePosAbsolute(M))),this._parser.registerCsiHandler({final:"e"},(M=>this.vPositionRelative(M))),this._parser.registerCsiHandler({final:"f"},(M=>this.hVPosition(M))),this._parser.registerCsiHandler({final:"g"},(M=>this.tabClear(M))),this._parser.registerCsiHandler({final:"h"},(M=>this.setMode(M))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(M=>this.setModePrivate(M))),this._parser.registerCsiHandler({final:"l"},(M=>this.resetMode(M))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(M=>this.resetModePrivate(M))),this._parser.registerCsiHandler({final:"m"},(M=>this.charAttributes(M))),this._parser.registerCsiHandler({final:"n"},(M=>this.deviceStatus(M))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(M=>this.deviceStatusPrivate(M))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(M=>this.softReset(M))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(M=>this.setCursorStyle(M))),this._parser.registerCsiHandler({final:"r"},(M=>this.setScrollRegion(M))),this._parser.registerCsiHandler({final:"s"},(M=>this.saveCursor(M))),this._parser.registerCsiHandler({final:"t"},(M=>this.windowOptions(M))),this._parser.registerCsiHandler({final:"u"},(M=>this.restoreCursor(M))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(M=>this.insertColumns(M))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(M=>this.deleteColumns(M))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(M=>this.selectProtected(M))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(M=>this.requestMode(M,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(M=>this.requestMode(M,!1))),this._parser.setExecuteHandler(d.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(d.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(d.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(d.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(d.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(d.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(d.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(d.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(d.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(d.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(d.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(d.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new R.OscHandler((M=>(this.setTitle(M),this.setIconName(M),!0)))),this._parser.registerOscHandler(1,new R.OscHandler((M=>this.setIconName(M)))),this._parser.registerOscHandler(2,new R.OscHandler((M=>this.setTitle(M)))),this._parser.registerOscHandler(4,new R.OscHandler((M=>this.setOrReportIndexedColor(M)))),this._parser.registerOscHandler(8,new R.OscHandler((M=>this.setHyperlink(M)))),this._parser.registerOscHandler(10,new R.OscHandler((M=>this.setOrReportFgColor(M)))),this._parser.registerOscHandler(11,new R.OscHandler((M=>this.setOrReportBgColor(M)))),this._parser.registerOscHandler(12,new R.OscHandler((M=>this.setOrReportCursorColor(M)))),this._parser.registerOscHandler(104,new R.OscHandler((M=>this.restoreIndexedColor(M)))),this._parser.registerOscHandler(110,new R.OscHandler((M=>this.restoreFgColor(M)))),this._parser.registerOscHandler(111,new R.OscHandler((M=>this.restoreBgColor(M)))),this._parser.registerOscHandler(112,new R.OscHandler((M=>this.restoreCursorColor(M)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const M in y.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:M},(()=>this.selectCharset("("+M))),this._parser.registerEscHandler({intermediates:")",final:M},(()=>this.selectCharset(")"+M))),this._parser.registerEscHandler({intermediates:"*",final:M},(()=>this.selectCharset("*"+M))),this._parser.registerEscHandler({intermediates:"+",final:M},(()=>this.selectCharset("+"+M))),this._parser.registerEscHandler({intermediates:"-",final:M},(()=>this.selectCharset("-"+M))),this._parser.registerEscHandler({intermediates:".",final:M},(()=>this.selectCharset("."+M))),this._parser.registerEscHandler({intermediates:"/",final:M},(()=>this.selectCharset("/"+M)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((M=>(this._logService.error("Parsing error: ",M),M))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new C.DcsHandler(((M,re)=>this.requestStatusString(M,re))))}_preserveStack(L,B,D,N){this._parseStack.paused=!0,this._parseStack.cursorStartX=L,this._parseStack.cursorStartY=B,this._parseStack.decodedLength=D,this._parseStack.position=N}_logSlowResolvingAsync(L){this._logService.logLevel<=b.LogLevelEnum.WARN&&Promise.race([L,new Promise(((B,D)=>setTimeout((()=>D("#SLOW_TIMEOUT")),5e3)))]).catch((B=>{if(B!=="#SLOW_TIMEOUT")throw B;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(L,B){let D,N=this._activeBuffer.x,ee=this._activeBuffer.y,se=0;const ue=this._parseStack.paused;if(ue){if(D=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,B))return this._logSlowResolvingAsync(D),D;N=this._parseStack.cursorStartX,ee=this._parseStack.cursorStartY,this._parseStack.paused=!1,L.length>U&&(se=this._parseStack.position+U)}if(this._logService.logLevel<=b.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof L=="string"?` "${L}"`:` "${Array.prototype.map.call(L,(M=>String.fromCharCode(M))).join("")}"`),typeof L=="string"?L.split("").map((M=>M.charCodeAt(0))):L),this._parseBuffer.length<L.length&&this._parseBuffer.length<U&&(this._parseBuffer=new Uint32Array(Math.min(L.length,U))),ue||this._dirtyRowTracker.clearRange(),L.length>U)for(let M=se;M<L.length;M+=U){const re=M+U<L.length?M+U:L.length,Z=typeof L=="string"?this._stringDecoder.decode(L.substring(M,re),this._parseBuffer):this._utf8Decoder.decode(L.subarray(M,re),this._parseBuffer);if(D=this._parser.parse(this._parseBuffer,Z))return this._preserveStack(N,ee,Z,M),this._logSlowResolvingAsync(D),D}else if(!ue){const M=typeof L=="string"?this._stringDecoder.decode(L,this._parseBuffer):this._utf8Decoder.decode(L,this._parseBuffer);if(D=this._parser.parse(this._parseBuffer,M))return this._preserveStack(N,ee,M,0),this._logSlowResolvingAsync(D),D}this._activeBuffer.x===N&&this._activeBuffer.y===ee||this._onCursorMove.fire();const he=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),V=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);V<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(V,this._bufferService.rows-1),Math.min(he,this._bufferService.rows-1))}print(L,B,D){let N,ee;const se=this._charsetService.charset,ue=this._optionsService.rawOptions.screenReaderMode,he=this._bufferService.cols,V=this._coreService.decPrivateModes.wraparound,M=this._coreService.modes.insertMode,re=this._curAttrData;let Z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&D-B>0&&Z.getWidth(this._activeBuffer.x-1)===2&&Z.setCellFromCodepoint(this._activeBuffer.x-1,0,1,re);let fe=this._parser.precedingJoinState;for(let de=B;de<D;++de){if(N=L[de],N<127&&se){const it=se[String.fromCharCode(N)];it&&(N=it.charCodeAt(0))}const Le=this._unicodeService.charProperties(N,fe);ee=x.UnicodeService.extractWidth(Le);const Be=x.UnicodeService.extractShouldJoin(Le),Ne=Be?x.UnicodeService.extractWidth(fe):0;if(fe=Le,ue&&this._onA11yChar.fire((0,m.stringFromCodePoint)(N)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+ee-Ne>he){if(V){const it=Z;let be=this._activeBuffer.x-Ne;for(this._activeBuffer.x=Ne,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Ne>0&&Z instanceof n.BufferLine&&Z.copyCellsFrom(it,be,0,Ne,!1);be<he;)it.setCellFromCodepoint(be++,0,1,re)}else if(this._activeBuffer.x=he-1,ee===2)continue}if(Be&&this._activeBuffer.x){const it=Z.getWidth(this._activeBuffer.x-1)?1:2;Z.addCodepointToCell(this._activeBuffer.x-it,N,ee);for(let be=ee-Ne;--be>=0;)Z.setCellFromCodepoint(this._activeBuffer.x++,0,0,re)}else if(M&&(Z.insertCells(this._activeBuffer.x,ee-Ne,this._activeBuffer.getNullCell(re)),Z.getWidth(he-1)===2&&Z.setCellFromCodepoint(he-1,i.NULL_CELL_CODE,i.NULL_CELL_WIDTH,re)),Z.setCellFromCodepoint(this._activeBuffer.x++,N,ee,re),ee>0)for(;--ee;)Z.setCellFromCodepoint(this._activeBuffer.x++,0,0,re)}this._parser.precedingJoinState=fe,this._activeBuffer.x<he&&D-B>0&&Z.getWidth(this._activeBuffer.x)===0&&!Z.hasContent(this._activeBuffer.x)&&Z.setCellFromCodepoint(this._activeBuffer.x,0,1,re),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(L,B){return L.final!=="t"||L.prefix||L.intermediates?this._parser.registerCsiHandler(L,B):this._parser.registerCsiHandler(L,(D=>!W(D.params[0],this._optionsService.rawOptions.windowOptions)||B(D)))}registerDcsHandler(L,B){return this._parser.registerDcsHandler(L,new C.DcsHandler(B))}registerEscHandler(L,B){return this._parser.registerEscHandler(L,B)}registerOscHandler(L,B){return this._parser.registerOscHandler(L,new R.OscHandler(B))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var L;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&L.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);B.hasWidth(this._activeBuffer.x)&&!B.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const L=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-L),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(L=this._bufferService.cols-1){this._activeBuffer.x=Math.min(L,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(L,B){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=L,this._activeBuffer.y=this._activeBuffer.scrollTop+B):(this._activeBuffer.x=L,this._activeBuffer.y=B),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(L,B){this._restrictCursor(),this._setCursor(this._activeBuffer.x+L,this._activeBuffer.y+B)}cursorUp(L){const B=this._activeBuffer.y-this._activeBuffer.scrollTop;return B>=0?this._moveCursor(0,-Math.min(B,L.params[0]||1)):this._moveCursor(0,-(L.params[0]||1)),!0}cursorDown(L){const B=this._activeBuffer.scrollBottom-this._activeBuffer.y;return B>=0?this._moveCursor(0,Math.min(B,L.params[0]||1)):this._moveCursor(0,L.params[0]||1),!0}cursorForward(L){return this._moveCursor(L.params[0]||1,0),!0}cursorBackward(L){return this._moveCursor(-(L.params[0]||1),0),!0}cursorNextLine(L){return this.cursorDown(L),this._activeBuffer.x=0,!0}cursorPrecedingLine(L){return this.cursorUp(L),this._activeBuffer.x=0,!0}cursorCharAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(L){return this._setCursor(L.length>=2?(L.params[1]||1)-1:0,(L.params[0]||1)-1),!0}charPosAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(L){return this._moveCursor(L.params[0]||1,0),!0}linePosAbsolute(L){return this._setCursor(this._activeBuffer.x,(L.params[0]||1)-1),!0}vPositionRelative(L){return this._moveCursor(0,L.params[0]||1),!0}hVPosition(L){return this.cursorPosition(L),!0}tabClear(L){const B=L.params[0];return B===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:B===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let B=L.params[0]||1;for(;B--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let B=L.params[0]||1;for(;B--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(L){const B=L.params[0];return B===1&&(this._curAttrData.bg|=536870912),B!==2&&B!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(L,B,D,N=!1,ee=!1){const se=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);se.replaceCells(B,D,this._activeBuffer.getNullCell(this._eraseAttrData()),ee),N&&(se.isWrapped=!1)}_resetBufferLine(L,B=!1){const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);D&&(D.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),B),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+L),D.isWrapped=!1)}eraseInDisplay(L,B=!1){let D;switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:for(D=this._activeBuffer.y,this._dirtyRowTracker.markDirty(D),this._eraseInBufferLine(D++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,B);D<this._bufferService.rows;D++)this._resetBufferLine(D,B);this._dirtyRowTracker.markDirty(D);break;case 1:for(D=this._activeBuffer.y,this._dirtyRowTracker.markDirty(D),this._eraseInBufferLine(D,0,this._activeBuffer.x+1,!0,B),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(D+1).isWrapped=!1);D--;)this._resetBufferLine(D,B);this._dirtyRowTracker.markDirty(0);break;case 2:for(D=this._bufferService.rows,this._dirtyRowTracker.markDirty(D-1);D--;)this._resetBufferLine(D,B);this._dirtyRowTracker.markDirty(0);break;case 3:const N=this._activeBuffer.lines.length-this._bufferService.rows;N>0&&(this._activeBuffer.lines.trimStart(N),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-N,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-N,0),this._onScroll.fire(0))}return!0}eraseInLine(L,B=!1){switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,B);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,B);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,B)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(L){this._restrictCursor();let B=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const D=this._activeBuffer.ybase+this._activeBuffer.y,N=this._bufferService.rows-1-this._activeBuffer.scrollBottom,ee=this._bufferService.rows-1+this._activeBuffer.ybase-N+1;for(;B--;)this._activeBuffer.lines.splice(ee-1,1),this._activeBuffer.lines.splice(D,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(L){this._restrictCursor();let B=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const D=this._activeBuffer.ybase+this._activeBuffer.y;let N;for(N=this._bufferService.rows-1-this._activeBuffer.scrollBottom,N=this._bufferService.rows-1+this._activeBuffer.ybase-N;B--;)this._activeBuffer.lines.splice(D,1),this._activeBuffer.lines.splice(N,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(L){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.insertCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(L){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.deleteCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(L){let B=L.params[0]||1;for(;B--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(L){let B=L.params[0]||1;for(;B--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(n.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=L.params[0]||1;for(let D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);N.deleteCells(0,B,this._activeBuffer.getNullCell(this._eraseAttrData())),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=L.params[0]||1;for(let D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);N.insertCells(0,B,this._activeBuffer.getNullCell(this._eraseAttrData())),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=L.params[0]||1;for(let D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);N.insertCells(this._activeBuffer.x,B,this._activeBuffer.getNullCell(this._eraseAttrData())),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=L.params[0]||1;for(let D=this._activeBuffer.scrollTop;D<=this._activeBuffer.scrollBottom;++D){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);N.deleteCells(this._activeBuffer.x,B,this._activeBuffer.getNullCell(this._eraseAttrData())),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(L){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(L.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(L){const B=this._parser.precedingJoinState;if(!B)return!0;const D=L.params[0]||1,N=x.UnicodeService.extractWidth(B),ee=this._activeBuffer.x-N,se=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(ee),ue=new Uint32Array(se.length*D);let he=0;for(let M=0;M<se.length;){const re=se.codePointAt(M)||0;ue[he++]=re,M+=re>65535?2:1}let V=he;for(let M=1;M<D;++M)ue.copyWithin(V,0,he),V+=he;return this.print(ue,0,V),!0}sendDeviceAttributesPrimary(L){return L.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(d.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(d.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(L){return L.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(d.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(d.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(L.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(d.C0.ESC+"[>83;40003;0c")),!0}_is(L){return(this._optionsService.rawOptions.termName+"").indexOf(L)===0}setMode(L){for(let B=0;B<L.length;B++)switch(L.params[B]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(L){for(let B=0;B<L.length;B++)switch(L.params[B]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,y.DEFAULT_CHARSET),this._charsetService.setgCharset(1,y.DEFAULT_CHARSET),this._charsetService.setgCharset(2,y.DEFAULT_CHARSET),this._charsetService.setgCharset(3,y.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(L){for(let B=0;B<L.length;B++)switch(L.params[B]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(L){for(let B=0;B<L.length;B++)switch(L.params[B]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),L.params[B]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(L,B){const D=this._coreService.decPrivateModes,{activeProtocol:N,activeEncoding:ee}=this._coreMouseService,se=this._coreService,{buffers:ue,cols:he}=this._bufferService,{active:V,alt:M}=ue,re=this._optionsService.rawOptions,Z=Be=>Be?1:2,fe=L.params[0];return de=fe,Le=B?fe===2?4:fe===4?Z(se.modes.insertMode):fe===12?3:fe===20?Z(re.convertEol):0:fe===1?Z(D.applicationCursorKeys):fe===3?re.windowOptions.setWinLines?he===80?2:he===132?1:0:0:fe===6?Z(D.origin):fe===7?Z(D.wraparound):fe===8?3:fe===9?Z(N==="X10"):fe===12?Z(re.cursorBlink):fe===25?Z(!se.isCursorHidden):fe===45?Z(D.reverseWraparound):fe===66?Z(D.applicationKeypad):fe===67?4:fe===1e3?Z(N==="VT200"):fe===1002?Z(N==="DRAG"):fe===1003?Z(N==="ANY"):fe===1004?Z(D.sendFocus):fe===1005?4:fe===1006?Z(ee==="SGR"):fe===1015?4:fe===1016?Z(ee==="SGR_PIXELS"):fe===1048?1:fe===47||fe===1047||fe===1049?Z(V===M):fe===2004?Z(D.bracketedPasteMode):0,se.triggerDataEvent(`${d.C0.ESC}[${B?"":"?"}${de};${Le}$y`),!0;var de,Le}_updateAttrColor(L,B,D,N,ee){return B===2?(L|=50331648,L&=-16777216,L|=p.AttributeData.fromColorRGB([D,N,ee])):B===5&&(L&=-50331904,L|=33554432|255&D),L}_extractColor(L,B,D){const N=[0,0,-1,0,0,0];let ee=0,se=0;do{if(N[se+ee]=L.params[B+se],L.hasSubParams(B+se)){const ue=L.getSubParams(B+se);let he=0;do N[1]===5&&(ee=1),N[se+he+1+ee]=ue[he];while(++he<ue.length&&he+se+1+ee<N.length);break}if(N[1]===5&&se+ee>=2||N[1]===2&&se+ee>=5)break;N[1]&&(ee=1)}while(++se+B<L.length&&se+ee<N.length);for(let ue=2;ue<N.length;++ue)N[ue]===-1&&(N[ue]=0);switch(N[0]){case 38:D.fg=this._updateAttrColor(D.fg,N[1],N[3],N[4],N[5]);break;case 48:D.bg=this._updateAttrColor(D.bg,N[1],N[3],N[4],N[5]);break;case 58:D.extended=D.extended.clone(),D.extended.underlineColor=this._updateAttrColor(D.extended.underlineColor,N[1],N[3],N[4],N[5])}return se}_processUnderline(L,B){B.extended=B.extended.clone(),(!~L||L>5)&&(L=1),B.extended.underlineStyle=L,B.fg|=268435456,L===0&&(B.fg&=-268435457),B.updateExtended()}_processSGR0(L){L.fg=n.DEFAULT_ATTR_DATA.fg,L.bg=n.DEFAULT_ATTR_DATA.bg,L.extended=L.extended.clone(),L.extended.underlineStyle=0,L.extended.underlineColor&=-67108864,L.updateExtended()}charAttributes(L){if(L.length===1&&L.params[0]===0)return this._processSGR0(this._curAttrData),!0;const B=L.length;let D;const N=this._curAttrData;for(let ee=0;ee<B;ee++)D=L.params[ee],D>=30&&D<=37?(N.fg&=-50331904,N.fg|=16777216|D-30):D>=40&&D<=47?(N.bg&=-50331904,N.bg|=16777216|D-40):D>=90&&D<=97?(N.fg&=-50331904,N.fg|=16777224|D-90):D>=100&&D<=107?(N.bg&=-50331904,N.bg|=16777224|D-100):D===0?this._processSGR0(N):D===1?N.fg|=134217728:D===3?N.bg|=67108864:D===4?(N.fg|=268435456,this._processUnderline(L.hasSubParams(ee)?L.getSubParams(ee)[0]:1,N)):D===5?N.fg|=536870912:D===7?N.fg|=67108864:D===8?N.fg|=1073741824:D===9?N.fg|=2147483648:D===2?N.bg|=134217728:D===21?this._processUnderline(2,N):D===22?(N.fg&=-134217729,N.bg&=-134217729):D===23?N.bg&=-67108865:D===24?(N.fg&=-268435457,this._processUnderline(0,N)):D===25?N.fg&=-536870913:D===27?N.fg&=-67108865:D===28?N.fg&=-1073741825:D===29?N.fg&=2147483647:D===39?(N.fg&=-67108864,N.fg|=16777215&n.DEFAULT_ATTR_DATA.fg):D===49?(N.bg&=-67108864,N.bg|=16777215&n.DEFAULT_ATTR_DATA.bg):D===38||D===48||D===58?ee+=this._extractColor(L,ee,N):D===53?N.bg|=1073741824:D===55?N.bg&=-1073741825:D===59?(N.extended=N.extended.clone(),N.extended.underlineColor=-1,N.updateExtended()):D===100?(N.fg&=-67108864,N.fg|=16777215&n.DEFAULT_ATTR_DATA.fg,N.bg&=-67108864,N.bg|=16777215&n.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",D);return!0}deviceStatus(L){switch(L.params[0]){case 5:this._coreService.triggerDataEvent(`${d.C0.ESC}[0n`);break;case 6:const B=this._activeBuffer.y+1,D=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[${B};${D}R`)}return!0}deviceStatusPrivate(L){if(L.params[0]===6){const B=this._activeBuffer.y+1,D=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[?${B};${D}R`)}return!0}softReset(L){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(L){const B=L.params[0]||1;switch(B){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const D=B%2==1;return this._optionsService.options.cursorBlink=D,!0}setScrollRegion(L){const B=L.params[0]||1;let D;return(L.length<2||(D=L.params[1])>this._bufferService.rows||D===0)&&(D=this._bufferService.rows),D>B&&(this._activeBuffer.scrollTop=B-1,this._activeBuffer.scrollBottom=D-1,this._setCursor(0,0)),!0}windowOptions(L){if(!W(L.params[0],this._optionsService.rawOptions.windowOptions))return!0;const B=L.length>1?L.params[1]:0;switch(L.params[0]){case 14:B!==2&&this._onRequestWindowsOptionsReport.fire(F.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(F.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${d.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:B!==0&&B!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),B!==0&&B!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:B!==0&&B!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),B!==0&&B!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(L){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(L){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(L){return this._windowTitle=L,this._onTitleChange.fire(L),!0}setIconName(L){return this._iconName=L,!0}setOrReportIndexedColor(L){const B=[],D=L.split(";");for(;D.length>1;){const N=D.shift(),ee=D.shift();if(/^\d+$/.exec(N)){const se=parseInt(N);if(le(se))if(ee==="?")B.push({type:0,index:se});else{const ue=(0,T.parseColor)(ee);ue&&B.push({type:1,index:se,color:ue})}}}return B.length&&this._onColor.fire(B),!0}setHyperlink(L){const B=L.split(";");return!(B.length<2)&&(B[1]?this._createHyperlink(B[0],B[1]):!B[0]&&this._finishHyperlink())}_createHyperlink(L,B){this._getCurrentLinkId()&&this._finishHyperlink();const D=L.split(":");let N;const ee=D.findIndex((se=>se.startsWith("id=")));return ee!==-1&&(N=D[ee].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:N,uri:B}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(L,B){const D=L.split(";");for(let N=0;N<D.length&&!(B>=this._specialColors.length);++N,++B)if(D[N]==="?")this._onColor.fire([{type:0,index:this._specialColors[B]}]);else{const ee=(0,T.parseColor)(D[N]);ee&&this._onColor.fire([{type:1,index:this._specialColors[B],color:ee}])}return!0}setOrReportFgColor(L){return this._setOrReportSpecialColor(L,0)}setOrReportBgColor(L){return this._setOrReportSpecialColor(L,1)}setOrReportCursorColor(L){return this._setOrReportSpecialColor(L,2)}restoreIndexedColor(L){if(!L)return this._onColor.fire([{type:2}]),!0;const B=[],D=L.split(";");for(let N=0;N<D.length;++N)if(/^\d+$/.exec(D[N])){const ee=parseInt(D[N]);le(ee)&&B.push({type:2,index:ee})}return B.length&&this._onColor.fire(B),!0}restoreFgColor(L){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(L){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(L){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,y.DEFAULT_CHARSET),!0}selectCharset(L){return L.length!==2?(this.selectDefaultCharset(),!0):(L[0]==="/"||this._charsetService.setgCharset(z[L[0]],y.CHARSETS[L[1]]||y.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const L=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,L,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=n.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=n.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(L){return this._charsetService.setgLevel(L),!0}screenAlignmentPattern(){const L=new l.CellData;L.content=4194373,L.fg=this._curAttrData.fg,L.bg=this._curAttrData.bg,this._setCursor(0,0);for(let B=0;B<this._bufferService.rows;++B){const D=this._activeBuffer.ybase+this._activeBuffer.y+B,N=this._activeBuffer.lines.get(D);N&&(N.fill(L),N.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(L,B){const D=this._bufferService.buffer,N=this._optionsService.rawOptions;return(ee=>(this._coreService.triggerDataEvent(`${d.C0.ESC}${ee}${d.C0.ESC}\\`),!0))(L==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:L==='"p'?'P1$r61;1"p':L==="r"?`P1$r${D.scrollTop+1};${D.scrollBottom+1}r`:L==="m"?"P1$r0m":L===" q"?`P1$r${{block:2,underline:4,bar:6}[N.cursorStyle]-(N.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(L,B){this._dirtyRowTracker.markRangeDirty(L,B)}}o.InputHandler=te;let ne=class{constructor(X){this._bufferService=X,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(X){X<this.start?this.start=X:X>this.end&&(this.end=X)}markRangeDirty(X,L){X>L&&(J=X,X=L,L=J),X<this.start&&(this.start=X),L>this.end&&(this.end=L)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function le(X){return 0<=X&&X<256}ne=v([S(0,b.IBufferService)],ne)},844:(I,o)=>{function f(v){for(const S of v)S.dispose();v.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const v of this._disposables)v.dispose();this._disposables.length=0}register(v){return this._disposables.push(v),v}unregister(v){const S=this._disposables.indexOf(v);S!==-1&&this._disposables.splice(S,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(v){var S;this._isDisposed||v===this._value||((S=this._value)==null||S.dispose(),this._value=v)}clear(){this.value=void 0}dispose(){var v;this._isDisposed=!0,(v=this._value)==null||v.dispose(),this._value=void 0}},o.toDisposable=function(v){return{dispose:v}},o.disposeArray=f,o.getDisposeArrayDisposable=function(v){return{dispose:()=>f(v)}}},1505:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class f{constructor(){this._data={}}set(S,d,y){this._data[S]||(this._data[S]={}),this._data[S][d]=y}get(S,d){return this._data[S]?this._data[S][d]:void 0}clear(){this._data={}}}o.TwoKeyMap=f,o.FourKeyMap=class{constructor(){this._data=new f}set(v,S,d,y,w){this._data.get(v,S)||this._data.set(v,S,new f),this._data.get(v,S).set(d,y,w)}get(v,S,d,y){var w;return(w=this._data.get(v,S))==null?void 0:w.get(d,y)}clear(){this._data.clear()}}},6114:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof process<"u"&&"title"in process;const f=o.isNode?"node":navigator.userAgent,v=o.isNode?"node":navigator.platform;o.isFirefox=f.includes("Firefox"),o.isLegacyEdge=f.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(f),o.getSafariVersion=function(){if(!o.isSafari)return 0;const S=f.match(/Version\/(\d+)/);return S===null||S.length<2?0:parseInt(S[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(v),o.isIpad=v==="iPad",o.isIphone=v==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(v),o.isLinux=v.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(f)},6106:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;let f=0;o.SortedList=class{constructor(v){this._getKey=v,this._array=[]}clear(){this._array.length=0}insert(v){this._array.length!==0?(f=this._search(this._getKey(v)),this._array.splice(f,0,v)):this._array.push(v)}delete(v){if(this._array.length===0)return!1;const S=this._getKey(v);if(S===void 0||(f=this._search(S),f===-1)||this._getKey(this._array[f])!==S)return!1;do if(this._array[f]===v)return this._array.splice(f,1),!0;while(++f<this._array.length&&this._getKey(this._array[f])===S);return!1}*getKeyIterator(v){if(this._array.length!==0&&(f=this._search(v),!(f<0||f>=this._array.length)&&this._getKey(this._array[f])===v))do yield this._array[f];while(++f<this._array.length&&this._getKey(this._array[f])===v)}forEachByKey(v,S){if(this._array.length!==0&&(f=this._search(v),!(f<0||f>=this._array.length)&&this._getKey(this._array[f])===v))do S(this._array[f]);while(++f<this._array.length&&this._getKey(this._array[f])===v)}values(){return[...this._array].values()}_search(v){let S=0,d=this._array.length-1;for(;d>=S;){let y=S+d>>1;const w=this._getKey(this._array[y]);if(w>v)d=y-1;else{if(!(w<v)){for(;y>0&&this._getKey(this._array[y-1])===v;)y--;return y}S=y+1}}return S}}},7226:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const v=f(6114);class S{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let k=0,m=0,n=w.timeRemaining(),a=0;for(;this._i<this._tasks.length;){if(k=Date.now(),this._tasks[this._i]()||this._i++,k=Math.max(1,Date.now()-k),m=Math.max(k,m),a=w.timeRemaining(),1.5*m>a)return n-k<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(n-k))}ms`),void this._start();n=a}this.clear()}}class d extends S{_requestCallback(w){return setTimeout((()=>w(this._createDeadline(16))))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const k=Date.now()+w;return{timeRemaining:()=>Math.max(0,k-Date.now())}}}o.PriorityTaskQueue=d,o.IdleTaskQueue=!v.isNode&&"requestIdleCallback"in window?class extends S{_requestCallback(y){return requestIdleCallback(y)}_cancelCallback(y){cancelIdleCallback(y)}}:d,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(y){this._queue.clear(),this._queue.enqueue(y)}flush(){this._queue.flush()}}},9282:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;const v=f(643);o.updateWindowsModeWrappedState=function(S){const d=S.buffer.lines.get(S.buffer.ybase+S.buffer.y-1),y=d==null?void 0:d.get(S.cols-1),w=S.buffer.lines.get(S.buffer.ybase+S.buffer.y);w&&y&&(w.isWrapped=y[v.CHAR_DATA_CODE_INDEX]!==v.NULL_CELL_CODE&&y[v.CHAR_DATA_CODE_INDEX]!==v.WHITESPACE_CELL_CODE)}},3734:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class f{constructor(){this.fg=0,this.bg=0,this.extended=new v}static toColorRGB(d){return[d>>>16&255,d>>>8&255,255&d]}static fromColorRGB(d){return(255&d[0])<<16|(255&d[1])<<8|255&d[2]}clone(){const d=new f;return d.fg=this.fg,d.bg=this.bg,d.extended=this.extended.clone(),d}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}o.AttributeData=f;class v{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(d){this._ext=d}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(d){this._ext&=-469762049,this._ext|=d<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(d){this._ext&=-67108864,this._ext|=67108863&d}get urlId(){return this._urlId}set urlId(d){this._urlId=d}get underlineVariantOffset(){const d=(3758096384&this._ext)>>29;return d<0?4294967288^d:d}set underlineVariantOffset(d){this._ext&=536870911,this._ext|=d<<29&3758096384}constructor(d=0,y=0){this._ext=0,this._urlId=0,this._ext=d,this._urlId=y}clone(){return new v(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=v},9092:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Buffer=o.MAX_BUFFER_SIZE=void 0;const v=f(6349),S=f(7226),d=f(3734),y=f(8437),w=f(4634),k=f(511),m=f(643),n=f(4863),a=f(7116);o.MAX_BUFFER_SIZE=4294967295,o.Buffer=class{constructor(i,l,p){this._hasScrollback=i,this._optionsService=l,this._bufferService=p,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=y.DEFAULT_ATTR_DATA.clone(),this.savedCharset=a.DEFAULT_CHARSET,this.markers=[],this._nullCell=k.CellData.fromCharData([0,m.NULL_CELL_CHAR,m.NULL_CELL_WIDTH,m.NULL_CELL_CODE]),this._whitespaceCell=k.CellData.fromCharData([0,m.WHITESPACE_CELL_CHAR,m.WHITESPACE_CELL_WIDTH,m.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new S.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new v.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(i){return i?(this._nullCell.fg=i.fg,this._nullCell.bg=i.bg,this._nullCell.extended=i.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new d.ExtendedAttrs),this._nullCell}getWhitespaceCell(i){return i?(this._whitespaceCell.fg=i.fg,this._whitespaceCell.bg=i.bg,this._whitespaceCell.extended=i.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new d.ExtendedAttrs),this._whitespaceCell}getBlankLine(i,l){return new y.BufferLine(this._bufferService.cols,this.getNullCell(i),l)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const i=this.ybase+this.y-this.ydisp;return i>=0&&i<this._rows}_getCorrectBufferLength(i){if(!this._hasScrollback)return i;const l=i+this._optionsService.rawOptions.scrollback;return l>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:l}fillViewportRows(i){if(this.lines.length===0){i===void 0&&(i=y.DEFAULT_ATTR_DATA);let l=this._rows;for(;l--;)this.lines.push(this.getBlankLine(i))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new v.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(i,l){const p=this.getNullCell(y.DEFAULT_ATTR_DATA);let b=0;const x=this._getCorrectBufferLength(l);if(x>this.lines.maxLength&&(this.lines.maxLength=x),this.lines.length>0){if(this._cols<i)for(let C=0;C<this.lines.length;C++)b+=+this.lines.get(C).resize(i,p);let R=0;if(this._rows<l)for(let C=this._rows;C<l;C++)this.lines.length<l+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new y.BufferLine(i,p)):this.ybase>0&&this.lines.length<=this.ybase+this.y+R+1?(this.ybase--,R++,this.ydisp>0&&this.ydisp--):this.lines.push(new y.BufferLine(i,p)));else for(let C=this._rows;C>l;C--)this.lines.length>l+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(x<this.lines.maxLength){const C=this.lines.length-x;C>0&&(this.lines.trimStart(C),this.ybase=Math.max(this.ybase-C,0),this.ydisp=Math.max(this.ydisp-C,0),this.savedY=Math.max(this.savedY-C,0)),this.lines.maxLength=x}this.x=Math.min(this.x,i-1),this.y=Math.min(this.y,l-1),R&&(this.y+=R),this.savedX=Math.min(this.savedX,i-1),this.scrollTop=0}if(this.scrollBottom=l-1,this._isReflowEnabled&&(this._reflow(i,l),this._cols>i))for(let R=0;R<this.lines.length;R++)b+=+this.lines.get(R).resize(i,p);this._cols=i,this._rows=l,this._memoryCleanupQueue.clear(),b>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let i=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,i=!1);let l=0;for(;this._memoryCleanupPosition<this.lines.length;)if(l+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),l>100)return!0;return i}get _isReflowEnabled(){const i=this._optionsService.rawOptions.windowsPty;return i&&i.buildNumber?this._hasScrollback&&i.backend==="conpty"&&i.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(i,l){this._cols!==i&&(i>this._cols?this._reflowLarger(i,l):this._reflowSmaller(i,l))}_reflowLarger(i,l){const p=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,i,this.ybase+this.y,this.getNullCell(y.DEFAULT_ATTR_DATA));if(p.length>0){const b=(0,w.reflowLargerCreateNewLayout)(this.lines,p);(0,w.reflowLargerApplyNewLayout)(this.lines,b.layout),this._reflowLargerAdjustViewport(i,l,b.countRemoved)}}_reflowLargerAdjustViewport(i,l,p){const b=this.getNullCell(y.DEFAULT_ATTR_DATA);let x=p;for(;x-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<l&&this.lines.push(new y.BufferLine(i,b))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-p,0)}_reflowSmaller(i,l){const p=this.getNullCell(y.DEFAULT_ATTR_DATA),b=[];let x=0;for(let R=this.lines.length-1;R>=0;R--){let C=this.lines.get(R);if(!C||!C.isWrapped&&C.getTrimmedLength()<=i)continue;const T=[C];for(;C.isWrapped&&R>0;)C=this.lines.get(--R),T.unshift(C);const z=this.ybase+this.y;if(z>=R&&z<R+T.length)continue;const U=T[T.length-1].getTrimmedLength(),W=(0,w.reflowSmallerGetNewLineLengths)(T,this._cols,i),F=W.length-T.length;let J;J=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+F):Math.max(0,this.lines.length-this.lines.maxLength+F);const te=[];for(let D=0;D<F;D++){const N=this.getBlankLine(y.DEFAULT_ATTR_DATA,!0);te.push(N)}te.length>0&&(b.push({start:R+T.length+x,newLines:te}),x+=te.length),T.push(...te);let ne=W.length-1,le=W[ne];le===0&&(ne--,le=W[ne]);let X=T.length-F-1,L=U;for(;X>=0;){const D=Math.min(L,le);if(T[ne]===void 0)break;if(T[ne].copyCellsFrom(T[X],L-D,le-D,D,!0),le-=D,le===0&&(ne--,le=W[ne]),L-=D,L===0){X--;const N=Math.max(X,0);L=(0,w.getWrappedLineTrimmedLength)(T,N,this._cols)}}for(let D=0;D<T.length;D++)W[D]<i&&T[D].setCell(W[D],p);let B=F-J;for(;B-- >0;)this.ybase===0?this.y<l-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+x)-l&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+F,this.ybase+l-1)}if(b.length>0){const R=[],C=[];for(let ne=0;ne<this.lines.length;ne++)C.push(this.lines.get(ne));const T=this.lines.length;let z=T-1,U=0,W=b[U];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+x);let F=0;for(let ne=Math.min(this.lines.maxLength-1,T+x-1);ne>=0;ne--)if(W&&W.start>z+F){for(let le=W.newLines.length-1;le>=0;le--)this.lines.set(ne--,W.newLines[le]);ne++,R.push({index:z+1,amount:W.newLines.length}),F+=W.newLines.length,W=b[++U]}else this.lines.set(ne,C[z--]);let J=0;for(let ne=R.length-1;ne>=0;ne--)R[ne].index+=J,this.lines.onInsertEmitter.fire(R[ne]),J+=R[ne].amount;const te=Math.max(0,T+x-this.lines.maxLength);te>0&&this.lines.onTrimEmitter.fire(te)}}translateBufferLineToString(i,l,p=0,b){const x=this.lines.get(i);return x?x.translateToString(l,p,b):""}getWrappedRangeForLine(i){let l=i,p=i;for(;l>0&&this.lines.get(l).isWrapped;)l--;for(;p+1<this.lines.length&&this.lines.get(p+1).isWrapped;)p++;return{first:l,last:p}}setupTabStops(i){for(i!=null?this.tabs[i]||(i=this.prevStop(i)):(this.tabs={},i=0);i<this._cols;i+=this._optionsService.rawOptions.tabStopWidth)this.tabs[i]=!0}prevStop(i){for(i==null&&(i=this.x);!this.tabs[--i]&&i>0;);return i>=this._cols?this._cols-1:i<0?0:i}nextStop(i){for(i==null&&(i=this.x);!this.tabs[++i]&&i<this._cols;);return i>=this._cols?this._cols-1:i<0?0:i}clearMarkers(i){this._isClearing=!0;for(let l=0;l<this.markers.length;l++)this.markers[l].line===i&&(this.markers[l].dispose(),this.markers.splice(l--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let i=0;i<this.markers.length;i++)this.markers[i].dispose(),this.markers.splice(i--,1);this._isClearing=!1}addMarker(i){const l=new n.Marker(i);return this.markers.push(l),l.register(this.lines.onTrim((p=>{l.line-=p,l.line<0&&l.dispose()}))),l.register(this.lines.onInsert((p=>{l.line>=p.index&&(l.line+=p.amount)}))),l.register(this.lines.onDelete((p=>{l.line>=p.index&&l.line<p.index+p.amount&&l.dispose(),l.line>p.index&&(l.line-=p.amount)}))),l.register(l.onDispose((()=>this._removeMarker(l)))),l}_removeMarker(i){this._isClearing||this.markers.splice(this.markers.indexOf(i),1)}}},8437:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;const v=f(3734),S=f(511),d=f(643),y=f(482);o.DEFAULT_ATTR_DATA=Object.freeze(new v.AttributeData);let w=0;class k{constructor(n,a,i=!1){this.isWrapped=i,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*n);const l=a||S.CellData.fromCharData([0,d.NULL_CELL_CHAR,d.NULL_CELL_WIDTH,d.NULL_CELL_CODE]);for(let p=0;p<n;++p)this.setCell(p,l);this.length=n}get(n){const a=this._data[3*n+0],i=2097151&a;return[this._data[3*n+1],2097152&a?this._combined[n]:i?(0,y.stringFromCodePoint)(i):"",a>>22,2097152&a?this._combined[n].charCodeAt(this._combined[n].length-1):i]}set(n,a){this._data[3*n+1]=a[d.CHAR_DATA_ATTR_INDEX],a[d.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[n]=a[1],this._data[3*n+0]=2097152|n|a[d.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*n+0]=a[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|a[d.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(n){return this._data[3*n+0]>>22}hasWidth(n){return 12582912&this._data[3*n+0]}getFg(n){return this._data[3*n+1]}getBg(n){return this._data[3*n+2]}hasContent(n){return 4194303&this._data[3*n+0]}getCodePoint(n){const a=this._data[3*n+0];return 2097152&a?this._combined[n].charCodeAt(this._combined[n].length-1):2097151&a}isCombined(n){return 2097152&this._data[3*n+0]}getString(n){const a=this._data[3*n+0];return 2097152&a?this._combined[n]:2097151&a?(0,y.stringFromCodePoint)(2097151&a):""}isProtected(n){return 536870912&this._data[3*n+2]}loadCell(n,a){return w=3*n,a.content=this._data[w+0],a.fg=this._data[w+1],a.bg=this._data[w+2],2097152&a.content&&(a.combinedData=this._combined[n]),268435456&a.bg&&(a.extended=this._extendedAttrs[n]),a}setCell(n,a){2097152&a.content&&(this._combined[n]=a.combinedData),268435456&a.bg&&(this._extendedAttrs[n]=a.extended),this._data[3*n+0]=a.content,this._data[3*n+1]=a.fg,this._data[3*n+2]=a.bg}setCellFromCodepoint(n,a,i,l){268435456&l.bg&&(this._extendedAttrs[n]=l.extended),this._data[3*n+0]=a|i<<22,this._data[3*n+1]=l.fg,this._data[3*n+2]=l.bg}addCodepointToCell(n,a,i){let l=this._data[3*n+0];2097152&l?this._combined[n]+=(0,y.stringFromCodePoint)(a):2097151&l?(this._combined[n]=(0,y.stringFromCodePoint)(2097151&l)+(0,y.stringFromCodePoint)(a),l&=-2097152,l|=2097152):l=a|4194304,i&&(l&=-12582913,l|=i<<22),this._data[3*n+0]=l}insertCells(n,a,i){if((n%=this.length)&&this.getWidth(n-1)===2&&this.setCellFromCodepoint(n-1,0,1,i),a<this.length-n){const l=new S.CellData;for(let p=this.length-n-a-1;p>=0;--p)this.setCell(n+a+p,this.loadCell(n+p,l));for(let p=0;p<a;++p)this.setCell(n+p,i)}else for(let l=n;l<this.length;++l)this.setCell(l,i);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,i)}deleteCells(n,a,i){if(n%=this.length,a<this.length-n){const l=new S.CellData;for(let p=0;p<this.length-n-a;++p)this.setCell(n+p,this.loadCell(n+a+p,l));for(let p=this.length-a;p<this.length;++p)this.setCell(p,i)}else for(let l=n;l<this.length;++l)this.setCell(l,i);n&&this.getWidth(n-1)===2&&this.setCellFromCodepoint(n-1,0,1,i),this.getWidth(n)!==0||this.hasContent(n)||this.setCellFromCodepoint(n,0,1,i)}replaceCells(n,a,i,l=!1){if(l)for(n&&this.getWidth(n-1)===2&&!this.isProtected(n-1)&&this.setCellFromCodepoint(n-1,0,1,i),a<this.length&&this.getWidth(a-1)===2&&!this.isProtected(a)&&this.setCellFromCodepoint(a,0,1,i);n<a&&n<this.length;)this.isProtected(n)||this.setCell(n,i),n++;else for(n&&this.getWidth(n-1)===2&&this.setCellFromCodepoint(n-1,0,1,i),a<this.length&&this.getWidth(a-1)===2&&this.setCellFromCodepoint(a,0,1,i);n<a&&n<this.length;)this.setCell(n++,i)}resize(n,a){if(n===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const i=3*n;if(n>this.length){if(this._data.buffer.byteLength>=4*i)this._data=new Uint32Array(this._data.buffer,0,i);else{const l=new Uint32Array(i);l.set(this._data),this._data=l}for(let l=this.length;l<n;++l)this.setCell(l,a)}else{this._data=this._data.subarray(0,i);const l=Object.keys(this._combined);for(let b=0;b<l.length;b++){const x=parseInt(l[b],10);x>=n&&delete this._combined[x]}const p=Object.keys(this._extendedAttrs);for(let b=0;b<p.length;b++){const x=parseInt(p[b],10);x>=n&&delete this._extendedAttrs[x]}}return this.length=n,4*i*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const n=new Uint32Array(this._data.length);return n.set(this._data),this._data=n,1}return 0}fill(n,a=!1){if(a)for(let i=0;i<this.length;++i)this.isProtected(i)||this.setCell(i,n);else{this._combined={},this._extendedAttrs={};for(let i=0;i<this.length;++i)this.setCell(i,n)}}copyFrom(n){this.length!==n.length?this._data=new Uint32Array(n._data):this._data.set(n._data),this.length=n.length,this._combined={};for(const a in n._combined)this._combined[a]=n._combined[a];this._extendedAttrs={};for(const a in n._extendedAttrs)this._extendedAttrs[a]=n._extendedAttrs[a];this.isWrapped=n.isWrapped}clone(){const n=new k(0);n._data=new Uint32Array(this._data),n.length=this.length;for(const a in this._combined)n._combined[a]=this._combined[a];for(const a in this._extendedAttrs)n._extendedAttrs[a]=this._extendedAttrs[a];return n.isWrapped=this.isWrapped,n}getTrimmedLength(){for(let n=this.length-1;n>=0;--n)if(4194303&this._data[3*n+0])return n+(this._data[3*n+0]>>22);return 0}getNoBgTrimmedLength(){for(let n=this.length-1;n>=0;--n)if(4194303&this._data[3*n+0]||50331648&this._data[3*n+2])return n+(this._data[3*n+0]>>22);return 0}copyCellsFrom(n,a,i,l,p){const b=n._data;if(p)for(let R=l-1;R>=0;R--){for(let C=0;C<3;C++)this._data[3*(i+R)+C]=b[3*(a+R)+C];268435456&b[3*(a+R)+2]&&(this._extendedAttrs[i+R]=n._extendedAttrs[a+R])}else for(let R=0;R<l;R++){for(let C=0;C<3;C++)this._data[3*(i+R)+C]=b[3*(a+R)+C];268435456&b[3*(a+R)+2]&&(this._extendedAttrs[i+R]=n._extendedAttrs[a+R])}const x=Object.keys(n._combined);for(let R=0;R<x.length;R++){const C=parseInt(x[R],10);C>=a&&(this._combined[C-a+i]=n._combined[C])}}translateToString(n,a,i,l){a=a??0,i=i??this.length,n&&(i=Math.min(i,this.getTrimmedLength())),l&&(l.length=0);let p="";for(;a<i;){const b=this._data[3*a+0],x=2097151&b,R=2097152&b?this._combined[a]:x?(0,y.stringFromCodePoint)(x):d.WHITESPACE_CELL_CHAR;if(p+=R,l)for(let C=0;C<R.length;++C)l.push(a);a+=b>>22||1}return l&&l.push(a),p}}o.BufferLine=k},4841:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(f,v){if(f.start.y>f.end.y)throw new Error(`Buffer range end (${f.end.x}, ${f.end.y}) cannot be before start (${f.start.x}, ${f.start.y})`);return v*(f.end.y-f.start.y)+(f.end.x-f.start.x+1)}},4634:(I,o)=>{function f(v,S,d){if(S===v.length-1)return v[S].getTrimmedLength();const y=!v[S].hasContent(d-1)&&v[S].getWidth(d-1)===1,w=v[S+1].getWidth(0)===2;return y&&w?d-1:d}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(v,S,d,y,w){const k=[];for(let m=0;m<v.length-1;m++){let n=m,a=v.get(++n);if(!a.isWrapped)continue;const i=[v.get(m)];for(;n<v.length&&a.isWrapped;)i.push(a),a=v.get(++n);if(y>=m&&y<n){m+=i.length-1;continue}let l=0,p=f(i,l,S),b=1,x=0;for(;b<i.length;){const C=f(i,b,S),T=C-x,z=d-p,U=Math.min(T,z);i[l].copyCellsFrom(i[b],x,p,U,!1),p+=U,p===d&&(l++,p=0),x+=U,x===C&&(b++,x=0),p===0&&l!==0&&i[l-1].getWidth(d-1)===2&&(i[l].copyCellsFrom(i[l-1],d-1,p++,1,!1),i[l-1].setCell(d-1,w))}i[l].replaceCells(p,d,w);let R=0;for(let C=i.length-1;C>0&&(C>l||i[C].getTrimmedLength()===0);C--)R++;R>0&&(k.push(m+i.length-R),k.push(R)),m+=i.length-1}return k},o.reflowLargerCreateNewLayout=function(v,S){const d=[];let y=0,w=S[y],k=0;for(let m=0;m<v.length;m++)if(w===m){const n=S[++y];v.onDeleteEmitter.fire({index:m-k,amount:n}),m+=n-1,k+=n,w=S[++y]}else d.push(m);return{layout:d,countRemoved:k}},o.reflowLargerApplyNewLayout=function(v,S){const d=[];for(let y=0;y<S.length;y++)d.push(v.get(S[y]));for(let y=0;y<d.length;y++)v.set(y,d[y]);v.length=S.length},o.reflowSmallerGetNewLineLengths=function(v,S,d){const y=[],w=v.map(((a,i)=>f(v,i,S))).reduce(((a,i)=>a+i));let k=0,m=0,n=0;for(;n<w;){if(w-n<d){y.push(w-n);break}k+=d;const a=f(v,m,S);k>a&&(k-=a,m++);const i=v[m].getWidth(k-1)===2;i&&k--;const l=i?d-1:d;y.push(l),n+=l}return y},o.getWrappedLineTrimmedLength=f},5295:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;const v=f(8460),S=f(844),d=f(9092);class y extends S.Disposable{constructor(k,m){super(),this._optionsService=k,this._bufferService=m,this._onBufferActivate=this.register(new v.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new d.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new d.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(k){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(k),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(k,m){this._normal.resize(k,m),this._alt.resize(k,m),this.setupTabStops(k)}setupTabStops(k){this._normal.setupTabStops(k),this._alt.setupTabStops(k)}}o.BufferSet=y},511:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const v=f(482),S=f(643),d=f(3734);class y extends d.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new d.ExtendedAttrs,this.combinedData=""}static fromCharData(k){const m=new y;return m.setFromCharData(k),m}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,v.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(k){this.fg=k[S.CHAR_DATA_ATTR_INDEX],this.bg=0;let m=!1;if(k[S.CHAR_DATA_CHAR_INDEX].length>2)m=!0;else if(k[S.CHAR_DATA_CHAR_INDEX].length===2){const n=k[S.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=n&&n<=56319){const a=k[S.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=a&&a<=57343?this.content=1024*(n-55296)+a-56320+65536|k[S.CHAR_DATA_WIDTH_INDEX]<<22:m=!0}else m=!0}else this.content=k[S.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|k[S.CHAR_DATA_WIDTH_INDEX]<<22;m&&(this.combinedData=k[S.CHAR_DATA_CHAR_INDEX],this.content=2097152|k[S.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=y},643:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;const v=f(8460),S=f(844);class d{get id(){return this._id}constructor(w){this.line=w,this.isDisposed=!1,this._disposables=[],this._id=d._nextId++,this._onDispose=this.register(new v.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,S.disposeArray)(this._disposables),this._disposables.length=0)}register(w){return this._disposables.push(w),w}}o.Marker=d,d._nextId=1},7116:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},o.CHARSETS.A={"#":""},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},o.CHARSETS.C=o.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.E=o.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},o.CHARSETS.H=o.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(I,o)=>{var f,v,S;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,(function(d){d.NUL="\0",d.SOH="",d.STX="",d.ETX="",d.EOT="",d.ENQ="",d.ACK="",d.BEL="\x07",d.BS="\b",d.HT="	",d.LF=`
`,d.VT="\v",d.FF="\f",d.CR="\r",d.SO="",d.SI="",d.DLE="",d.DC1="",d.DC2="",d.DC3="",d.DC4="",d.NAK="",d.SYN="",d.ETB="",d.CAN="",d.EM="",d.SUB="",d.ESC="\x1B",d.FS="",d.GS="",d.RS="",d.US="",d.SP=" ",d.DEL=""})(f||(o.C0=f={})),(function(d){d.PAD="",d.HOP="",d.BPH="",d.NBH="",d.IND="",d.NEL="",d.SSA="",d.ESA="",d.HTS="",d.HTJ="",d.VTS="",d.PLD="",d.PLU="",d.RI="",d.SS2="",d.SS3="",d.DCS="",d.PU1="",d.PU2="",d.STS="",d.CCH="",d.MW="",d.SPA="",d.EPA="",d.SOS="",d.SGCI="",d.SCI="",d.CSI="",d.ST="",d.OSC="",d.PM="",d.APC=""})(v||(o.C1=v={})),(function(d){d.ST=`${f.ESC}\\`})(S||(o.C1_ESCAPED=S={}))},7399:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;const v=f(2584),S={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(d,y,w,k){const m={type:0,cancel:!1,key:void 0},n=(d.shiftKey?1:0)|(d.altKey?2:0)|(d.ctrlKey?4:0)|(d.metaKey?8:0);switch(d.keyCode){case 0:d.key==="UIKeyInputUpArrow"?m.key=y?v.C0.ESC+"OA":v.C0.ESC+"[A":d.key==="UIKeyInputLeftArrow"?m.key=y?v.C0.ESC+"OD":v.C0.ESC+"[D":d.key==="UIKeyInputRightArrow"?m.key=y?v.C0.ESC+"OC":v.C0.ESC+"[C":d.key==="UIKeyInputDownArrow"&&(m.key=y?v.C0.ESC+"OB":v.C0.ESC+"[B");break;case 8:m.key=d.ctrlKey?"\b":v.C0.DEL,d.altKey&&(m.key=v.C0.ESC+m.key);break;case 9:if(d.shiftKey){m.key=v.C0.ESC+"[Z";break}m.key=v.C0.HT,m.cancel=!0;break;case 13:m.key=d.altKey?v.C0.ESC+v.C0.CR:v.C0.CR,m.cancel=!0;break;case 27:m.key=v.C0.ESC,d.altKey&&(m.key=v.C0.ESC+v.C0.ESC),m.cancel=!0;break;case 37:if(d.metaKey)break;n?(m.key=v.C0.ESC+"[1;"+(n+1)+"D",m.key===v.C0.ESC+"[1;3D"&&(m.key=v.C0.ESC+(w?"b":"[1;5D"))):m.key=y?v.C0.ESC+"OD":v.C0.ESC+"[D";break;case 39:if(d.metaKey)break;n?(m.key=v.C0.ESC+"[1;"+(n+1)+"C",m.key===v.C0.ESC+"[1;3C"&&(m.key=v.C0.ESC+(w?"f":"[1;5C"))):m.key=y?v.C0.ESC+"OC":v.C0.ESC+"[C";break;case 38:if(d.metaKey)break;n?(m.key=v.C0.ESC+"[1;"+(n+1)+"A",w||m.key!==v.C0.ESC+"[1;3A"||(m.key=v.C0.ESC+"[1;5A")):m.key=y?v.C0.ESC+"OA":v.C0.ESC+"[A";break;case 40:if(d.metaKey)break;n?(m.key=v.C0.ESC+"[1;"+(n+1)+"B",w||m.key!==v.C0.ESC+"[1;3B"||(m.key=v.C0.ESC+"[1;5B")):m.key=y?v.C0.ESC+"OB":v.C0.ESC+"[B";break;case 45:d.shiftKey||d.ctrlKey||(m.key=v.C0.ESC+"[2~");break;case 46:m.key=n?v.C0.ESC+"[3;"+(n+1)+"~":v.C0.ESC+"[3~";break;case 36:m.key=n?v.C0.ESC+"[1;"+(n+1)+"H":y?v.C0.ESC+"OH":v.C0.ESC+"[H";break;case 35:m.key=n?v.C0.ESC+"[1;"+(n+1)+"F":y?v.C0.ESC+"OF":v.C0.ESC+"[F";break;case 33:d.shiftKey?m.type=2:d.ctrlKey?m.key=v.C0.ESC+"[5;"+(n+1)+"~":m.key=v.C0.ESC+"[5~";break;case 34:d.shiftKey?m.type=3:d.ctrlKey?m.key=v.C0.ESC+"[6;"+(n+1)+"~":m.key=v.C0.ESC+"[6~";break;case 112:m.key=n?v.C0.ESC+"[1;"+(n+1)+"P":v.C0.ESC+"OP";break;case 113:m.key=n?v.C0.ESC+"[1;"+(n+1)+"Q":v.C0.ESC+"OQ";break;case 114:m.key=n?v.C0.ESC+"[1;"+(n+1)+"R":v.C0.ESC+"OR";break;case 115:m.key=n?v.C0.ESC+"[1;"+(n+1)+"S":v.C0.ESC+"OS";break;case 116:m.key=n?v.C0.ESC+"[15;"+(n+1)+"~":v.C0.ESC+"[15~";break;case 117:m.key=n?v.C0.ESC+"[17;"+(n+1)+"~":v.C0.ESC+"[17~";break;case 118:m.key=n?v.C0.ESC+"[18;"+(n+1)+"~":v.C0.ESC+"[18~";break;case 119:m.key=n?v.C0.ESC+"[19;"+(n+1)+"~":v.C0.ESC+"[19~";break;case 120:m.key=n?v.C0.ESC+"[20;"+(n+1)+"~":v.C0.ESC+"[20~";break;case 121:m.key=n?v.C0.ESC+"[21;"+(n+1)+"~":v.C0.ESC+"[21~";break;case 122:m.key=n?v.C0.ESC+"[23;"+(n+1)+"~":v.C0.ESC+"[23~";break;case 123:m.key=n?v.C0.ESC+"[24;"+(n+1)+"~":v.C0.ESC+"[24~";break;default:if(!d.ctrlKey||d.shiftKey||d.altKey||d.metaKey)if(w&&!k||!d.altKey||d.metaKey)!w||d.altKey||d.ctrlKey||d.shiftKey||!d.metaKey?d.key&&!d.ctrlKey&&!d.altKey&&!d.metaKey&&d.keyCode>=48&&d.key.length===1?m.key=d.key:d.key&&d.ctrlKey&&(d.key==="_"&&(m.key=v.C0.US),d.key==="@"&&(m.key=v.C0.NUL)):d.keyCode===65&&(m.type=1);else{const a=S[d.keyCode],i=a==null?void 0:a[d.shiftKey?1:0];if(i)m.key=v.C0.ESC+i;else if(d.keyCode>=65&&d.keyCode<=90){const l=d.ctrlKey?d.keyCode-64:d.keyCode+32;let p=String.fromCharCode(l);d.shiftKey&&(p=p.toUpperCase()),m.key=v.C0.ESC+p}else if(d.keyCode===32)m.key=v.C0.ESC+(d.ctrlKey?v.C0.NUL:" ");else if(d.key==="Dead"&&d.code.startsWith("Key")){let l=d.code.slice(3,4);d.shiftKey||(l=l.toLowerCase()),m.key=v.C0.ESC+l,m.cancel=!0}}else d.keyCode>=65&&d.keyCode<=90?m.key=String.fromCharCode(d.keyCode-64):d.keyCode===32?m.key=v.C0.NUL:d.keyCode>=51&&d.keyCode<=55?m.key=String.fromCharCode(d.keyCode-51+27):d.keyCode===56?m.key=v.C0.DEL:d.keyCode===219?m.key=v.C0.ESC:d.keyCode===220?m.key=v.C0.FS:d.keyCode===221&&(m.key=v.C0.GS)}return m}},482:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(f){return f>65535?(f-=65536,String.fromCharCode(55296+(f>>10))+String.fromCharCode(f%1024+56320)):String.fromCharCode(f)},o.utf32ToString=function(f,v=0,S=f.length){let d="";for(let y=v;y<S;++y){let w=f[y];w>65535?(w-=65536,d+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):d+=String.fromCharCode(w)}return d},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(f,v){const S=f.length;if(!S)return 0;let d=0,y=0;if(this._interim){const w=f.charCodeAt(y++);56320<=w&&w<=57343?v[d++]=1024*(this._interim-55296)+w-56320+65536:(v[d++]=this._interim,v[d++]=w),this._interim=0}for(let w=y;w<S;++w){const k=f.charCodeAt(w);if(55296<=k&&k<=56319){if(++w>=S)return this._interim=k,d;const m=f.charCodeAt(w);56320<=m&&m<=57343?v[d++]=1024*(k-55296)+m-56320+65536:(v[d++]=k,v[d++]=m)}else k!==65279&&(v[d++]=k)}return d}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(f,v){const S=f.length;if(!S)return 0;let d,y,w,k,m=0,n=0,a=0;if(this.interim[0]){let p=!1,b=this.interim[0];b&=(224&b)==192?31:(240&b)==224?15:7;let x,R=0;for(;(x=63&this.interim[++R])&&R<4;)b<<=6,b|=x;const C=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,T=C-R;for(;a<T;){if(a>=S)return 0;if(x=f[a++],(192&x)!=128){a--,p=!0;break}this.interim[R++]=x,b<<=6,b|=63&x}p||(C===2?b<128?a--:v[m++]=b:C===3?b<2048||b>=55296&&b<=57343||b===65279||(v[m++]=b):b<65536||b>1114111||(v[m++]=b)),this.interim.fill(0)}const i=S-4;let l=a;for(;l<S;){for(;!(!(l<i)||128&(d=f[l])||128&(y=f[l+1])||128&(w=f[l+2])||128&(k=f[l+3]));)v[m++]=d,v[m++]=y,v[m++]=w,v[m++]=k,l+=4;if(d=f[l++],d<128)v[m++]=d;else if((224&d)==192){if(l>=S)return this.interim[0]=d,m;if(y=f[l++],(192&y)!=128){l--;continue}if(n=(31&d)<<6|63&y,n<128){l--;continue}v[m++]=n}else if((240&d)==224){if(l>=S)return this.interim[0]=d,m;if(y=f[l++],(192&y)!=128){l--;continue}if(l>=S)return this.interim[0]=d,this.interim[1]=y,m;if(w=f[l++],(192&w)!=128){l--;continue}if(n=(15&d)<<12|(63&y)<<6|63&w,n<2048||n>=55296&&n<=57343||n===65279)continue;v[m++]=n}else if((248&d)==240){if(l>=S)return this.interim[0]=d,m;if(y=f[l++],(192&y)!=128){l--;continue}if(l>=S)return this.interim[0]=d,this.interim[1]=y,m;if(w=f[l++],(192&w)!=128){l--;continue}if(l>=S)return this.interim[0]=d,this.interim[1]=y,this.interim[2]=w,m;if(k=f[l++],(192&k)!=128){l--;continue}if(n=(7&d)<<18|(63&y)<<12|(63&w)<<6|63&k,n<65536||n>1114111)continue;v[m++]=n}}return m}}},225:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;const v=f(1480),S=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],d=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let y;o.UnicodeV6=class{constructor(){if(this.version="6",!y){y=new Uint8Array(65536),y.fill(1),y[0]=0,y.fill(0,1,32),y.fill(0,127,160),y.fill(2,4352,4448),y[9001]=2,y[9002]=2,y.fill(2,11904,42192),y[12351]=1,y.fill(2,44032,55204),y.fill(2,63744,64256),y.fill(2,65040,65050),y.fill(2,65072,65136),y.fill(2,65280,65377),y.fill(2,65504,65511);for(let w=0;w<S.length;++w)y.fill(0,S[w][0],S[w][1]+1)}}wcwidth(w){return w<32?0:w<127?1:w<65536?y[w]:(function(k,m){let n,a=0,i=m.length-1;if(k<m[0][0]||k>m[i][1])return!1;for(;i>=a;)if(n=a+i>>1,k>m[n][1])a=n+1;else{if(!(k<m[n][0]))return!0;i=n-1}return!1})(w,d)?0:w>=131072&&w<=196605||w>=196608&&w<=262141?2:1}charProperties(w,k){let m=this.wcwidth(w),n=m===0&&k!==0;if(n){const a=v.UnicodeService.extractWidth(k);a===0?n=!1:a>m&&(m=a)}return v.UnicodeService.createPropertyValue(0,m,n)}}},5981:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;const v=f(8460),S=f(844);class d extends S.Disposable{constructor(w){super(),this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new v.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(w,k){if(k!==void 0&&this._syncCalls>k)return void(this._syncCalls=0);if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let m;for(this._isSyncWriting=!0;m=this._writeBuffer.shift();){this._action(m);const n=this._callbacks.shift();n&&n()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(w,k){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(k),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(k)}_innerWrite(w=0,k=!0){const m=w||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const n=this._writeBuffer[this._bufferOffset],a=this._action(n,k);if(a){const l=p=>Date.now()-m>=12?setTimeout((()=>this._innerWrite(0,p))):this._innerWrite(m,p);return void a.catch((p=>(queueMicrotask((()=>{throw p})),Promise.resolve(!1)))).then(l)}const i=this._callbacks[this._bufferOffset];if(i&&i(),this._bufferOffset++,this._pendingData-=n.length,Date.now()-m>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}o.WriteBuffer=d},5941:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;const f=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,v=/^[\da-f]+$/;function S(d,y){const w=d.toString(16),k=w.length<2?"0"+w:w;switch(y){case 4:return w[0];case 8:return k;case 12:return(k+k).slice(0,3);default:return k+k}}o.parseColor=function(d){if(!d)return;let y=d.toLowerCase();if(y.indexOf("rgb:")===0){y=y.slice(4);const w=f.exec(y);if(w){const k=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/k*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/k*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/k*255)]}}else if(y.indexOf("#")===0&&(y=y.slice(1),v.exec(y)&&[3,6,9,12].includes(y.length))){const w=y.length/3,k=[0,0,0];for(let m=0;m<3;++m){const n=parseInt(y.slice(w*m,w*m+w),16);k[m]=w===1?n<<4:w===2?n:w===3?n>>4:n>>8}return k}},o.toRgbString=function(d,y=16){const[w,k,m]=d;return`rgb:${S(w,y)}/${S(k,y)}/${S(m,y)}`}},5770:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;const v=f(482),S=f(8742),d=f(5770),y=[];o.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=y,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=y}registerHandler(k,m){this._handlers[k]===void 0&&(this._handlers[k]=[]);const n=this._handlers[k];return n.push(m),{dispose:()=>{const a=n.indexOf(m);a!==-1&&n.splice(a,1)}}}clearHandler(k){this._handlers[k]&&delete this._handlers[k]}setHandlerFallback(k){this._handlerFb=k}reset(){if(this._active.length)for(let k=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;k>=0;--k)this._active[k].unhook(!1);this._stack.paused=!1,this._active=y,this._ident=0}hook(k,m){if(this.reset(),this._ident=k,this._active=this._handlers[k]||y,this._active.length)for(let n=this._active.length-1;n>=0;n--)this._active[n].hook(m);else this._handlerFb(this._ident,"HOOK",m)}put(k,m,n){if(this._active.length)for(let a=this._active.length-1;a>=0;a--)this._active[a].put(k,m,n);else this._handlerFb(this._ident,"PUT",(0,v.utf32ToString)(k,m,n))}unhook(k,m=!0){if(this._active.length){let n=!1,a=this._active.length-1,i=!1;if(this._stack.paused&&(a=this._stack.loopPosition-1,n=m,i=this._stack.fallThrough,this._stack.paused=!1),!i&&n===!1){for(;a>=0&&(n=this._active[a].unhook(k),n!==!0);a--)if(n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!1,n;a--}for(;a>=0;a--)if(n=this._active[a].unhook(!1),n instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!0,n}else this._handlerFb(this._ident,"UNHOOK",k);this._active=y,this._ident=0}};const w=new S.Params;w.addParam(0),o.DcsHandler=class{constructor(k){this._handler=k,this._data="",this._params=w,this._hitLimit=!1}hook(k){this._params=k.length>1||k.params[0]?k.clone():w,this._data="",this._hitLimit=!1}put(k,m,n){this._hitLimit||(this._data+=(0,v.utf32ToString)(k,m,n),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(k){let m=!1;if(this._hitLimit)m=!1;else if(k&&(m=this._handler(this._data,this._params),m instanceof Promise))return m.then((n=>(this._params=w,this._data="",this._hitLimit=!1,n)));return this._params=w,this._data="",this._hitLimit=!1,m}}},2015:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;const v=f(844),S=f(8742),d=f(6242),y=f(6351);class w{constructor(a){this.table=new Uint8Array(a)}setDefault(a,i){this.table.fill(a<<4|i)}add(a,i,l,p){this.table[i<<8|a]=l<<4|p}addMany(a,i,l,p){for(let b=0;b<a.length;b++)this.table[i<<8|a[b]]=l<<4|p}}o.TransitionTable=w;const k=160;o.VT500_TRANSITION_TABLE=(function(){const n=new w(4095),a=Array.apply(null,Array(256)).map(((R,C)=>C)),i=(R,C)=>a.slice(R,C),l=i(32,127),p=i(0,24);p.push(25),p.push.apply(p,i(28,32));const b=i(0,14);let x;for(x in n.setDefault(1,0),n.addMany(l,0,2,0),b)n.addMany([24,26,153,154],x,3,0),n.addMany(i(128,144),x,3,0),n.addMany(i(144,152),x,3,0),n.add(156,x,0,0),n.add(27,x,11,1),n.add(157,x,4,8),n.addMany([152,158,159],x,0,7),n.add(155,x,11,3),n.add(144,x,11,9);return n.addMany(p,0,3,0),n.addMany(p,1,3,1),n.add(127,1,0,1),n.addMany(p,8,0,8),n.addMany(p,3,3,3),n.add(127,3,0,3),n.addMany(p,4,3,4),n.add(127,4,0,4),n.addMany(p,6,3,6),n.addMany(p,5,3,5),n.add(127,5,0,5),n.addMany(p,2,3,2),n.add(127,2,0,2),n.add(93,1,4,8),n.addMany(l,8,5,8),n.add(127,8,5,8),n.addMany([156,27,24,26,7],8,6,0),n.addMany(i(28,32),8,0,8),n.addMany([88,94,95],1,0,7),n.addMany(l,7,0,7),n.addMany(p,7,0,7),n.add(156,7,0,0),n.add(127,7,0,7),n.add(91,1,11,3),n.addMany(i(64,127),3,7,0),n.addMany(i(48,60),3,8,4),n.addMany([60,61,62,63],3,9,4),n.addMany(i(48,60),4,8,4),n.addMany(i(64,127),4,7,0),n.addMany([60,61,62,63],4,0,6),n.addMany(i(32,64),6,0,6),n.add(127,6,0,6),n.addMany(i(64,127),6,0,0),n.addMany(i(32,48),3,9,5),n.addMany(i(32,48),5,9,5),n.addMany(i(48,64),5,0,6),n.addMany(i(64,127),5,7,0),n.addMany(i(32,48),4,9,5),n.addMany(i(32,48),1,9,2),n.addMany(i(32,48),2,9,2),n.addMany(i(48,127),2,10,0),n.addMany(i(48,80),1,10,0),n.addMany(i(81,88),1,10,0),n.addMany([89,90,92],1,10,0),n.addMany(i(96,127),1,10,0),n.add(80,1,11,9),n.addMany(p,9,0,9),n.add(127,9,0,9),n.addMany(i(28,32),9,0,9),n.addMany(i(32,48),9,9,12),n.addMany(i(48,60),9,8,10),n.addMany([60,61,62,63],9,9,10),n.addMany(p,11,0,11),n.addMany(i(32,128),11,0,11),n.addMany(i(28,32),11,0,11),n.addMany(p,10,0,10),n.add(127,10,0,10),n.addMany(i(28,32),10,0,10),n.addMany(i(48,60),10,8,10),n.addMany([60,61,62,63],10,0,11),n.addMany(i(32,48),10,9,12),n.addMany(p,12,0,12),n.add(127,12,0,12),n.addMany(i(28,32),12,0,12),n.addMany(i(32,48),12,9,12),n.addMany(i(48,64),12,0,11),n.addMany(i(64,127),12,12,13),n.addMany(i(64,127),10,12,13),n.addMany(i(64,127),9,12,13),n.addMany(p,13,13,13),n.addMany(l,13,13,13),n.add(127,13,0,13),n.addMany([27,156,24,26],13,14,0),n.add(k,0,2,0),n.add(k,8,5,8),n.add(k,6,0,6),n.add(k,11,0,11),n.add(k,13,13,13),n})();class m extends v.Disposable{constructor(a=o.VT500_TRANSITION_TABLE){super(),this._transitions=a,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new S.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(i,l,p)=>{},this._executeHandlerFb=i=>{},this._csiHandlerFb=(i,l)=>{},this._escHandlerFb=i=>{},this._errorHandlerFb=i=>i,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,v.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new d.OscParser),this._dcsParser=this.register(new y.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(a,i=[64,126]){let l=0;if(a.prefix){if(a.prefix.length>1)throw new Error("only one byte as prefix supported");if(l=a.prefix.charCodeAt(0),l&&60>l||l>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(a.intermediates){if(a.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let b=0;b<a.intermediates.length;++b){const x=a.intermediates.charCodeAt(b);if(32>x||x>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");l<<=8,l|=x}}if(a.final.length!==1)throw new Error("final must be a single byte");const p=a.final.charCodeAt(0);if(i[0]>p||p>i[1])throw new Error(`final must be in range ${i[0]} .. ${i[1]}`);return l<<=8,l|=p,l}identToString(a){const i=[];for(;a;)i.push(String.fromCharCode(255&a)),a>>=8;return i.reverse().join("")}setPrintHandler(a){this._printHandler=a}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(a,i){const l=this._identifier(a,[48,126]);this._escHandlers[l]===void 0&&(this._escHandlers[l]=[]);const p=this._escHandlers[l];return p.push(i),{dispose:()=>{const b=p.indexOf(i);b!==-1&&p.splice(b,1)}}}clearEscHandler(a){this._escHandlers[this._identifier(a,[48,126])]&&delete this._escHandlers[this._identifier(a,[48,126])]}setEscHandlerFallback(a){this._escHandlerFb=a}setExecuteHandler(a,i){this._executeHandlers[a.charCodeAt(0)]=i}clearExecuteHandler(a){this._executeHandlers[a.charCodeAt(0)]&&delete this._executeHandlers[a.charCodeAt(0)]}setExecuteHandlerFallback(a){this._executeHandlerFb=a}registerCsiHandler(a,i){const l=this._identifier(a);this._csiHandlers[l]===void 0&&(this._csiHandlers[l]=[]);const p=this._csiHandlers[l];return p.push(i),{dispose:()=>{const b=p.indexOf(i);b!==-1&&p.splice(b,1)}}}clearCsiHandler(a){this._csiHandlers[this._identifier(a)]&&delete this._csiHandlers[this._identifier(a)]}setCsiHandlerFallback(a){this._csiHandlerFb=a}registerDcsHandler(a,i){return this._dcsParser.registerHandler(this._identifier(a),i)}clearDcsHandler(a){this._dcsParser.clearHandler(this._identifier(a))}setDcsHandlerFallback(a){this._dcsParser.setHandlerFallback(a)}registerOscHandler(a,i){return this._oscParser.registerHandler(a,i)}clearOscHandler(a){this._oscParser.clearHandler(a)}setOscHandlerFallback(a){this._oscParser.setHandlerFallback(a)}setErrorHandler(a){this._errorHandler=a}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(a,i,l,p,b){this._parseStack.state=a,this._parseStack.handlers=i,this._parseStack.handlerPos=l,this._parseStack.transition=p,this._parseStack.chunkPos=b}parse(a,i,l){let p,b=0,x=0,R=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,R=this._parseStack.chunkPos+1;else{if(l===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const C=this._parseStack.handlers;let T=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(l===!1&&T>-1){for(;T>=0&&(p=C[T](this._params),p!==!0);T--)if(p instanceof Promise)return this._parseStack.handlerPos=T,p}this._parseStack.handlers=[];break;case 4:if(l===!1&&T>-1){for(;T>=0&&(p=C[T](),p!==!0);T--)if(p instanceof Promise)return this._parseStack.handlerPos=T,p}this._parseStack.handlers=[];break;case 6:if(b=a[this._parseStack.chunkPos],p=this._dcsParser.unhook(b!==24&&b!==26,l),p)return p;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(b=a[this._parseStack.chunkPos],p=this._oscParser.end(b!==24&&b!==26,l),p)return p;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,R=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let C=R;C<i;++C){switch(b=a[C],x=this._transitions.table[this.currentState<<8|(b<160?b:k)],x>>4){case 2:for(let F=C+1;;++F){if(F>=i||(b=a[F])<32||b>126&&b<k){this._printHandler(a,C,F),C=F-1;break}if(++F>=i||(b=a[F])<32||b>126&&b<k){this._printHandler(a,C,F),C=F-1;break}if(++F>=i||(b=a[F])<32||b>126&&b<k){this._printHandler(a,C,F),C=F-1;break}if(++F>=i||(b=a[F])<32||b>126&&b<k){this._printHandler(a,C,F),C=F-1;break}}break;case 3:this._executeHandlers[b]?this._executeHandlers[b]():this._executeHandlerFb(b),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:C,code:b,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const T=this._csiHandlers[this._collect<<8|b];let z=T?T.length-1:-1;for(;z>=0&&(p=T[z](this._params),p!==!0);z--)if(p instanceof Promise)return this._preserveStack(3,T,z,x,C),p;z<0&&this._csiHandlerFb(this._collect<<8|b,this._params),this.precedingJoinState=0;break;case 8:do switch(b){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(b-48)}while(++C<i&&(b=a[C])>47&&b<60);C--;break;case 9:this._collect<<=8,this._collect|=b;break;case 10:const U=this._escHandlers[this._collect<<8|b];let W=U?U.length-1:-1;for(;W>=0&&(p=U[W](),p!==!0);W--)if(p instanceof Promise)return this._preserveStack(4,U,W,x,C),p;W<0&&this._escHandlerFb(this._collect<<8|b),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|b,this._params);break;case 13:for(let F=C+1;;++F)if(F>=i||(b=a[F])===24||b===26||b===27||b>127&&b<k){this._dcsParser.put(a,C,F),C=F-1;break}break;case 14:if(p=this._dcsParser.unhook(b!==24&&b!==26),p)return this._preserveStack(6,[],0,x,C),p;b===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let F=C+1;;F++)if(F>=i||(b=a[F])<32||b>127&&b<k){this._oscParser.put(a,C,F),C=F-1;break}break;case 6:if(p=this._oscParser.end(b!==24&&b!==26),p)return this._preserveStack(5,[],0,x,C),p;b===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&x}}}o.EscapeSequenceParser=m},6242:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;const v=f(5770),S=f(482),d=[];o.OscParser=class{constructor(){this._state=0,this._active=d,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(y,w){this._handlers[y]===void 0&&(this._handlers[y]=[]);const k=this._handlers[y];return k.push(w),{dispose:()=>{const m=k.indexOf(w);m!==-1&&k.splice(m,1)}}}clearHandler(y){this._handlers[y]&&delete this._handlers[y]}setHandlerFallback(y){this._handlerFb=y}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=d}reset(){if(this._state===2)for(let y=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;y>=0;--y)this._active[y].end(!1);this._stack.paused=!1,this._active=d,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||d,this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].start();else this._handlerFb(this._id,"START")}_put(y,w,k){if(this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].put(y,w,k);else this._handlerFb(this._id,"PUT",(0,S.utf32ToString)(y,w,k))}start(){this.reset(),this._state=1}put(y,w,k){if(this._state!==3){if(this._state===1)for(;w<k;){const m=y[w++];if(m===59){this._state=2,this._start();break}if(m<48||57<m)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+m-48}this._state===2&&k-w>0&&this._put(y,w,k)}}end(y,w=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let k=!1,m=this._active.length-1,n=!1;if(this._stack.paused&&(m=this._stack.loopPosition-1,k=w,n=this._stack.fallThrough,this._stack.paused=!1),!n&&k===!1){for(;m>=0&&(k=this._active[m].end(y),k!==!0);m--)if(k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!1,k;m--}for(;m>=0;m--)if(k=this._active[m].end(!1),k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=m,this._stack.fallThrough=!0,k}else this._handlerFb(this._id,"END",y);this._active=d,this._id=-1,this._state=0}}},o.OscHandler=class{constructor(y){this._handler=y,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(y,w,k){this._hitLimit||(this._data+=(0,S.utf32ToString)(y,w,k),this._data.length>v.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(y){let w=!1;if(this._hitLimit)w=!1;else if(y&&(w=this._handler(this._data),w instanceof Promise))return w.then((k=>(this._data="",this._hitLimit=!1,k)));return this._data="",this._hitLimit=!1,w}}},8742:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;const f=2147483647;class v{static fromArray(d){const y=new v;if(!d.length)return y;for(let w=Array.isArray(d[0])?1:0;w<d.length;++w){const k=d[w];if(Array.isArray(k))for(let m=0;m<k.length;++m)y.addSubParam(k[m]);else y.addParam(k)}return y}constructor(d=32,y=32){if(this.maxLength=d,this.maxSubParamsLength=y,y>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(d),this.length=0,this._subParams=new Int32Array(y),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(d),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const d=new v(this.maxLength,this.maxSubParamsLength);return d.params.set(this.params),d.length=this.length,d._subParams.set(this._subParams),d._subParamsLength=this._subParamsLength,d._subParamsIdx.set(this._subParamsIdx),d._rejectDigits=this._rejectDigits,d._rejectSubDigits=this._rejectSubDigits,d._digitIsSub=this._digitIsSub,d}toArray(){const d=[];for(let y=0;y<this.length;++y){d.push(this.params[y]);const w=this._subParamsIdx[y]>>8,k=255&this._subParamsIdx[y];k-w>0&&d.push(Array.prototype.slice.call(this._subParams,w,k))}return d}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(d){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=d>f?f:d}}addSubParam(d){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=d>f?f:d,this._subParamsIdx[this.length-1]++}}hasSubParams(d){return(255&this._subParamsIdx[d])-(this._subParamsIdx[d]>>8)>0}getSubParams(d){const y=this._subParamsIdx[d]>>8,w=255&this._subParamsIdx[d];return w-y>0?this._subParams.subarray(y,w):null}getSubParamsAll(){const d={};for(let y=0;y<this.length;++y){const w=this._subParamsIdx[y]>>8,k=255&this._subParamsIdx[y];k-w>0&&(d[y]=this._subParams.slice(w,k))}return d}addDigit(d){let y;if(this._rejectDigits||!(y=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const w=this._digitIsSub?this._subParams:this.params,k=w[y-1];w[y-1]=~k?Math.min(10*k+d,f):d}}o.Params=v},5741:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0,o.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let f=this._addons.length-1;f>=0;f--)this._addons[f].instance.dispose()}loadAddon(f,v){const S={instance:v,dispose:v.dispose,isDisposed:!1};this._addons.push(S),v.dispose=()=>this._wrappedAddonDispose(S),v.activate(f)}_wrappedAddonDispose(f){if(f.isDisposed)return;let v=-1;for(let S=0;S<this._addons.length;S++)if(this._addons[S]===f){v=S;break}if(v===-1)throw new Error("Could not dispose an addon that has not been loaded");f.isDisposed=!0,f.dispose.apply(f.instance),this._addons.splice(v,1)}}},8771:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;const v=f(3785),S=f(511);o.BufferApiView=class{constructor(d,y){this._buffer=d,this.type=y}init(d){return this._buffer=d,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(d){const y=this._buffer.lines.get(d);if(y)return new v.BufferLineApiView(y)}getNullCell(){return new S.CellData}}},3785:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;const v=f(511);o.BufferLineApiView=class{constructor(S){this._line=S}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(S,d){if(!(S<0||S>=this._line.length))return d?(this._line.loadCell(S,d),d):this._line.loadCell(S,new v.CellData)}translateToString(S,d,y){return this._line.translateToString(S,d,y)}}},8285:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;const v=f(8771),S=f(8460),d=f(844);class y extends d.Disposable{constructor(k){super(),this._core=k,this._onBufferChange=this.register(new S.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new v.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new v.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}o.BufferNamespaceApi=y},7975:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0,o.ParserApi=class{constructor(f){this._core=f}registerCsiHandler(f,v){return this._core.registerCsiHandler(f,(S=>v(S.toArray())))}addCsiHandler(f,v){return this.registerCsiHandler(f,v)}registerDcsHandler(f,v){return this._core.registerDcsHandler(f,((S,d)=>v(S,d.toArray())))}addDcsHandler(f,v){return this.registerDcsHandler(f,v)}registerEscHandler(f,v){return this._core.registerEscHandler(f,v)}addEscHandler(f,v){return this.registerEscHandler(f,v)}registerOscHandler(f,v){return this._core.registerOscHandler(f,v)}addOscHandler(f,v){return this.registerOscHandler(f,v)}}},7090:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0,o.UnicodeApi=class{constructor(f){this._core=f}register(f){this._core.unicodeService.register(f)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(f){this._core.unicodeService.activeVersion=f}}},744:function(I,o,f){var v=this&&this.__decorate||function(n,a,i,l){var p,b=arguments.length,x=b<3?a:l===null?l=Object.getOwnPropertyDescriptor(a,i):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(n,a,i,l);else for(var R=n.length-1;R>=0;R--)(p=n[R])&&(x=(b<3?p(x):b>3?p(a,i,x):p(a,i))||x);return b>3&&x&&Object.defineProperty(a,i,x),x},S=this&&this.__param||function(n,a){return function(i,l){a(i,l,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;const d=f(8460),y=f(844),w=f(5295),k=f(2585);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;let m=o.BufferService=class extends y.Disposable{get buffer(){return this.buffers.active}constructor(n){super(),this.isUserScrolling=!1,this._onResize=this.register(new d.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(n.rawOptions.cols||0,o.MINIMUM_COLS),this.rows=Math.max(n.rawOptions.rows||0,o.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(n,this))}resize(n,a){this.cols=n,this.rows=a,this.buffers.resize(n,a),this._onResize.fire({cols:n,rows:a})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(n,a=!1){const i=this.buffer;let l;l=this._cachedBlankLine,l&&l.length===this.cols&&l.getFg(0)===n.fg&&l.getBg(0)===n.bg||(l=i.getBlankLine(n,a),this._cachedBlankLine=l),l.isWrapped=a;const p=i.ybase+i.scrollTop,b=i.ybase+i.scrollBottom;if(i.scrollTop===0){const x=i.lines.isFull;b===i.lines.length-1?x?i.lines.recycle().copyFrom(l):i.lines.push(l.clone()):i.lines.splice(b+1,0,l.clone()),x?this.isUserScrolling&&(i.ydisp=Math.max(i.ydisp-1,0)):(i.ybase++,this.isUserScrolling||i.ydisp++)}else{const x=b-p+1;i.lines.shiftElements(p+1,x-1,-1),i.lines.set(b,l.clone())}this.isUserScrolling||(i.ydisp=i.ybase),this._onScroll.fire(i.ydisp)}scrollLines(n,a,i){const l=this.buffer;if(n<0){if(l.ydisp===0)return;this.isUserScrolling=!0}else n+l.ydisp>=l.ybase&&(this.isUserScrolling=!1);const p=l.ydisp;l.ydisp=Math.max(Math.min(l.ydisp+n,l.ybase),0),p!==l.ydisp&&(a||this._onScroll.fire(l.ydisp))}};o.BufferService=m=v([S(0,k.IOptionsService)],m)},7994:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0,o.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(f){this.glevel=f,this.charset=this._charsets[f]}setgCharset(f,v){this._charsets[f]=v,this.glevel===f&&(this.charset=v)}}},1753:function(I,o,f){var v=this&&this.__decorate||function(l,p,b,x){var R,C=arguments.length,T=C<3?p:x===null?x=Object.getOwnPropertyDescriptor(p,b):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(l,p,b,x);else for(var z=l.length-1;z>=0;z--)(R=l[z])&&(T=(C<3?R(T):C>3?R(p,b,T):R(p,b))||T);return C>3&&T&&Object.defineProperty(p,b,T),T},S=this&&this.__param||function(l,p){return function(b,x){p(b,x,l)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;const d=f(2585),y=f(8460),w=f(844),k={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:l=>l.button!==4&&l.action===1&&(l.ctrl=!1,l.alt=!1,l.shift=!1,!0)},VT200:{events:19,restrict:l=>l.action!==32},DRAG:{events:23,restrict:l=>l.action!==32||l.button!==3},ANY:{events:31,restrict:l=>!0}};function m(l,p){let b=(l.ctrl?16:0)|(l.shift?4:0)|(l.alt?8:0);return l.button===4?(b|=64,b|=l.action):(b|=3&l.button,4&l.button&&(b|=64),8&l.button&&(b|=128),l.action===32?b|=32:l.action!==0||p||(b|=3)),b}const n=String.fromCharCode,a={DEFAULT:l=>{const p=[m(l,!1)+32,l.col+32,l.row+32];return p[0]>255||p[1]>255||p[2]>255?"":`\x1B[M${n(p[0])}${n(p[1])}${n(p[2])}`},SGR:l=>{const p=l.action===0&&l.button!==4?"m":"M";return`\x1B[<${m(l,!0)};${l.col};${l.row}${p}`},SGR_PIXELS:l=>{const p=l.action===0&&l.button!==4?"m":"M";return`\x1B[<${m(l,!0)};${l.x};${l.y}${p}`}};let i=o.CoreMouseService=class extends w.Disposable{constructor(l,p){super(),this._bufferService=l,this._coreService=p,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new y.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const b of Object.keys(k))this.addProtocol(b,k[b]);for(const b of Object.keys(a))this.addEncoding(b,a[b]);this.reset()}addProtocol(l,p){this._protocols[l]=p}addEncoding(l,p){this._encodings[l]=p}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(l){if(!this._protocols[l])throw new Error(`unknown protocol "${l}"`);this._activeProtocol=l,this._onProtocolChange.fire(this._protocols[l].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(l){if(!this._encodings[l])throw new Error(`unknown encoding "${l}"`);this._activeEncoding=l}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(l){if(l.col<0||l.col>=this._bufferService.cols||l.row<0||l.row>=this._bufferService.rows||l.button===4&&l.action===32||l.button===3&&l.action!==32||l.button!==4&&(l.action===2||l.action===3)||(l.col++,l.row++,l.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,l,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(l))return!1;const p=this._encodings[this._activeEncoding](l);return p&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(p):this._coreService.triggerDataEvent(p,!0)),this._lastEvent=l,!0}explainEvents(l){return{down:!!(1&l),up:!!(2&l),drag:!!(4&l),move:!!(8&l),wheel:!!(16&l)}}_equalEvents(l,p,b){if(b){if(l.x!==p.x||l.y!==p.y)return!1}else if(l.col!==p.col||l.row!==p.row)return!1;return l.button===p.button&&l.action===p.action&&l.ctrl===p.ctrl&&l.alt===p.alt&&l.shift===p.shift}};o.CoreMouseService=i=v([S(0,d.IBufferService),S(1,d.ICoreService)],i)},6975:function(I,o,f){var v=this&&this.__decorate||function(i,l,p,b){var x,R=arguments.length,C=R<3?l:b===null?b=Object.getOwnPropertyDescriptor(l,p):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(i,l,p,b);else for(var T=i.length-1;T>=0;T--)(x=i[T])&&(C=(R<3?x(C):R>3?x(l,p,C):x(l,p))||C);return R>3&&C&&Object.defineProperty(l,p,C),C},S=this&&this.__param||function(i,l){return function(p,b){l(p,b,i)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;const d=f(1439),y=f(8460),w=f(844),k=f(2585),m=Object.freeze({insertMode:!1}),n=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let a=o.CoreService=class extends w.Disposable{constructor(i,l,p){super(),this._bufferService=i,this._logService=l,this._optionsService=p,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new y.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new y.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new y.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new y.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,d.clone)(m),this.decPrivateModes=(0,d.clone)(n)}reset(){this.modes=(0,d.clone)(m),this.decPrivateModes=(0,d.clone)(n)}triggerDataEvent(i,l=!1){if(this._optionsService.rawOptions.disableStdin)return;const p=this._bufferService.buffer;l&&this._optionsService.rawOptions.scrollOnUserInput&&p.ybase!==p.ydisp&&this._onRequestScrollToBottom.fire(),l&&this._onUserInput.fire(),this._logService.debug(`sending data "${i}"`,(()=>i.split("").map((b=>b.charCodeAt(0))))),this._onData.fire(i)}triggerBinaryEvent(i){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${i}"`,(()=>i.split("").map((l=>l.charCodeAt(0))))),this._onBinary.fire(i))}};o.CoreService=a=v([S(0,k.IBufferService),S(1,k.ILogService),S(2,k.IOptionsService)],a)},9074:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;const v=f(8055),S=f(8460),d=f(844),y=f(6106);let w=0,k=0;class m extends d.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new y.SortedList((i=>i==null?void 0:i.marker.line)),this._onDecorationRegistered=this.register(new S.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new S.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,d.toDisposable)((()=>this.reset())))}registerDecoration(i){if(i.marker.isDisposed)return;const l=new n(i);if(l){const p=l.marker.onDispose((()=>l.dispose()));l.onDispose((()=>{l&&(this._decorations.delete(l)&&this._onDecorationRemoved.fire(l),p.dispose())})),this._decorations.insert(l),this._onDecorationRegistered.fire(l)}return l}reset(){for(const i of this._decorations.values())i.dispose();this._decorations.clear()}*getDecorationsAtCell(i,l,p){let b=0,x=0;for(const R of this._decorations.getKeyIterator(l))b=R.options.x??0,x=b+(R.options.width??1),i>=b&&i<x&&(!p||(R.options.layer??"bottom")===p)&&(yield R)}forEachDecorationAtCell(i,l,p,b){this._decorations.forEachByKey(l,(x=>{w=x.options.x??0,k=w+(x.options.width??1),i>=w&&i<k&&(!p||(x.options.layer??"bottom")===p)&&b(x)}))}}o.DecorationService=m;class n extends d.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=v.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=v.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(i){super(),this.options=i,this.onRenderEmitter=this.register(new S.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new S.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=i.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;const v=f(2585),S=f(8343);class d{constructor(...w){this._entries=new Map;for(const[k,m]of w)this.set(k,m)}set(w,k){const m=this._entries.get(w);return this._entries.set(w,k),m}forEach(w){for(const[k,m]of this._entries.entries())w(k,m)}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}o.ServiceCollection=d,o.InstantiationService=class{constructor(){this._services=new d,this._services.set(v.IInstantiationService,this)}setService(y,w){this._services.set(y,w)}getService(y){return this._services.get(y)}createInstance(y,...w){const k=(0,S.getServiceDependencies)(y).sort(((a,i)=>a.index-i.index)),m=[];for(const a of k){const i=this._services.get(a.id);if(!i)throw new Error(`[createInstance] ${y.name} depends on UNKNOWN service ${a.id}.`);m.push(i)}const n=k.length>0?k[0].index:w.length;if(w.length!==n)throw new Error(`[createInstance] First service dependency of ${y.name} at position ${n+1} conflicts with ${w.length} static arguments`);return new y(...w,...m)}}},7866:function(I,o,f){var v=this&&this.__decorate||function(n,a,i,l){var p,b=arguments.length,x=b<3?a:l===null?l=Object.getOwnPropertyDescriptor(a,i):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(n,a,i,l);else for(var R=n.length-1;R>=0;R--)(p=n[R])&&(x=(b<3?p(x):b>3?p(a,i,x):p(a,i))||x);return b>3&&x&&Object.defineProperty(a,i,x),x},S=this&&this.__param||function(n,a){return function(i,l){a(i,l,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const d=f(844),y=f(2585),w={trace:y.LogLevelEnum.TRACE,debug:y.LogLevelEnum.DEBUG,info:y.LogLevelEnum.INFO,warn:y.LogLevelEnum.WARN,error:y.LogLevelEnum.ERROR,off:y.LogLevelEnum.OFF};let k,m=o.LogService=class extends d.Disposable{get logLevel(){return this._logLevel}constructor(n){super(),this._optionsService=n,this._logLevel=y.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),k=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(n){for(let a=0;a<n.length;a++)typeof n[a]=="function"&&(n[a]=n[a]())}_log(n,a,i){this._evalLazyOptionalParams(i),n.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+a,...i)}trace(n,...a){var i;this._logLevel<=y.LogLevelEnum.TRACE&&this._log(((i=this._optionsService.options.logger)==null?void 0:i.trace.bind(this._optionsService.options.logger))??console.log,n,a)}debug(n,...a){var i;this._logLevel<=y.LogLevelEnum.DEBUG&&this._log(((i=this._optionsService.options.logger)==null?void 0:i.debug.bind(this._optionsService.options.logger))??console.log,n,a)}info(n,...a){var i;this._logLevel<=y.LogLevelEnum.INFO&&this._log(((i=this._optionsService.options.logger)==null?void 0:i.info.bind(this._optionsService.options.logger))??console.info,n,a)}warn(n,...a){var i;this._logLevel<=y.LogLevelEnum.WARN&&this._log(((i=this._optionsService.options.logger)==null?void 0:i.warn.bind(this._optionsService.options.logger))??console.warn,n,a)}error(n,...a){var i;this._logLevel<=y.LogLevelEnum.ERROR&&this._log(((i=this._optionsService.options.logger)==null?void 0:i.error.bind(this._optionsService.options.logger))??console.error,n,a)}};o.LogService=m=v([S(0,y.IOptionsService)],m),o.setTraceLogger=function(n){k=n},o.traceCall=function(n,a,i){if(typeof i.value!="function")throw new Error("not supported");const l=i.value;i.value=function(...p){if(k.logLevel!==y.LogLevelEnum.TRACE)return l.apply(this,p);k.trace(`GlyphRenderer#${l.name}(${p.map((x=>JSON.stringify(x))).join(", ")})`);const b=l.apply(this,p);return k.trace(`GlyphRenderer#${l.name} return`,b),b}}},7302:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=void 0;const v=f(8460),S=f(844),d=f(6114);o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:d.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const y=["normal","bold","100","200","300","400","500","600","700","800","900"];class w extends S.Disposable{constructor(m){super(),this._onOptionChange=this.register(new v.EventEmitter),this.onOptionChange=this._onOptionChange.event;const n={...o.DEFAULT_OPTIONS};for(const a in m)if(a in n)try{const i=m[a];n[a]=this._sanitizeAndValidateOption(a,i)}catch(i){console.error(i)}this.rawOptions=n,this.options={...n},this._setupOptions(),this.register((0,S.toDisposable)((()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null})))}onSpecificOptionChange(m,n){return this.onOptionChange((a=>{a===m&&n(this.rawOptions[m])}))}onMultipleOptionChange(m,n){return this.onOptionChange((a=>{m.indexOf(a)!==-1&&n()}))}_setupOptions(){const m=a=>{if(!(a in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${a}"`);return this.rawOptions[a]},n=(a,i)=>{if(!(a in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${a}"`);i=this._sanitizeAndValidateOption(a,i),this.rawOptions[a]!==i&&(this.rawOptions[a]=i,this._onOptionChange.fire(a))};for(const a in this.rawOptions){const i={get:m.bind(this,a),set:n.bind(this,a)};Object.defineProperty(this.options,a,i)}}_sanitizeAndValidateOption(m,n){switch(m){case"cursorStyle":if(n||(n=o.DEFAULT_OPTIONS[m]),!(function(a){return a==="block"||a==="underline"||a==="bar"})(n))throw new Error(`"${n}" is not a valid value for ${m}`);break;case"wordSeparator":n||(n=o.DEFAULT_OPTIONS[m]);break;case"fontWeight":case"fontWeightBold":if(typeof n=="number"&&1<=n&&n<=1e3)break;n=y.includes(n)?n:o.DEFAULT_OPTIONS[m];break;case"cursorWidth":n=Math.floor(n);case"lineHeight":case"tabStopWidth":if(n<1)throw new Error(`${m} cannot be less than 1, value: ${n}`);break;case"minimumContrastRatio":n=Math.max(1,Math.min(21,Math.round(10*n)/10));break;case"scrollback":if((n=Math.min(n,4294967295))<0)throw new Error(`${m} cannot be less than 0, value: ${n}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(n<=0)throw new Error(`${m} cannot be less than or equal to 0, value: ${n}`);break;case"rows":case"cols":if(!n&&n!==0)throw new Error(`${m} must be numeric, value: ${n}`);break;case"windowsPty":n=n??{}}return n}}o.OptionsService=w},2660:function(I,o,f){var v=this&&this.__decorate||function(w,k,m,n){var a,i=arguments.length,l=i<3?k:n===null?n=Object.getOwnPropertyDescriptor(k,m):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(w,k,m,n);else for(var p=w.length-1;p>=0;p--)(a=w[p])&&(l=(i<3?a(l):i>3?a(k,m,l):a(k,m))||l);return i>3&&l&&Object.defineProperty(k,m,l),l},S=this&&this.__param||function(w,k){return function(m,n){k(m,n,w)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkService=void 0;const d=f(2585);let y=o.OscLinkService=class{constructor(w){this._bufferService=w,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(w){const k=this._bufferService.buffer;if(w.id===void 0){const p=k.addMarker(k.ybase+k.y),b={data:w,id:this._nextId++,lines:[p]};return p.onDispose((()=>this._removeMarkerFromLink(b,p))),this._dataByLinkId.set(b.id,b),b.id}const m=w,n=this._getEntryIdKey(m),a=this._entriesWithId.get(n);if(a)return this.addLineToLink(a.id,k.ybase+k.y),a.id;const i=k.addMarker(k.ybase+k.y),l={id:this._nextId++,key:this._getEntryIdKey(m),data:m,lines:[i]};return i.onDispose((()=>this._removeMarkerFromLink(l,i))),this._entriesWithId.set(l.key,l),this._dataByLinkId.set(l.id,l),l.id}addLineToLink(w,k){const m=this._dataByLinkId.get(w);if(m&&m.lines.every((n=>n.line!==k))){const n=this._bufferService.buffer.addMarker(k);m.lines.push(n),n.onDispose((()=>this._removeMarkerFromLink(m,n)))}}getLinkData(w){var k;return(k=this._dataByLinkId.get(w))==null?void 0:k.data}_getEntryIdKey(w){return`${w.id};;${w.uri}`}_removeMarkerFromLink(w,k){const m=w.lines.indexOf(k);m!==-1&&(w.lines.splice(m,1),w.lines.length===0&&(w.data.id!==void 0&&this._entriesWithId.delete(w.key),this._dataByLinkId.delete(w.id)))}};o.OscLinkService=y=v([S(0,d.IBufferService)],y)},8343:(I,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const f="di$target",v="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(S){return S[v]||[]},o.createDecorator=function(S){if(o.serviceRegistry.has(S))return o.serviceRegistry.get(S);const d=function(y,w,k){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(m,n,a){n[f]===n?n[v].push({id:m,index:a}):(n[v]=[{id:m,index:a}],n[f]=n)})(d,y,k)};return d.toString=()=>S,o.serviceRegistry.set(S,d),d}},2585:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const v=f(8343);var S;o.IBufferService=(0,v.createDecorator)("BufferService"),o.ICoreMouseService=(0,v.createDecorator)("CoreMouseService"),o.ICoreService=(0,v.createDecorator)("CoreService"),o.ICharsetService=(0,v.createDecorator)("CharsetService"),o.IInstantiationService=(0,v.createDecorator)("InstantiationService"),(function(d){d[d.TRACE=0]="TRACE",d[d.DEBUG=1]="DEBUG",d[d.INFO=2]="INFO",d[d.WARN=3]="WARN",d[d.ERROR=4]="ERROR",d[d.OFF=5]="OFF"})(S||(o.LogLevelEnum=S={})),o.ILogService=(0,v.createDecorator)("LogService"),o.IOptionsService=(0,v.createDecorator)("OptionsService"),o.IOscLinkService=(0,v.createDecorator)("OscLinkService"),o.IUnicodeService=(0,v.createDecorator)("UnicodeService"),o.IDecorationService=(0,v.createDecorator)("DecorationService")},1480:(I,o,f)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;const v=f(8460),S=f(225);class d{static extractShouldJoin(w){return(1&w)!=0}static extractWidth(w){return w>>1&3}static extractCharKind(w){return w>>3}static createPropertyValue(w,k,m=!1){return(16777215&w)<<3|(3&k)<<1|(m?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new v.EventEmitter,this.onChange=this._onChange.event;const w=new S.UnicodeV6;this.register(w),this._active=w.version,this._activeProvider=w}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(w){if(!this._providers[w])throw new Error(`unknown Unicode version "${w}"`);this._active=w,this._activeProvider=this._providers[w],this._onChange.fire(w)}register(w){this._providers[w.version]=w}wcwidth(w){return this._activeProvider.wcwidth(w)}getStringCellWidth(w){let k=0,m=0;const n=w.length;for(let a=0;a<n;++a){let i=w.charCodeAt(a);if(55296<=i&&i<=56319){if(++a>=n)return k+this.wcwidth(i);const b=w.charCodeAt(a);56320<=b&&b<=57343?i=1024*(i-55296)+b-56320+65536:k+=this.wcwidth(b)}const l=this.charProperties(i,m);let p=d.extractWidth(l);d.extractShouldJoin(l)&&(p-=d.extractWidth(m)),k+=p,m=l}return k}charProperties(w,k){return this._activeProvider.charProperties(w,k)}}o.UnicodeService=d}},E={};function A(I){var o=E[I];if(o!==void 0)return o.exports;var f=E[I]={exports:{}};return _[I].call(f.exports,f,f.exports,A),f.exports}var j={};return(()=>{var I=j;Object.defineProperty(I,"__esModule",{value:!0}),I.Terminal=void 0;const o=A(9042),f=A(3236),v=A(844),S=A(5741),d=A(8285),y=A(7975),w=A(7090),k=["cols","rows"];class m extends v.Disposable{constructor(a){super(),this._core=this.register(new f.Terminal(a)),this._addonManager=this.register(new S.AddonManager),this._publicOptions={...this._core.options};const i=p=>this._core.options[p],l=(p,b)=>{this._checkReadonlyOptions(p),this._core.options[p]=b};for(const p in this._core.options){const b={get:i.bind(this,p),set:l.bind(this,p)};Object.defineProperty(this._publicOptions,p,b)}}_checkReadonlyOptions(a){if(k.includes(a))throw new Error(`Option "${a}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new y.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new w.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new d.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const a=this._core.coreService.decPrivateModes;let i="none";switch(this._core.coreMouseService.activeProtocol){case"X10":i="x10";break;case"VT200":i="vt200";break;case"DRAG":i="drag";break;case"ANY":i="any"}return{applicationCursorKeysMode:a.applicationCursorKeys,applicationKeypadMode:a.applicationKeypad,bracketedPasteMode:a.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:i,originMode:a.origin,reverseWraparoundMode:a.reverseWraparound,sendFocusMode:a.sendFocus,wraparoundMode:a.wraparound}}get options(){return this._publicOptions}set options(a){for(const i in a)this._publicOptions[i]=a[i]}blur(){this._core.blur()}focus(){this._core.focus()}input(a,i=!0){this._core.input(a,i)}resize(a,i){this._verifyIntegers(a,i),this._core.resize(a,i)}open(a){this._core.open(a)}attachCustomKeyEventHandler(a){this._core.attachCustomKeyEventHandler(a)}attachCustomWheelEventHandler(a){this._core.attachCustomWheelEventHandler(a)}registerLinkProvider(a){return this._core.registerLinkProvider(a)}registerCharacterJoiner(a){return this._checkProposedApi(),this._core.registerCharacterJoiner(a)}deregisterCharacterJoiner(a){this._checkProposedApi(),this._core.deregisterCharacterJoiner(a)}registerMarker(a=0){return this._verifyIntegers(a),this._core.registerMarker(a)}registerDecoration(a){return this._checkProposedApi(),this._verifyPositiveIntegers(a.x??0,a.width??0,a.height??0),this._core.registerDecoration(a)}hasSelection(){return this._core.hasSelection()}select(a,i,l){this._verifyIntegers(a,i,l),this._core.select(a,i,l)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(a,i){this._verifyIntegers(a,i),this._core.selectLines(a,i)}dispose(){super.dispose()}scrollLines(a){this._verifyIntegers(a),this._core.scrollLines(a)}scrollPages(a){this._verifyIntegers(a),this._core.scrollPages(a)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(a){this._verifyIntegers(a),this._core.scrollToLine(a)}clear(){this._core.clear()}write(a,i){this._core.write(a,i)}writeln(a,i){this._core.write(a),this._core.write(`\r
`,i)}paste(a){this._core.paste(a)}refresh(a,i){this._verifyIntegers(a,i),this._core.refresh(a,i)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(a){this._addonManager.loadAddon(this,a)}static get strings(){return o}_verifyIntegers(...a){for(const i of a)if(i===1/0||isNaN(i)||i%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...a){for(const i of a)if(i&&(i===1/0||isNaN(i)||i%1!=0||i<0))throw new Error("This API only accepts positive integers")}}I.Terminal=m})(),j})()))})(Al)),Al.exports}var Om=Am(),Ol={exports:{}},wd;function Bm(){return wd||(wd=1,(function(u,c){(function(_,E){u.exports=E()})(self,(()=>(()=>{var _={};return(()=>{var E=_;Object.defineProperty(E,"__esModule",{value:!0}),E.FitAddon=void 0,E.FitAddon=class{activate(A){this._terminal=A}dispose(){}fit(){const A=this.proposeDimensions();if(!A||!this._terminal||isNaN(A.cols)||isNaN(A.rows))return;const j=this._terminal._core;this._terminal.rows===A.rows&&this._terminal.cols===A.cols||(j._renderService.clear(),this._terminal.resize(A.cols,A.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const A=this._terminal._core,j=A._renderService.dimensions;if(j.css.cell.width===0||j.css.cell.height===0)return;const I=this._terminal.options.scrollback===0?0:A.viewport.scrollBarWidth,o=window.getComputedStyle(this._terminal.element.parentElement),f=parseInt(o.getPropertyValue("height")),v=Math.max(0,parseInt(o.getPropertyValue("width"))),S=window.getComputedStyle(this._terminal.element),d=f-(parseInt(S.getPropertyValue("padding-top"))+parseInt(S.getPropertyValue("padding-bottom"))),y=v-(parseInt(S.getPropertyValue("padding-right"))+parseInt(S.getPropertyValue("padding-left")))-I;return{cols:Math.max(2,Math.floor(y/j.css.cell.width)),rows:Math.max(1,Math.floor(d/j.css.cell.height))}}}})(),_})()))})(Ol)),Ol.exports}var Im=Bm();const Io=Bo(u=>({terminal:null,isConnected:!1,connectedSession:null,ctrlActive:!1,altActive:!1,shiftActive:!1,setTerminal:c=>u({terminal:c}),setIsConnected:c=>u({isConnected:c}),setConnectedSession:c=>u({connectedSession:c}),toggleCtrl:()=>u(c=>({ctrlActive:!c.ctrlActive})),toggleAlt:()=>u(c=>({altActive:!c.altActive})),toggleShift:()=>u(c=>({shiftActive:!c.shiftActive})),clearModifiers:()=>u({ctrlActive:!1,altActive:!1,shiftActive:!1})}));function Nm({sessionName:u,cols:c=120,rows:_=30}){const E=pe.useRef(null),{terminal:A,setIsConnected:j,setConnectedSession:I}=Io(),{setIsConnecting:o}=Ut(),f=kr(d=>d.token),v=pe.useCallback(d=>{var y;((y=E.current)==null?void 0:y.readyState)===WebSocket.OPEN&&E.current.send(JSON.stringify({type:"data",data:d}))},[]),S=pe.useCallback((d,y)=>{var w;((w=E.current)==null?void 0:w.readyState)===WebSocket.OPEN&&E.current.send(JSON.stringify({type:"resize",cols:d,rows:y}))},[]);return pe.useEffect(()=>{if(!u||!A)return;o(!0),j(!1);const d=window.location.protocol==="https:"?"wss:":"ws:",y=window.location.host,w=f?`&token=${encodeURIComponent(f)}`:"",k=`${d}//${y}/ws?session=${encodeURIComponent(u)}&cols=${c}&rows=${_}${w}`,m=new WebSocket(k);E.current=m,m.onopen=()=>{console.log(`Terminal WebSocket connected to ${u}`)},m.onmessage=a=>{try{const i=JSON.parse(a.data);switch(i.type){case"attached":j(!0),o(!1),I(u);break;case"data":A.write(i.data);break;case"detached":j(!1),I(null),A.write(`\r
\x1B[33m[Terminal detached: ${i.reason}]\x1B[0m\r
`);break}}catch(i){console.error("Error parsing terminal message:",i)}},m.onclose=()=>{console.log("Terminal WebSocket closed"),j(!1),o(!1),I(null),E.current=null},m.onerror=a=>{console.error("Terminal WebSocket error:",a),o(!1)};const n=A.onData(a=>{v(a)});return()=>{n.dispose(),(m.readyState===WebSocket.OPEN||m.readyState===WebSocket.CONNECTING)&&m.close(),E.current=null}},[u,A,c,_,v,j,o,I]),{send:v,resize:S,ws:E.current}}function jm({sessionName:u}){return O.jsxs("div",{className:"absolute inset-0 bg-bg flex flex-col items-center justify-center z-10 font-mono",children:[O.jsx("div",{className:"text-accent text-[13px] mb-3",children:u?`Connecting to ${u}...`:"Select a session"}),u&&O.jsx("div",{className:"flex gap-[3px]",children:[...Array(8)].map((c,_)=>O.jsx("span",{className:"w-1.5 h-4 bg-accent",style:{opacity:.2,animation:"co-pulse 0.8s ease-in-out infinite",animationDelay:`${_*.1}s`}},_))}),u&&O.jsx("div",{className:"text-text-dim text-[11px] mt-2.5",children:u})]})}const Fm=[{label:"Ctrl",modifier:"ctrl",sticky:!0},{label:"Alt",modifier:"alt",sticky:!0},{label:"Tab",send:"	"},{label:"Esc",send:"\x1B"},{label:"",send:"\x1B[A"},{label:"",send:"\x1B[B"},{label:"",send:"\x1B[D"},{label:"",send:"\x1B[C"},{label:"Home",send:"\x1B[H"},{label:"End",send:"\x1B[F"},{label:"PgUp",send:"\x1B[5~"},{label:"PgDn",send:"\x1B[6~"},{label:"Del",send:"\x1B[3~"},{label:"C-c",send:""},{label:"C-d",send:""},{label:"C-z",send:""}];function Hm(){const{terminal:u,ctrlActive:c,altActive:_,shiftActive:E,toggleCtrl:A,toggleAlt:j,toggleShift:I,clearModifiers:o}=Io(),f=S=>{if(u){if(S.modifier){switch(S.modifier){case"ctrl":A();break;case"alt":j();break;case"shift":I();break}return}if(S.send){let d=S.send;if(c&&d.length===1){const y=d.charCodeAt(0);y>=64&&y<=95?d=String.fromCharCode(y-64):y>=97&&y<=122&&(d=String.fromCharCode(y-96))}u.paste(d),o()}}},v=S=>{if(!S)return!1;switch(S){case"ctrl":return c;case"alt":return _;case"shift":return E}};return O.jsx("div",{className:"flex gap-1 px-2 py-1.5 bg-surface flex-shrink-0 overflow-x-auto scrollbar-none",children:Fm.map(S=>O.jsx("button",{className:st("vkey",S.sticky&&v(S.modifier)&&"sticky active"),onClick:()=>f(S),children:S.label},S.label))})}function af(){var y,w,k,m;const u=pe.useRef(null),c=pe.useRef(null),_=pe.useRef(null),{terminal:E,setTerminal:A,isConnected:j}=Io(),{currentSession:I}=Wt(),{isConnecting:o,theme:f}=Ut(),v=((w=(y=_.current)==null?void 0:y.proposeDimensions())==null?void 0:w.cols)??120,S=((m=(k=_.current)==null?void 0:k.proposeDimensions())==null?void 0:m.rows)??30,{resize:d}=Nm({sessionName:I,cols:v,rows:S});return pe.useEffect(()=>{if(!u.current||c.current)return;const n=new Om.Terminal({cursorBlink:!0,fontSize:14,fontFamily:"'JetBrains Mono', 'Fira Code', monospace",theme:{background:f==="dark"?"#09090b":"#f8f8fa",foreground:f==="dark"?"#ececf1":"#1a1a2e",cursor:f==="dark"?"#ececf1":"#1a1a2e",cursorAccent:f==="dark"?"#09090b":"#f8f8fa",selectionBackground:f==="dark"?"rgba(99, 102, 241, 0.3)":"rgba(79, 70, 229, 0.3)"}}),a=new Im.FitAddon;n.loadAddon(a),n.open(u.current),setTimeout(()=>{a.fit()},0),c.current=n,_.current=a,A(n);const i=()=>{a.fit();const p=a.proposeDimensions();p&&d(p.cols,p.rows)};window.addEventListener("resize",i);const l=new ResizeObserver(i);return l.observe(u.current),()=>{window.removeEventListener("resize",i),l.disconnect(),n.dispose(),c.current=null,_.current=null,A(null)}},[A,d,f]),pe.useEffect(()=>{E&&(E.options.theme={background:f==="dark"?"#09090b":"#f8f8fa",foreground:f==="dark"?"#ececf1":"#1a1a2e",cursor:f==="dark"?"#ececf1":"#1a1a2e",cursorAccent:f==="dark"?"#09090b":"#f8f8fa",selectionBackground:f==="dark"?"rgba(99, 102, 241, 0.3)":"rgba(79, 70, 229, 0.3)"})},[f,E]),O.jsxs("div",{className:"flex-1 flex flex-col min-h-0 h-full bg-bg relative",children:[O.jsx("div",{ref:u,className:"flex-1 min-h-0 h-full p-1"}),(o||!j&&I)&&O.jsx(jm,{sessionName:I}),O.jsx(Hm,{})]})}function zm(){const u=Vd(),c=kr(o=>o.token),[_,E]=pe.useState("checking"),A=async()=>{var o,f;try{const S=await(await fetch("/api/code/status",{headers:c?{Authorization:`Bearer ${c}`}:{}})).json();((o=S.data)==null?void 0:o.running)===!0?E("running"):((f=S.data)==null?void 0:f.installed)===!1?E("not-installed"):E("stopped")}catch{E("stopped")}};pe.useEffect(()=>{A();const o=setInterval(A,5e3);return()=>clearInterval(o)},[c]);const j=async()=>{E("starting");try{(await(await fetch("/api/code/start",{method:"POST",headers:c?{Authorization:`Bearer ${c}`}:{}})).json()).success?setTimeout(A,2e3):E("stopped")}catch{E("stopped")}};if(!u)return O.jsxs("div",{className:"flex-1 h-full flex items-center justify-center flex-col gap-2 text-text-dim text-[13px]",children:[O.jsx("div",{className:"text-[40px] opacity-30",children:""}),O.jsx("p",{children:"Select a session to open in code editor"}),O.jsx("p",{className:"text-[11px] opacity-60",children:"code-server will be embedded here"})]});if(_==="checking")return O.jsxs("div",{className:"flex-1 h-full flex items-center justify-center flex-col gap-2 text-text-dim text-[13px]",children:[O.jsx("div",{className:"text-[40px] opacity-30",children:""}),O.jsx("p",{children:"Checking code-server status..."})]});if(_==="not-installed")return O.jsxs("div",{className:"flex-1 h-full flex items-center justify-center flex-col gap-3 text-text-dim text-[13px]",children:[O.jsx("div",{className:"text-[40px] opacity-30",children:""}),O.jsx("p",{className:"font-medium",children:"code-server not installed"}),O.jsx("p",{className:"text-[11px] opacity-60 max-w-xs text-center",children:"Install code-server to use the integrated editor:"}),O.jsx("code",{className:"bg-bg-secondary px-3 py-2 rounded text-[11px] font-mono",children:"curl -fsSL https://code-server.dev/install.sh | sh"})]});if(_==="stopped")return O.jsxs("div",{className:"flex-1 h-full flex items-center justify-center flex-col gap-3 text-text-dim text-[13px]",children:[O.jsx("div",{className:"text-[40px] opacity-30",children:""}),O.jsx("p",{className:"font-medium",children:"code-server not running"}),O.jsx("button",{onClick:j,className:"mt-2 px-4 py-2 bg-accent text-white rounded hover:bg-accent/90 transition-colors text-[13px]",children:"Start code-server"})]});if(_==="starting")return O.jsxs("div",{className:"flex-1 h-full flex items-center justify-center flex-col gap-2 text-text-dim text-[13px]",children:[O.jsx("div",{className:"text-[40px] opacity-30 animate-pulse",children:""}),O.jsx("p",{children:"Starting code-server..."})]});const I=ev(u.projectPath);return O.jsx("div",{className:"flex-1 flex flex-col bg-bg min-h-0 h-full",children:O.jsx("iframe",{src:I,className:"w-full h-full border-none flex-1",allow:"clipboard-read; clipboard-write"})})}function lf(){const u=pe.useRef(null),{previewUrl:c,setPreviewUrl:_,previewPort:E,setPreviewPort:A,setPreviewFromPort:j}=Ut(),{ports:I,updateSession:o}=Wt(),f=Vd(),[v,S]=pe.useState(c);pe.useEffect(()=>{f&&j(f.previewPort)},[f==null?void 0:f.name,f==null?void 0:f.previewPort,j]),pe.useEffect(()=>{S(c)},[c]);const d=I.filter(a=>a.port>=3e3&&a.port<=9e3&&a.port!==3131),y=a=>{a.preventDefault(),_(v)},w=()=>{u.current&&(u.current.src=c)},k=()=>{c&&window.open(c,"_blank")},m=()=>{var a,i;u.current&&((i=(a=u.current).requestFullscreen)==null||i.call(a))},n=async a=>{const i=oc(a);if(_(i),S(i),A(a),f){o(f.name,{previewPort:a});try{await un.setPreviewPort(f.name,a)}catch{}}};return O.jsxs("div",{className:"flex-1 flex flex-col bg-bg min-h-0 h-full",children:[O.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-surface flex-shrink-0",children:[O.jsxs("form",{onSubmit:y,className:"flex-1 flex gap-1",children:[O.jsx("input",{type:"text",className:"input flex-1 py-1.5",placeholder:"http://localhost:3000",value:v,onChange:a=>S(a.target.value)}),O.jsx("button",{type:"submit",className:"btn py-1.5 px-3",children:"Go"})]}),d.slice(0,3).map(a=>O.jsx("button",{className:st("btn py-1.5 px-2 font-mono text-[11px]",E===a.port&&"btn-primary"),onClick:()=>n(a.port),children:a.port},a.port)),O.jsx("button",{className:"btn py-1.5 px-2",onClick:w,title:"Refresh",children:O.jsx(Oo,{className:"w-4 h-4"})}),O.jsx("button",{className:"btn py-1.5 px-2",onClick:k,title:"Open in new tab",children:O.jsx(wv,{className:"w-4 h-4"})}),O.jsx("button",{className:"btn py-1.5 px-2",onClick:m,title:"Fullscreen",children:O.jsx(Ev,{className:"w-4 h-4"})})]}),O.jsx("div",{className:"flex-1 min-h-0 h-full relative",children:c?O.jsx("iframe",{ref:u,src:c,className:"w-full h-full border-none",sandbox:"allow-same-origin allow-scripts allow-forms allow-popups"}):O.jsxs("div",{className:"flex items-center justify-center h-full text-text-dim text-[13px] flex-col gap-2.5 p-5 text-center",children:[O.jsx("div",{className:"text-[32px] opacity-20",children:""}),O.jsx("p",{children:"Enter a URL or select a port to preview"}),O.jsx("p",{className:"text-[11px] opacity-50",children:"Development server will appear here"})]})})]})}function Um(){const[u,c]=pe.useState(50),[_,E]=pe.useState(!1),A=pe.useRef(null),[j,I]=pe.useState(!1);pe.useEffect(()=>{const d=()=>I(window.innerWidth<=600);return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const o=pe.useCallback((d,y)=>{if(!A.current)return null;const w=A.current.getBoundingClientRect();let k;return j?k=(y-w.top)/w.height*100:k=(d-w.left)/w.width*100,Math.min(Math.max(k,20),80)},[j]),f=d=>{d.preventDefault(),d.target.setPointerCapture(d.pointerId),E(!0)},v=d=>{if(!_)return;const y=o(d.clientX,d.clientY);y!==null&&c(y)},S=d=>{_&&(d.target.releasePointerCapture(d.pointerId),E(!1))};return O.jsxs("div",{ref:A,className:st("flex-1 flex overflow-hidden h-full",j?"flex-col":"flex-row"),children:[O.jsx("div",{className:"overflow-hidden h-full flex flex-col",style:{[j?"height":"width"]:`${u}%`,flexShrink:0},children:O.jsx(af,{})}),O.jsx("div",{className:st("flex-shrink-0 flex items-center justify-center bg-transparent touch-none",j?"h-2 w-full cursor-row-resize":"w-2 h-full cursor-col-resize",_&&"bg-accent/20"),onPointerDown:f,onPointerMove:v,onPointerUp:S,onPointerCancel:S,children:O.jsx("div",{className:st("bg-surface-2 transition-colors",_&&"bg-accent",j?"w-8 h-[3px]":"h-8 w-[3px]")})}),O.jsx("div",{className:"flex-1 overflow-hidden h-full flex flex-col",children:O.jsx(lf,{})})]})}function Wm(){const{viewMode:u}=Ut();return O.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden","data-view":u,children:[u==="dashboard"&&O.jsx(Mm,{}),u==="terminal"&&O.jsx(af,{}),u==="code"&&O.jsx(zm,{}),u==="preview"&&O.jsx(lf,{}),u==="split"&&O.jsx(Um,{})]})}function $m(){const{isConnected:u,connectedSession:c}=Io(),{sessions:_}=Wt(),E=_.filter(j=>j.alive).length,A=_.length;return O.jsxs("div",{className:"flex items-center gap-4 px-3 py-1 bg-surface text-[11px] font-mono text-text-dim flex-shrink-0",children:[O.jsxs("div",{className:"flex items-center gap-1.5",children:[O.jsx("div",{className:st("w-2 h-2 rounded-full",u?"bg-success":"bg-text-dim")}),O.jsx("span",{children:u?`Connected to ${c}`:"Not connected"})]}),O.jsxs("span",{children:[E,"/",A," sessions"]}),O.jsx("div",{className:"flex-1"}),O.jsx("span",{className:"opacity-50",children:"v2.0.0"})]})}function Km(){const[u,c]=pe.useState(""),[_,E]=pe.useState(""),[A,j]=pe.useState(""),[I,o]=pe.useState(""),[f,v]=pe.useState(!1),{login:S}=kr(),d=async y=>{if(y.preventDefault(),o(""),_!==A){o("Passwords do not match");return}if(_.length<6){o("Password must be at least 6 characters");return}v(!0);try{const w=await Ao.setup(u,_);S(w.user,w.token)}catch(w){o(w instanceof Error?w.message:"Setup failed")}finally{v(!1)}};return O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-bg p-4",children:O.jsx("div",{className:"w-full max-w-md",children:O.jsxs("div",{className:"bg-surface rounded-lg border border-border p-8",children:[O.jsxs("div",{className:"text-center mb-8",children:[O.jsx("h1",{className:"text-2xl font-bold text-text mb-2",children:"Welcome to VibeManager"}),O.jsx("p",{className:"text-text-dim text-sm",children:"Create your admin account to get started"})]}),O.jsxs("form",{onSubmit:d,className:"space-y-4",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-text mb-1",children:"Username"}),O.jsx("input",{id:"username",type:"text",className:"input w-full",value:u,onChange:y=>c(y.target.value),placeholder:"Enter username",required:!0,minLength:3,autoFocus:!0})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text mb-1",children:"Password"}),O.jsx("input",{id:"password",type:"password",className:"input w-full",value:_,onChange:y=>E(y.target.value),placeholder:"Enter password",required:!0,minLength:6})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-text mb-1",children:"Confirm Password"}),O.jsx("input",{id:"confirmPassword",type:"password",className:"input w-full",value:A,onChange:y=>j(y.target.value),placeholder:"Confirm password",required:!0})]}),I&&O.jsx("div",{className:"text-red-500 text-sm bg-red-500/10 border border-red-500/20 rounded p-2",children:I}),O.jsx("button",{type:"submit",className:"btn btn-primary w-full py-2",disabled:f,children:f?"Creating account...":"Create Account"})]}),O.jsx("p",{className:"text-text-dim text-xs text-center mt-6",children:"This is a one-time setup. You can add more users later."})]})})})}function Vm(){const[u,c]=pe.useState(""),[_,E]=pe.useState(""),[A,j]=pe.useState(""),[I,o]=pe.useState(!1),{login:f}=kr(),v=async S=>{S.preventDefault(),j(""),o(!0);try{const d=await Ao.login(u,_);f(d.user,d.token)}catch(d){j(d instanceof Error?d.message:"Login failed")}finally{o(!1)}};return O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-bg p-4",children:O.jsx("div",{className:"w-full max-w-md",children:O.jsxs("div",{className:"bg-surface rounded-lg border border-border p-8",children:[O.jsxs("div",{className:"text-center mb-8",children:[O.jsx("h1",{className:"text-2xl font-bold text-text mb-2",children:"VibeManager"}),O.jsx("p",{className:"text-text-dim text-sm",children:"Sign in to continue"})]}),O.jsxs("form",{onSubmit:v,className:"space-y-4",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-text mb-1",children:"Username"}),O.jsx("input",{id:"username",type:"text",className:"input w-full",value:u,onChange:S=>c(S.target.value),placeholder:"Enter username",required:!0,autoFocus:!0})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text mb-1",children:"Password"}),O.jsx("input",{id:"password",type:"password",className:"input w-full",value:_,onChange:S=>E(S.target.value),placeholder:"Enter password",required:!0})]}),A&&O.jsx("div",{className:"text-red-500 text-sm bg-red-500/10 border border-red-500/20 rounded p-2",children:A}),O.jsx("button",{type:"submit",className:"btn btn-primary w-full py-2",disabled:I,children:I?"Signing in...":"Sign In"})]})]})})})}function qm(){const{theme:u}=Ut();return iv(),pe.useEffect(()=>{document.documentElement.setAttribute("data-theme",u),localStorage.setItem("vm_theme",u)},[u]),O.jsxs("div",{className:"flex flex-col h-full",children:[O.jsx(km,{}),O.jsx(Rm,{}),O.jsx(Wm,{}),O.jsx($m,{})]})}function Qm(){const{theme:u}=Ut(),{isAuthenticated:c,setupRequired:_,setSetupRequired:E,setIsLoading:A,token:j,logout:I}=kr(),[o,f]=pe.useState(!0);return pe.useEffect(()=>{document.documentElement.setAttribute("data-theme",u),localStorage.setItem("vm_theme",u)},[u]),pe.useEffect(()=>{const v=localStorage.getItem("vm_theme");v&&Ut.getState().setTheme(v)},[]),pe.useEffect(()=>{async function v(){try{const{setupRequired:S}=await Ao.getSetupStatus();if(E(S),!S&&j)try{await Ao.me()}catch{I()}}catch(S){console.error("Failed to check auth status:",S)}finally{A(!1),f(!1)}}v()},[]),o?O.jsx("div",{className:"min-h-screen flex items-center justify-center bg-bg",children:O.jsx("div",{className:"text-text-dim",children:"Loading..."})}):_?O.jsx(Km,{}):c?O.jsx(qm,{}):O.jsx(Vm,{})}const Gm=new N_({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5e3}}});f_.createRoot(document.getElementById("root")).render(O.jsx(ln.StrictMode,{children:O.jsx(j_,{client:Gm,children:O.jsx(Qm,{})})}));
